{"device":"Communications","url":"http:\/\/makeprojects.com\/Project\/Eyeboard+Electrooculography+%28EOG%29+System\/1686\/1","guide":{"author":{"text":"Luis Cruz","userid":9709},"categories":["Communications","Circuits"],"conclusion":"<p>I'm still improving this EOG system, including looking for ways to make it more comfortable to wear. I\u2019m pleased to have developed a system for less than $200 that enables disabled people to communicate, when commercial versions of the same cost a minimum of $10,000.<\/p>\n\n<p><strong>This project was the subject of an article in <a href=\"http:\/\/www.makezine.com\/29\">MAKE Volume 29<\/a>, page 60.<\/strong><\/p>","difficulty":"Moderate","documents":[{"text":"circuit.pdf","url":"http:\/\/make-documents.s3.amazonaws.com\/t3HBdGgrPCNNLdL6.pdf","documentid":230}],"flags":[{"title":"From MAKE Magazine","flagid":"FROM_MAKE","text":"This project first appeared on the pages of MAKE magazine."}],"guideid":1686,"image":{"imageid":34396,"text":"http:\/\/guide-images.makeprojects.org\/igi\/4XYqAi1iMM2ru3fK"},"introduction":"<p><strong>Note: Be sure to check out the <a href=\"http:\/\/www.kickstarter.com\/projects\/lcruz\/the-eyeboard-0\" rel=\"nofollow\">Kickstarter campaign of the Eyeboard project<\/a>.<\/strong><\/p>\n\n<p>This is an inexpensive yet reliable human-computer interface that detects eye movements using electrooculogra<wbr \/>phy (EOG), a biomedical technique based on picking up signals from electrodes placed around the eyes. EOG interfaces let users who can\u2019t manipulate a mouse or trackpad with their hands move a cursor on a computer screen.<\/p>\n\n<p>An Electrooculogra<wbr \/>m or EOG is the resulting signal of the potential difference caused by eye movements. The voltage difference is measured between the cornea and the retina. The resting potential ranges from 0.4mV to 1mV and a pair of electrodes are commonly used to detect this signal, but the voltage difference when there's an eye movement can be as small as just some microvolts. Depending on the eyes' position, an electrode is more positive or negative with respect to the ground electrode. Therefore, the recorded signal is either negative or positive when moving the eyes.<\/p>\n\n<p>Due to the fact that an oscilloscope or a CPU cannot detect such small voltages, an EOG system must amplify those voltages in order to get a readable signal. However, other problems such as unwanted signal (noise) arise, such as the 60Hz  signal (if you are in America) caused by the AC electrical devices. Therefore, electronic filters should be used in order to attenuate noise after amplification.<\/p>\n\n<p>The system relies mostly in three important factors: the differential voltage from the electrodes, noise, and offset. In electronics, these three \u201cpower sources\u201d can be summed in order to estimate the output voltage.<\/p>","introduction_rendered":"<p><strong>Note: Be sure to check out the <a href=\"http:\/\/www.kickstarter.com\/projects\/lcruz\/the-eyeboard-0\" rel=\"nofollow\">Kickstarter campaign of the Eyeboard project<\/a>.<\/strong><\/p>\n\n<p>This is an inexpensive yet reliable human-computer interface that detects eye movements using electrooculogra<wbr \/>phy (EOG), a biomedical technique based on picking up signals from electrodes placed around the eyes. EOG interfaces let users who can\u2019t manipulate a mouse or trackpad with their hands move a cursor on a computer screen.<\/p>\n\n<p>An Electrooculogra<wbr \/>m or EOG is the resulting signal of the potential difference caused by eye movements. The voltage difference is measured between the cornea and the retina. The resting potential ranges from 0.4mV to 1mV and a pair of electrodes are commonly used to detect this signal, but the voltage difference when there's an eye movement can be as small as just some microvolts. Depending on the eyes' position, an electrode is more positive or negative with respect to the ground electrode. Therefore, the recorded signal is either negative or positive when moving the eyes.<\/p>\n\n<p>Due to the fact that an oscilloscope or a CPU cannot detect such small voltages, an EOG system must amplify those voltages in order to get a readable signal. However, other problems such as unwanted signal (noise) arise, such as the 60Hz  signal (if you are in America) caused by the AC electrical devices. Therefore, electronic filters should be used in order to attenuate noise after amplification.<\/p>\n\n<p>The system relies mostly in three important factors: the differential voltage from the electrodes, noise, and offset. In electronics, these three \u201cpower sources\u201d can be summed in order to estimate the output voltage.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/ATMega328_P-PU\">ATMega328 P-PU<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Instrument_amp_INA118P\">Instrument amp, INA118P<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Op-amp_LM358N\">Op-amp, LM358N<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/USB-Serial_adapter\">USB-Serial adapter<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Op-amp_LM741CN_N\">Op-amp, LM741CN\/N<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062599\">Voltage regulator, 5V, 7805<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Crystal_14.7456_MHz\">Crystal, 14.7456 MHz<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Power_supply_12V_3.6W\">Power supply, 12V, 3.6W<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Switch_SPDT_slide\">Switch, SPDT slide<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2049745\">Hookup wire, 22 gauge, multiple colors<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062236\">Mini alligator clip jumpers<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/PCB_or_solderless_breadboard\">PCB or solderless breadboard<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Electrodes_medical\">Electrodes, medical<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/100_ohm_1_4W_5_resistor_%28brown_black_brown_gold%29\">100 ohm 1\/4W 5% resistor (brown black brown gold)<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Resistor_27k_ohm\">Resistor, 27k ohm<\/a><\/li><li><a href=\"https:\/\/www.jameco.com\/webapp\/wcs\/stores\/servlet\/Product_10001_10001_691286_-1\">1\/4W 56k ohm resistor<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/1_4W_5_100K_resistor\">1\/4W 5% 100K resistor<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Resistor_10M_ohm\">Resistor, 10M ohm<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Capacitors_0.1%CE%BCF\">Capacitors: 0.1\u03bcF<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"ATMega328 P-PU","notes":"","url":"http:\/\/makeprojects.com\/Item\/ATMega328_P-PU","thumbnail":""},{"text":"Instrument amp, INA118P","notes":"","url":"http:\/\/makeprojects.com\/Item\/Instrument_amp_INA118P","thumbnail":""},{"text":"Op-amp, LM358N","notes":"","url":"http:\/\/makeprojects.com\/Item\/Op-amp_LM358N","thumbnail":""},{"text":"USB-Serial adapter","notes":"","url":"http:\/\/makeprojects.com\/Item\/USB-Serial_adapter","thumbnail":""},{"text":"Op-amp, LM741CN\/N","notes":"","url":"http:\/\/makeprojects.com\/Item\/Op-amp_LM741CN_N","thumbnail":""},{"text":"Voltage regulator, 5V, 7805","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062599","thumbnail":""},{"text":"Crystal, 14.7456 MHz","notes":"","url":"http:\/\/makeprojects.com\/Item\/Crystal_14.7456_MHz","thumbnail":""},{"text":"Power supply, 12V, 3.6W","notes":"","url":"http:\/\/makeprojects.com\/Item\/Power_supply_12V_3.6W","thumbnail":""},{"text":"Switch, SPDT slide","notes":"","url":"http:\/\/makeprojects.com\/Item\/Switch_SPDT_slide","thumbnail":""},{"text":"Hookup wire, 22 gauge, multiple colors","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2049745","thumbnail":""},{"text":"Mini alligator clip jumpers","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062236","thumbnail":""},{"text":"PCB or solderless breadboard","notes":"","url":"http:\/\/makeprojects.com\/Item\/PCB_or_solderless_breadboard","thumbnail":""},{"text":"Electrodes, medical","notes":"","url":"http:\/\/makeprojects.com\/Item\/Electrodes_medical","thumbnail":""},{"text":"100 ohm 1\/4W 5% resistor (brown black brown gold)","notes":"","url":"http:\/\/makeprojects.com\/Item\/100_ohm_1_4W_5_resistor_%28brown_black_brown_gold%29","thumbnail":""},{"text":"Resistor, 27k ohm","notes":"","url":"http:\/\/makeprojects.com\/Item\/Resistor_27k_ohm","thumbnail":""},{"text":"1\/4W 56k ohm resistor","notes":"","url":"https:\/\/www.jameco.com\/webapp\/wcs\/stores\/servlet\/Product_10001_10001_691286_-1","thumbnail":""},{"text":"1\/4W 5% 100K resistor","notes":"","url":"http:\/\/makeprojects.com\/Item\/1_4W_5_100K_resistor","thumbnail":""},{"text":"Resistor, 10M ohm","notes":"","url":"http:\/\/makeprojects.com\/Item\/Resistor_10M_ohm","thumbnail":""},{"text":"Capacitors: 0.1\u03bcF","notes":"","url":"http:\/\/makeprojects.com\/Item\/Capacitors_0.1%CE%BCF","thumbnail":""}],"prereqs":[],"steps":[{"title":"Make the amplifier.","lines":[{"text":"For this and other electronics steps, refer to the <a href=\"http:\/\/makeprojects.com\/Project\/Document\/Meta\/t3HBdGgrPCNNLdL6\" rel=\"nofollow\">schematic diagram<\/a>.","text_raw":"For this and other electronics steps, refer to the [http:\/\/makeprojects.com\/Project\/Document\/Meta\/t3HBdGgrPCNNLdL6|schematic diagram].","bullet":"icon_note","level":0},{"text":"When working with such low voltages, amplification gain is needed, specially when working with bioelectrical signals. Differential amplifiers are handy tools when it comes to obtaining an EOG signal. A differential amplifier is an electronic filter that amplifies the difference between two voltages.","text_raw":"When working with such low voltages, amplification gain is needed, specially when working with bioelectrical signals. Differential amplifiers are handy tools when it comes to obtaining an EOG signal. A differential amplifier is an electronic filter that amplifies the difference between two voltages.","bullet":"black","level":0},{"text":"The instrumentation amplifier, INA118, is one of the best options out there for biomedical systems. Its 3-op amp design make it a powerful tool with a high gain and a high CMRR (Common mode Rejection Ratio), thus making it a perfect solution for this application. The 110dB CMRR of the INA118 (at a gain of 1000), eliminates common signals that go in both inputs, hence removing some noise.","text_raw":"The instrumentation amplifier, INA118, is one of the best options out there for biomedical systems. Its 3-op amp design make it a powerful tool with a high gain and a high CMRR (Common mode Rejection Ratio), thus making it a perfect solution for this application. The 110dB CMRR of the INA118 (at a gain of 1000), eliminates common signals that go in both inputs, hence removing some noise.","bullet":"black","level":0},{"text":"Start by connecting the gain resistor in pin 8 and 1. Gain is calculated by the following formula:","text_raw":"Start by connecting the gain resistor in pin 8 and 1. Gain is calculated by the following formula:","bullet":"black","level":0},{"text":"G = 1 + (50kohm\/Rg)","text_raw":"G = 1 + (50kohm\/Rg)","bullet":"black","level":1},{"text":"I am using a gain resistor of 100ohm, thus a gain of 501. After the circuit is completed, you will need to connect the electrode to PINS 3, 2 and 5 of the INA118.","text_raw":"I am using a gain resistor of 100ohm, thus a gain of 501. After the circuit is completed, you will need to connect the electrode to PINS 3, 2 and 5 of the INA118.","bullet":"black","level":0}],"object":null,"images":[{"imageid":37772,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/2QUewDXfXLMLwhDg"}],"number":1},{"title":"Make the filters (noise reduction).","lines":[{"text":"Noise reduction is the process of removing a signal that is not needed, that is, removing unwanted perturbation of a signal. Usually noise comes at a high frequency so it's more likely that you'd need low-pass filters in an EOG system in order to block higher frequencies. A low pass filter is a filter that passes low frequency signals but attenuates signals with frequencies higher than the determined cutoff frequency. The cutoff frequency is the limit in the frequency response at which the energy flowing through the system begins to be attenuated.","text_raw":"Noise reduction is the process of removing a signal that is not needed, that is, removing unwanted perturbation of a signal. Usually noise comes at a high frequency so it's more likely that you'd need low-pass filters in an EOG system in order to block higher frequencies. A low pass filter is a filter that passes low frequency signals but attenuates signals with frequencies higher than the determined cutoff frequency. The cutoff frequency is the limit in the frequency response at which the energy flowing through the system begins to be attenuated.","bullet":"black","level":0},{"text":"The general formula I used to calculate the cutoff frequency is:","text_raw":"The general formula I used to calculate the cutoff frequency is:","bullet":"black","level":0},{"text":"1\u00f7[(2*pi*R1+R2...+Rx*C1+C2...C<wbr \/>x)^(1\/n)]","text_raw":"1\u00f7[(2*pi*R1+R2...+Rx*C1+C2...Cx)^(1\/n)]","bullet":"black","level":1},{"text":"Where R is the resistance used in the filter in ohms, C is the capacitance in Farads, and n is the order of the filter, or the number of reactive components used in the filter (the number of capacitors). 2\u03c0 is the change from Radians to a full cycle; the cutoff frequency is thus represented in Hertz.","text_raw":"Where R is the resistance used in the filter in ohms, C is the capacitance in Farads, and n is the order of the filter, or the number of reactive components used in the filter (the number of capacitors). 2\u03c0 is the change from Radians to a full cycle; the cutoff frequency is thus represented in Hertz.","bullet":"black","level":0},{"text":"On this project a second order filter was used. For simplicity's sake and to achieve a better filter, two passive low pass filters were put in cascade, both with a cutoff frequency of around 16 Hz:","text_raw":"On this project a second order filter was used. For simplicity's sake and to achieve a better filter, two passive low pass filters were put in cascade, both with a cutoff frequency of around 16 Hz:","bullet":"black","level":0},{"text":"1\u00f7[(2*pi*100k\u03a9*0.1\u03bcf)]","text_raw":"1\u00f7[(2*pi*100k\u03a9*0.1\u03bcf)]","bullet":"black","level":1},{"text":"1\u00f7[(2*3.1416*100000\u03a9*0.0000001<wbr \/>F)] ~ 15.9Hz","text_raw":"1\u00f7[(2*3.1416*100000\u03a9*0.0000001F)] ~ 15.9Hz","bullet":"black","level":1}],"object":null,"images":[{"imageid":34387,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/SypJR1NRIvyTHZLH"}],"number":2},{"title":"Remove the DC bias.","lines":[{"text":"There's a resting potential between the eyes. This \u201cconstant\u201d voltage varies depending on  several factors such as light, eyes' size, skin conductivity, etc.","text_raw":"There's a resting potential between the eyes. This \u201cconstant\u201d voltage varies depending on  several factors such as light, eyes' size, skin conductivity, etc.","bullet":"black","level":0},{"text":"After the amplification process, the resting potential is as well amplified, but it is something not wanted on the EOG signal. On this project the system should be able to read the eye horizontal movements and it's therefore measured as a signal with a slope. To remove the unwanted DC offset and to be able to read just the slope in the waveform, a small capacitor is added.","text_raw":"After the amplification process, the resting potential is as well amplified, but it is something not wanted on the EOG signal. On this project the system should be able to read the eye horizontal movements and it's therefore measured as a signal with a slope. To remove the unwanted DC offset and to be able to read just the slope in the waveform, a small capacitor is added.","bullet":"black","level":0},{"text":"The current (measured in Amperes) that passes through a capacitor is defined by:","text_raw":"The current (measured in Amperes) that passes through a capacitor is defined by:","bullet":"black","level":0},{"text":"I = C * dv\/dt","text_raw":"I = C * dv\/dt","bullet":"black","level":1},{"text":"The current is defined as the capacitance times the rate of change of the voltage that passes through a capacitor, hence when the derivative of the constant potential is zero (the derivative of a constant value is = 0 ) the voltage after the capacitor is going to be equal to zero.","text_raw":"The current is defined as the capacitance times the rate of change of the voltage that passes through a capacitor, hence when the derivative of the constant potential is zero (the derivative of a constant value is = 0 ) the voltage after the capacitor is going to be equal to zero.","bullet":"black","level":0}],"object":null,"images":[{"imageid":37773,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/jO1mQuGpC4xZCBlD"}],"number":3},{"title":"Voltage Follower and Dual-Polarity Power Supply","lines":[{"text":"The voltage follower circuit enables you to connect a higher source impedance device than the EOG output's impedance. This is useful to connect an oscilloscope\/multimeter or any other device used for troubleshooting. This is used with a gain of zero.","text_raw":"The voltage follower circuit enables you to connect a higher source impedance device than the EOG output's impedance. This is useful to connect an oscilloscope\/multimeter or any other device used for troubleshooting. This is used with a gain of zero.","bullet":"black","level":0},{"text":"An operational amplifier needs an offset so it can work correctly, especially in this case while working with negative and positive voltages. Adding a simple offset would make the reading unstable because of the fact that the resting potential in the electrodes is not constant but depends on several environmental factors.","text_raw":"An operational amplifier needs an offset so it can work correctly, especially in this case while working with negative and positive voltages. Adding a simple offset would make the reading unstable because of the fact that the resting potential in the electrodes is not constant but depends on several environmental factors.","bullet":"black","level":0},{"text":"To solve this issue, op amps need to work with a dual polarity supply, that is, positive and negative voltage with respect to virtual ground. To lower costs and complexity, I used a little \u201ctrick\u201d to solve the offset problem, adding a couple of 7805 voltage regulators to eliminate the need for a dual power supply.","text_raw":"To solve this issue, op amps need to work with a dual polarity supply, that is, positive and negative voltage with respect to virtual ground. To lower costs and complexity, I used a little \u201ctrick\u201d to solve the offset problem, adding a couple of 7805 voltage regulators to eliminate the need for a dual power supply.","bullet":"black","level":0},{"text":"The idea is to adjust a virtual ground with two 7805's, having 10 volts as an output, and 5 Volts in the middle set as virtual ground with another 7805, thus having a +5V, and a -5V, with respect to virtual ground.","text_raw":"The idea is to adjust a virtual ground with two 7805's, having 10 volts as an output, and 5 Volts in the middle set as virtual ground with another 7805, thus having a +5V, and a -5V, with respect to virtual ground.","bullet":"black","level":0}],"object":null,"images":[{"imageid":37777,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/CU4EPLmSnlFlfJHi"}],"number":4},{"title":"Software: Programming the MCU","lines":[{"text":"Being able to monitor the EOG signal on an oscilloscope can be pretty cool, but that's just the beginning of what the real purpose of the project is.","text_raw":"Being able to monitor the EOG signal on an oscilloscope can be pretty cool, but that's just the beginning of what the real purpose of the project is.","bullet":"black","level":0},{"text":"In order to read the slope of the waveform when the eyes are moved horizontally, I am using the ADC of an Atmega328P microcontroller and sending that data to the computer using the serial port. A Python script then reads the data and sends it to a C++ graphical user interface where the user can choose letters with simple eye movements.","text_raw":"In order to read the slope of the waveform when the eyes are moved horizontally, I am using the ADC of an Atmega328P microcontroller and sending that data to the computer using the serial port. A Python script then reads the data and sends it to a C++ graphical user interface where the user can choose letters with simple eye movements.","bullet":"black","level":0},{"text":"In order to read the EOG signal, the microcontroller should be programmed as an ADC and then you should be able to send that data to the computer.","text_raw":"In order to read the EOG signal, the microcontroller should be programmed as an ADC and then you should be able to send that data to the computer.","bullet":"black","level":0}],"object":null,"images":[{"imageid":37774,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/yUDsPCvVXWcLhxGQ"}],"number":5},{"title":"","lines":[{"text":"If you are using the USB-Serial cable included in my kit (you can also get it on the nerdkits website, go to <a href=\"http:\/\/intelsath.com\/\" rel=\"nofollow\">my website<\/a> and look for the NerdKits' store link in the external links section), and a microcontroller with no bootloader, start by burning the bootloader with an ISP programmer or use the following &quot;hack&quot;:","text_raw":"If you are using the USB-Serial cable included in my kit (you can also get it on the nerdkits website, go to [http:\/\/intelsath.com\/|my website] and look for the NerdKits' store link in the external links section), and a microcontroller with no bootloader, start by burning the bootloader with an ISP programmer or use the following \"hack\":","bullet":"black","level":0},{"text":"Use the parallel port to burn the bootloader into the MCU.","text_raw":"Use the parallel port to burn the bootloader into the MCU.","bullet":"black","level":0},{"text":"To program the MCU with the bootloader included, remove the wire on MCU pin 1 (the RESET line), and plug the parallel port wires in as follows:","text_raw":"To program the MCU with the bootloader included, remove the wire on MCU pin 1 (the RESET line), and plug the parallel port wires in as follows:","bullet":"black","level":0},{"text":"* LPT pin 1 ==&gt; MCU pin 19 * LPT pin 2 ==&gt; MCU pin 17 * LPT pin 11 ==&gt; MCU pin 18 * LPT pin 16 ==&gt; MCU pin 1 * LPT pin 19 ==&gt; GND","text_raw":"* LPT pin 1 ==> MCU pin 19 * LPT pin 2 ==> MCU pin 17 * LPT pin 11 ==> MCU pin 18 * LPT pin 16 ==> MCU pin 1 * LPT pin 19 ==> GND","bullet":"black","level":1},{"text":"After that, you can go into the &quot;bootloader&quot; directory, and type &quot;make&quot;.  Hopefully, you'll get a successful verification from avrdude.","text_raw":"After that, you can go into the \"bootloader\" directory, and type \"make\".  Hopefully, you'll get a successful verification from avrdude.","bullet":"black","level":0}],"object":null,"images":[{"imageid":37775,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/JFyZRCiDkIkFLRA2"}],"number":6},{"title":"","lines":[{"text":"Install avrdude, gcc-avr, and avr-libc. Use apt-get or your favorite package manager to install them (if you're on Linux).","text_raw":"Install avrdude, gcc-avr, and avr-libc. Use apt-get or your favorite package manager to install them (if you're on Linux).","bullet":"black","level":0},{"text":"If you are on Windows, Win-AVR contains a suite of programs that make programming the Atmel chip easy. The installer will install gcc on your computer which you can use to compile the C code.","text_raw":"If you are on Windows, Win-AVR contains a suite of programs that make programming the Atmel chip easy. The installer will install gcc on your computer which you can use to compile the C code.","bullet":"black","level":0},{"text":"Connect pin 14 to ground (PROGRAMMING MODE). Connect the yellow cable to pin 2, the green cable to pin 3, the black cable to ground and the red cable to +5V.","text_raw":"Connect pin 14 to ground (PROGRAMMING MODE). Connect the yellow cable to pin 2, the green cable to pin 3, the black cable to ground and the red cable to +5V.","bullet":"black","level":0},{"text":"Connect the cable to the computer, and if you are on Windows you need to check what COM port the USB cable loaded as. Go to the Device Manger from Control Panel. Expand the Ports (COM &amp; LPT) section. It should be COM5, COM6 for instance.","text_raw":"Connect the cable to the computer, and if you are on Windows you need to check what COM port the USB cable loaded as. Go to the Device Manger from Control Panel. Expand the Ports (COM & LPT) section. It should be COM5, COM6 for instance.","bullet":"black","level":0},{"text":"You need to open the Makefile in a text editor and edit the line that begins with AVRDUDEFLAGS. At the end you need to change \u201c\/dev\/ttyUSB0\u201d to \u201cCOM5\u201d or whatever number it was set to. For Linux users \u201c\/dev\/ttyUSB0\u201d should work.","text_raw":"You need to open the Makefile in a text editor and edit the line that begins with AVRDUDEFLAGS. At the end you need to change \u201c\/dev\/ttyUSB0\u201d to \u201cCOM5\u201d or whatever number it was set to. For Linux users \u201c\/dev\/ttyUSB0\u201d should work.","bullet":"black","level":0},{"text":"Make sure that the cable is connected to the computer correctly, and the switch is up. Disconnect the power supply and reconnect it to boot into programming mode.","text_raw":"Make sure that the cable is connected to the computer correctly, and the switch is up. Disconnect the power supply and reconnect it to boot into programming mode.","bullet":"black","level":0},{"text":"When the kit is turned on with the switch in the UP position, it knows that it will listen for a new program. When the switch is down it just runs the program already on the chip.","text_raw":"When the kit is turned on with the switch in the UP position, it knows that it will listen for a new program. When the switch is down it just runs the program already on the chip.","bullet":"black","level":0},{"text":"Now compile the program! Open the command line to program the chip, list the files in the directory where the software is located, and type \u201cMAKE\u201d. If it compiles successfully, one of the last lines should read \u201cavrdude: --- bytes of flash verified\u201d where --- is some number. This means that avrdude has successfully written the program onto the MCU.","text_raw":"Now compile the program! Open the command line to program the chip, list the files in the directory where the software is located, and type \u201cMAKE\u201d. If it compiles successfully, one of the last lines should read \u201cavrdude: --- bytes of flash verified\u201d where --- is some number. This means that avrdude has successfully written the program onto the MCU.","bullet":"black","level":0}],"object":null,"images":[{"imageid":37778,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/v1BaBnHMLHxm1ADT"}],"number":7},{"title":"Test it.","lines":[{"text":"Now that you have built the circuit and compiled the software into the chip it is time to try it out!","text_raw":"Now that you have built the circuit and compiled the software into the chip it is time to try it out!","bullet":"black","level":0},{"text":"Paste the electrodes next to the eyes (left and right eyes), and paste the ground electrode on the forehead or in the hand (it just needs to be a neutral point).","text_raw":"Paste the electrodes next to the eyes (left and right eyes), and paste the ground electrode on the forehead or in the hand (it just needs to be a neutral point).","bullet":"black","level":0},{"text":"Use alligator clips to connect the electrodes to the circuit. Now connect the right electrode on pin 3 of the the INA118P, and the left electrode on PIN 2 of the chip. The ground electrode goes on pin 5.","text_raw":"Use alligator clips to connect the electrodes to the circuit. Now connect the right electrode on pin 3 of the the INA118P, and the left electrode on PIN 2 of the chip. The ground electrode goes on pin 5.","bullet":"black","level":0},{"text":"Make sure the system is connected to the computer. Then turn on the circuit, open the program (the board with the alphabet) and go to the command line and type \u201cPython eog.py\u201d to open the Python listener that will read the data from the serial port.","text_raw":"Make sure the system is connected to the computer. Then turn on the circuit, open the program (the board with the alphabet) and go to the command line and type \u201cPython eog.py\u201d to open the Python listener that will read the data from the serial port.","bullet":"black","level":0},{"text":"You should be able to control the program with the eyes. Try moving the eyes right and left, and see how it goes! If everything was done correctly, you should be able to move the arrow down with left eye movements, and you should be able to choose the letter with right movements. If there is something wrong check that everything is connected correctly including the electrodes, and make sure that there's not too much noise affecting the signal (an oscilloscope might be helpful).","text_raw":"You should be able to control the program with the eyes. Try moving the eyes right and left, and see how it goes! If everything was done correctly, you should be able to move the arrow down with left eye movements, and you should be able to choose the letter with right movements. If there is something wrong check that everything is connected correctly including the electrodes, and make sure that there's not too much noise affecting the signal (an oscilloscope might be helpful).","bullet":"black","level":0},{"text":"A program to adjust the system without an oscilloscope will be available for download on my website soon!","text_raw":"A program to adjust the system without an oscilloscope will be available for download on my website soon!","bullet":"icon_note","level":0}],"object":null,"images":[{"imageid":34391,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/TLKbt6THbDmj1CgD"}],"number":8},{"title":"EOG Glasses","lines":[{"text":"The EOG glasses offer a more comfortable interface while using the system. They are homemade glasses that hold the electrodes. I am using foam, a head band and super glue.","text_raw":"The EOG glasses offer a more comfortable interface while using the system. They are homemade glasses that hold the electrodes. I am using foam, a head band and super glue.","bullet":"black","level":0},{"text":"I have built several prototypes of EOG glasses with good results.","text_raw":"I have built several prototypes of EOG glasses with good results.","bullet":"black","level":0}],"object":null,"images":[{"imageid":34392,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/4lgVY4Zb1BEryuIr"}],"number":9},{"title":"Using the Eyeboard","lines":[{"text":"To choose one of the letter boxes, the user moves the eyes to the left until the box is chosen.","text_raw":"To choose one of the letter boxes, the user moves the eyes to the left until the box is chosen.","bullet":"black","level":0},{"text":"While inside the box, a letter can be chosen with right eye movements.","text_raw":"While inside the box, a letter can be chosen with right eye movements.","bullet":"black","level":0}],"object":null,"images":[{"imageid":37779,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/apgPyegChrO3DVtX"}],"number":10}],"subject":"","summary":"The Eyeboard is an open source eye tracking project that lets you interact with the computer and the real world.","time_required":"","title":"Eyeboard Electrooculography (EOG) System","tools":[],"type":"project"},"guideid":"1686"}