{"device":"Mobile","url":"http:\/\/makeprojects.com\/Project\/ViBracelet\/2972\/1","guide":{"author":{"text":"Veronica and Priya","userid":16430},"categories":["Mobile","Motors"],"conclusion":"","difficulty":"Difficult","documents":[],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":2972,"image":{"imageid":54912,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hbkXnNRjSaf2nTCH"},"introduction":"<p>The goal of this project is to build a vibrating bracelet that alerts the wearer to incoming calls on an iPhone 4S.  This device was originally created for a blind and partially hearing-impaired client who could not hear or see her phone ringing and wanted an inconspicuous and wearable device that physically alerted her of incoming calls to her phone.<\/p>\n\n<p>The bracelet contains a Bluetooth Low Energy module which pairs with the iPhone 4S through a specially designed app\/Bluetooth profile. When the app detects an incoming call on the phone, a signal is sent to the Bluetooth which drives a vibration motor wired to the Bluetooth chip. The vibration is felt on the wrist of the wearer.<\/p>","introduction_rendered":"<p>The goal of this project is to build a vibrating bracelet that alerts the wearer to incoming calls on an iPhone 4S.  This device was originally created for a blind and partially hearing-impaired client who could not hear or see her phone ringing and wanted an inconspicuous and wearable device that physically alerted her of incoming calls to her phone.<\/p>\n\n<p>The bracelet contains a Bluetooth Low Energy module which pairs with the iPhone 4S through a specially designed app\/Bluetooth profile. When the app detects an incoming call on the phone, a signal is sent to the Bluetooth which drives a vibration motor wired to the Bluetooth chip. The vibration is felt on the wrist of the wearer.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/iPhone_4S_or_later\">iPhone 4S or later<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Bracelet\">Bracelet<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Bluetooth_Low_Energy_module\">Bluetooth Low Energy module<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/pancake_vibrating_motor\">pancake vibrating motor<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Lilypad_Coin_Cell_Battery_Holder\">Lilypad Coin Cell Battery Holder<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Resistor_1K%CE%A9\">Resistor 1K\u03a9<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062576\">Diode 1N4148<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Transistor_2N2222\">Transistor 2N2222<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Coin_cell_battery_CR1632\">Coin cell battery, CR1632<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Coin_cell_battery_CR2032\">Coin cell battery, CR2032<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12165717\">Jumper wires<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/PCB\">PCB<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/search\/index.jsp?kwCatId=&amp;amp;kw=64-2375&amp;amp;origkw=64-2375&amp;amp;sr=1\">Electrical Tape<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Felt\">Felt<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Apple_Developer_License\">Apple Developer License<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Apple_Xcode\">Apple Xcode<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Flash_Programmer\">Flash Programmer<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/IAR_Workbench\">IAR Workbench<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619\">Soldering iron<\/a><\/li><li><a href=\"http:\/\/www.ti.com\/tool\/cc-debugger\">Texas Instruments CC Debugger cable<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"iPhone 4S or later","notes":"","url":"http:\/\/makeprojects.com\/Item\/iPhone_4S_or_later","thumbnail":""},{"text":"Bracelet","notes":"Needs to be wide enough to fit electronics underneath, about 1.5&quot; in width","url":"http:\/\/makeprojects.com\/Item\/Bracelet","thumbnail":""},{"text":"Bluetooth Low Energy module","notes":"Based on Texas Instruments CC2540 system-on-chip. Pairs with other BLE devices including iPhone 4S. Operates with iPhone 4S app (free from ConnectBlue) Many accessory features: temperature sensor, accelerometer, green\/red LEDs, JST connector, battery holder for CR 1632, programmable I\/O pins","url":"http:\/\/makeprojects.com\/Item\/Bluetooth_Low_Energy_module","thumbnail":""},{"text":"pancake vibrating motor","notes":"10 mm diameter, shaftless vibration motor non-audible 2-3.6V operating range 3M adhesive backing for attachment to PCB two reinforced connecting wires","url":"http:\/\/makeprojects.com\/Item\/pancake_vibrating_motor","thumbnail":""},{"text":"Lilypad Coin Cell Battery Holder","notes":"","url":"http:\/\/makeprojects.com\/Item\/Lilypad_Coin_Cell_Battery_Holder","thumbnail":""},{"text":"Resistor 1K\u03a9","notes":"","url":"http:\/\/makeprojects.com\/Item\/Resistor_1K%CE%A9","thumbnail":""},{"text":"Diode 1N4148","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062576","thumbnail":""},{"text":"Transistor 2N2222","notes":"","url":"http:\/\/makeprojects.com\/Item\/Transistor_2N2222","thumbnail":""},{"text":"Coin cell battery, CR1632","notes":"","url":"http:\/\/makeprojects.com\/Item\/Coin_cell_battery_CR1632","thumbnail":""},{"text":"Coin cell battery, CR2032","notes":"","url":"http:\/\/makeprojects.com\/Item\/Coin_cell_battery_CR2032","thumbnail":""},{"text":"Jumper wires","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12165717","thumbnail":""},{"text":"PCB","notes":"","url":"http:\/\/makeprojects.com\/Item\/PCB","thumbnail":""},{"text":"Electrical Tape","notes":"","url":"http:\/\/www.radioshack.com\/search\/index.jsp?kwCatId=&amp;kw=64-2375&amp;origkw=64-2375&amp;sr=1","thumbnail":""},{"text":"Felt","notes":"","url":"http:\/\/makeprojects.com\/Item\/Felt","thumbnail":""}],"prereqs":[],"steps":[{"title":"Install Apple Xcode and demo app","lines":[{"text":"Download Apple Xcode and ConnectBlue demo app (contact ConnectBlue support team for OLP425 Demo App source code) onto a Mac.","text_raw":"Download Apple Xcode and ConnectBlue demo app (contact ConnectBlue support team for OLP425 Demo App source code) onto a Mac.","bullet":"black","level":0}],"object":null,"images":[{"imageid":54780,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/4Cm5g2iURESxBHKc"}],"number":1},{"title":"Edit the demo app source code Apple Xcode.","lines":[{"text":"Open OLP425 demo app project in Xcode.","text_raw":"Open OLP425 demo app project in Xcode.","bullet":"black","level":0},{"text":"Import CoreTelephony Framework under Linked Frameworks and Libraries.","text_raw":"Import CoreTelephony Framework under Linked Frameworks and Libraries.","bullet":"black","level":0},{"text":"Within DemoViewController.m, under -(void)viewDidLoad, enter the code that is shown in the image to the left. This code uses the CoreTelephony Framework to monitor for incoming calls and signals the Bluetooth to drive the vibrating motor for 4 seconds.","text_raw":"Within DemoViewController.m, under -(void)viewDidLoad, enter the code that is shown in the image to the left. This code uses the CoreTelephony Framework to monitor for incoming calls and signals the Bluetooth to drive the vibrating motor for 4 seconds.","bullet":"black","level":0},{"text":"Add &quot;Required background modes&quot; key to Info.plist and add item &quot;App communicates using CoreBluetooth&quot; to the array.","text_raw":"Add \"Required background modes\" key to Info.plist and add item \"App communicates using CoreBluetooth\" to the array.","bullet":"black","level":0},{"text":"On the main storyboard, edit the label above the green LED switch to say Motor.","text_raw":"On the main storyboard, edit the label above the green LED switch to say Motor.","bullet":"black","level":0},{"text":"Load app onto iPhone 4S.","text_raw":"Load app onto iPhone 4S.","bullet":"black","level":0},{"text":"Test the app by opening it and pairing with an OLP425. Call the phone. When there is an incoming call, the green LED on the Bluetooth should turn on for 4 seconds and then turn off. The LED simulates the action of the motor which will be connected in subsequent steps.","text_raw":"Test the app by opening it and pairing with an OLP425. Call the phone. When there is an incoming call, the green LED on the Bluetooth should turn on for 4 seconds and then turn off. The LED simulates the action of the motor which will be connected in subsequent steps.","bullet":"black","level":0}],"object":null,"images":[{"imageid":54694,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/O1YOyaGLK1FcCXAd"},{"imageid":54696,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ioNqCOdVBoq2oPRO"}],"number":2},{"title":"Modify the OLP425 Bluetooth module","lines":[{"text":"Install IAR Embedded Workbench and TI Flash Programmer.","text_raw":"Install IAR Embedded Workbench and TI Flash Programmer.","bullet":"black","level":0},{"text":"Download and open the OLP425 demo code zip file from <a href=\"http:\/\/support.connectblue.com\/display\/PRODBTPLA\/cB-OLP425+Development+Kit+Getting+started\" rel=\"nofollow\">here<\/a>.","text_raw":"Download and open the OLP425 demo code zip file from [http:\/\/support.connectblue.com\/display\/PRODBTPLA\/cB-OLP425+Development+Kit+Getting+started|here].","bullet":"black","level":0},{"text":"Edit the <tt>cb_led.c<\/tt> file to reassign the pin for the Green LED:","text_raw":"Edit the ``cb_led.c`` file to reassign the pin for the Green LED:","bullet":"black","level":0},{"text":"<tt>#define cbLED_PIN_GREEN     (P1_4)<\/tt>","text_raw":"``#define cbLED_PIN_GREEN     (P1_4)``","bullet":"black","level":1},{"text":"Edit the <tt>main.c<\/tt> file to configure the I\/O pin:","text_raw":"Edit the ``main.c`` file to configure the I\/O pin:","bullet":"black","level":0},{"text":"<tt>\/\/Configure P1_0 to output<\/tt>","text_raw":"``\/\/Configure P1_0 to output``","bullet":"black","level":1},{"text":"<tt>P1DIR |= (1&lt;&lt;0);<\/tt>","text_raw":"``P1DIR |= (1<<0);``","bullet":"black","level":1}],"object":null,"images":[{"imageid":54735,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/3qDlDJhgGGyQBBKc"}],"number":3},{"title":"Load modified program onto Bluetooth module","lines":[{"text":"Under Project tab, select &quot;Rebuild All&quot; files on the IAR Workbench. This will save the edits into a .hex file to be loaded onto the Bluetooth.","text_raw":"Under Project tab, select \"Rebuild All\" files on the IAR Workbench. This will save the edits into a .hex file to be loaded onto the Bluetooth.","bullet":"black","level":0},{"text":"Attach the OLP425 to the computer using the CC-Debugger cable.","text_raw":"Attach the OLP425 to the computer using the CC-Debugger cable.","bullet":"black","level":0},{"text":"Make sure to remove battery from Bluetooth before connecting to computer.","text_raw":"Make sure to remove battery from Bluetooth before connecting to computer.","bullet":"icon_caution","level":1},{"text":"Open Flash Programmer and under Flash image, browse for the .hex file created for the revised demo code. Go to cb-0950 &gt;&gt; Exe &gt;&gt; .hex file with timestamp for when files were rebuilt.","text_raw":"Open Flash Programmer and under Flash image, browse for the .hex file created for the revised demo code. Go to cb-0950 >> Exe >> .hex file with timestamp for when files were rebuilt.","bullet":"black","level":0},{"text":"Click &quot;Perform Actions&quot; and wait for the program to fully load onto the Bluetooth.","text_raw":"Click \"Perform Actions\" and wait for the program to fully load onto the Bluetooth.","bullet":"black","level":1}],"object":null,"images":[{"imageid":54773,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/FDtwve4ODEdbIgIG"}],"number":4},{"title":"Build vibration motor circuit","lines":[{"text":"Follow the circuit diagram (see picture) and build the circuit on a breadboard with output wires for ground (2 wires), power (1 wire), and motor driver input (1 wire)  - black, red, and green respectively.","text_raw":"Follow the circuit diagram (see picture) and build the circuit on a breadboard with output wires for ground (2 wires), power (1 wire), and motor driver input (1 wire)  - black, red, and green respectively.","bullet":"black","level":0},{"text":"Test with two 3V power sources (either power supply or batteries) and make sure the motor vibrates.","text_raw":"Test with two 3V power sources (either power supply or batteries) and make sure the motor vibrates.","bullet":"black","level":0},{"text":"Build the circuit on the PCB. Test again with two power sources.","text_raw":"Build the circuit on the PCB. Test again with two power sources.","bullet":"black","level":0},{"text":"Solder the circuit together on the PCB. Test again.","text_raw":"Solder the circuit together on the PCB. Test again.","bullet":"black","level":0},{"text":"Make sure the two ground wires are connected together by solder on the back of the PCB!","text_raw":"Make sure the two ground wires are connected together by solder on the back of the PCB!","bullet":"icon_caution","level":1}],"object":null,"images":[{"imageid":54781,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/RFlKSe2UPiQkVDPM"},{"imageid":54766,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/JxMjvO1tbMZhWgVV"},{"imageid":54779,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/iAuSRKsYakNBVnGX"}],"number":5},{"title":"Connect everything together","lines":[{"text":"Cut the connections between the Bluetooth's battery holder and the Bluetooth. Make a note of which pads on the Bluetooth the battery holder was connected to. Make sure the Bluetooth and battery holder are on the same plane.","text_raw":"Cut the connections between the Bluetooth's battery holder and the Bluetooth. Make a note of which pads on the Bluetooth the battery holder was connected to. Make sure the Bluetooth and battery holder are on the same plane.","bullet":"black","level":0},{"text":"Solder a black wire connecting the anode (on bottom of holder) and the anode pad on the Bluetooth. Then solder a red wire connecting the cathode (on side of holder) to the cathode pad on the Bluetooth.","text_raw":"Solder a black wire connecting the anode (on bottom of holder) and the anode pad on the Bluetooth. Then solder a red wire connecting the cathode (on side of holder) to the cathode pad on the Bluetooth.","bullet":"black","level":0},{"text":"Solder the motor driver wire (green in picture) to I\/O pin 1 on the Bluetooth (the only pin with a square pad). Solder one ground wire (black in picture) to pin 4 on the Bluetooth.","text_raw":"Solder the motor driver wire (green in picture) to I\/O pin 1 on the Bluetooth (the only pin with a square pad). Solder one ground wire (black in picture) to pin 4 on the Bluetooth.","bullet":"black","level":0},{"text":"The two ground wires should be connected by solder on the back of the PCB already so it does not matter which ground wire goes to which component.","text_raw":"The two ground wires should be connected by solder on the back of the PCB already so it does not matter which ground wire goes to which component.","bullet":"icon_reminder","level":0},{"text":"Solder the motor power wire (red in picture) to a positive through-hole on the Lilypad battery holder. Solder the other ground wire (black in picture) to a negative through-hole on the battery holder.","text_raw":"Solder the motor power wire (red in picture) to a positive through-hole on the Lilypad battery holder. Solder the other ground wire (black in picture) to a negative through-hole on the battery holder.","bullet":"black","level":0}],"object":null,"images":[{"imageid":54764,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/sJmiWcaYptUxVtU1"},{"imageid":54770,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/653pasFbuiKWfltK"},{"imageid":54771,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/B2Hh1lQZDilCOwNc"}],"number":6},{"title":"Do a sanity check to see that the motor vibrates properly!","lines":[{"text":"Open the app on the phone and pair with the Bluetooth device.","text_raw":"Open the app on the phone and pair with the Bluetooth device.","bullet":"black","level":0},{"text":"Call the phone and check to see that the motor vibrates for 4 seconds and then stops when the call is incoming.","text_raw":"Call the phone and check to see that the motor vibrates for 4 seconds and then stops when the call is incoming.","bullet":"black","level":0},{"text":"The default state of the motor is ON by virtue of the way the I\/O pins are configured. Thus, when the batteries are inserted, the motor will start vibrating until turned off on the iPhone app. The motor will then stay off as default until a call is received or the button on the app is pressed.","text_raw":"The default state of the motor is ON by virtue of the way the I\/O pins are configured. Thus, when the batteries are inserted, the motor will start vibrating until turned off on the iPhone app. The motor will then stay off as default until a call is received or the button on the app is pressed.","bullet":"icon_note","level":0},{"text":"The Motor switch on the app interface displays ON when the motor is actually OFF, again due to the I\/O pin configuration. Please excuse this bug. :)","text_raw":"The Motor switch on the app interface displays ON when the motor is actually OFF, again due to the I\/O pin configuration. Please excuse this bug. :)","bullet":"icon_note","level":0}],"object":null,"images":[{"imageid":54787,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ua1bBChBCINn6pDO"}],"number":7},{"title":"Case the hardware into a stylish bracelet!","lines":[{"text":"Tape the hardware with electrical tape so that all wires are protected.","text_raw":"Tape the hardware with electrical tape so that all wires are protected.","bullet":"black","level":0},{"text":"Tape the hardware onto a piece of felt, precut to fit the underside of the bracelet.","text_raw":"Tape the hardware onto a piece of felt, precut to fit the underside of the bracelet.","bullet":"black","level":0},{"text":"Cover the hardware with felt so that felt lines the underside of the bracelet where there will be contact with the user's skin.","text_raw":"Cover the hardware with felt so that felt lines the underside of the bracelet where there will be contact with the user's skin.","bullet":"black","level":0},{"text":"Leave two flaps (to be secured with velcro or other such fastening device) above the battery holders for ease of battery replacement.","text_raw":"Leave two flaps (to be secured with velcro or other such fastening device) above the battery holders for ease of battery replacement.","bullet":"black","level":1},{"text":"Attach the felt-encased hardware to the underside of the bracelet with strong glue\/adhesive.","text_raw":"Attach the felt-encased hardware to the underside of the bracelet with strong glue\/adhesive.","bullet":"black","level":0},{"text":"Be creative! If you have better ideas for casing and securing the hardware, try it out!","text_raw":"Be creative! If you have better ideas for casing and securing the hardware, try it out!","bullet":"black","level":0}],"object":null,"images":[{"imageid":54777,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/HoPuOHXVPoaBevqr"},{"imageid":54775,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/iWihKVGff6ZBCG3y"},{"imageid":54782,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hOjg4rIZEsvCNPek"}],"number":8}],"subject":"","summary":"Build a bracelet that vibrates to alert the user to incoming calls on an iPhone 4S.","time_required":"5 hours","title":"ViBracelet","tools":[{"text":"Apple Developer License","notes":"","url":"http:\/\/makeprojects.com\/Item\/Apple_Developer_License","thumbnail":""},{"text":"Apple Xcode","notes":"","url":"http:\/\/makeprojects.com\/Item\/Apple_Xcode","thumbnail":""},{"text":"Flash Programmer","notes":"","url":"http:\/\/makeprojects.com\/Item\/Flash_Programmer","thumbnail":""},{"text":"IAR Workbench","notes":"","url":"http:\/\/makeprojects.com\/Item\/IAR_Workbench","thumbnail":""},{"text":"Soldering iron","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619","thumbnail":""},{"text":"Texas Instruments CC Debugger cable","notes":"","url":"http:\/\/www.ti.com\/tool\/cc-debugger","thumbnail":""}],"type":"project"},"guideid":"2972"}