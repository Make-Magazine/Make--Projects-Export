{"device":"Arduino","url":"http:\/\/makeprojects.com\/Project\/Connect+an+iPhone%2C+iPad%2C+or+iPod+touch+to+Arduino+with+the+Redpark+Serial+Cable\/1130\/1","guide":{"author":{"text":"Brian Jepson","userid":346},"categories":["Arduino","Mobile"],"conclusion":"<p>If everything is working correctly, you'll be able to turn the Arduino's built-in LED on and off by tapping the switch button!<\/p>","difficulty":"Moderate","documents":[],"flags":[],"guideid":1130,"image":{"imageid":21958,"text":"http:\/\/guide-images.makeprojects.org\/igi\/AiBOXpsNkjKFG6BG"},"introduction":"<p>The Redpark Serial Cable, which is part of the <a href=\"https:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MSRP02\">Redpark Breakout Pack for Arduino and iOS available from the Maker Shed<\/a>, lets you connect the iPhone to Arduino without jail breaking. This guide shows you one of the simplest examples: connecting an iOS device to an Arduino and turning an LED on and off from an iOS app.<\/p>\n\n<p>(This guide written with lots of help from <a href=\"http:\/\/www.dailyack.com\/\" rel=\"nofollow\">Alasdair Allan<\/a>), the author of a book on this very topic, <a href=\"http:\/\/shop.oreilly.com\/product\/0636920021179.do\" rel=\"nofollow\">iOS Sensor Apps with Arduino<\/a>.<\/p>","introduction_rendered":"<p>The Redpark Serial Cable, which is part of the <a href=\"https:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MSRP02\">Redpark Breakout Pack for Arduino and iOS available from the Maker Shed<\/a>, lets you connect the iPhone to Arduino without jail breaking. This guide shows you one of the simplest examples: connecting an iOS device to an Arduino and turning an LED on and off from an iOS app.<\/p>\n\n<p>(This guide written with lots of help from <a href=\"http:\/\/www.dailyack.com\/\" rel=\"nofollow\">Alasdair Allan<\/a>), the author of a book on this very topic, <a href=\"http:\/\/shop.oreilly.com\/product\/0636920021179.do\" rel=\"nofollow\">iOS Sensor Apps with Arduino<\/a>.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"https:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MSRP02\">Breakout Pack for Arduino and iPhone<\/a><\/li><li><a href=\"http:\/\/store.apple.com\">iPhone, iPad or iPod touch<\/a><\/li><li><a href=\"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4\">Arduino Uno<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Breakout Pack for Arduino and iPhone","notes":"","url":"https:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MSRP02","thumbnail":""},{"text":"iPhone, iPad or iPod touch","notes":"","url":"http:\/\/store.apple.com","thumbnail":""},{"text":"Arduino Uno","notes":"","url":"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4","thumbnail":""}],"prereqs":[],"steps":[{"title":"Wire up the RS232 adapter to the Arduino","lines":[{"text":"Connect the RS232 adapter's power and ground to the Arduino's 5V and GND pins, respectively.","text_raw":"Connect the RS232 adapter's power and ground to the Arduino's 5V and GND pins, respectively.","bullet":"black","level":0},{"text":"Connect the RS232 adapter's TX to the Arduino's RX, and the RS232 adapter's RX to the Arduino's TX.","text_raw":"Connect the RS232 adapter's TX to the Arduino's RX, and the RS232 adapter's RX to the Arduino's TX.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21929,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/b6Jj2cwPWvgIYGWn"}],"number":1},{"title":"Make sure you're set up for iOS development","lines":[{"text":"To develop apps for the iPhone, iPad, or iPod touch, you'll need to register as an iOS developer. Although you can register for free, all that gets you is the development tools. You won't be able to deploy your apps to a real device. It's $99 a year for an individual developer, $299 for Enterprises (this option lets you deploy apps directly to your team), and free for educational institutions (which also lets you deploy apps to a team).","text_raw":"To develop apps for the iPhone, iPad, or iPod touch, you'll need to register as an iOS developer. Although you can register for free, all that gets you is the development tools. You won't be able to deploy your apps to a real device. It's $99 a year for an individual developer, $299 for Enterprises (this option lets you deploy apps directly to your team), and free for educational institutions (which also lets you deploy apps to a team).","bullet":"black","level":0},{"text":"For more information, see the <a href=\"http:\/\/developer.apple.com\/programs\/ios\/\" rel=\"nofollow\">iOS Developer Program<\/a>.","text_raw":"For more information, see the [http:\/\/developer.apple.com\/programs\/ios\/|iOS Developer Program].","bullet":"icon_note","level":0}],"object":null,"images":[{"imageid":21952,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/nZAPBfAbPW6nquv5"}],"number":2},{"title":"Make sure you can run an app on your iOS device","lines":[{"text":"If you've never programmed for the iPhone before, you can't count on this guide to help you. There are many learning resources, from Stanford's free <a href=\"http:\/\/itunes.apple.com\/itunes-u\/developing-apps-for-ios-sd\/id395631522\" rel=\"nofollow\">Developing Apps for iOS<\/a> courses to Matt Neuburg's <a href=\"http:\/\/shop.oreilly.com\/product\/0636920023562.do\" rel=\"nofollow\">Programming iOS 5<\/a> or Alasdair Allan's <a href=\"http:\/\/shop.oreilly.com\/product\/0636920018490.do\" rel=\"nofollow\">Learning iOS Programming<\/a>, both of which are available in print or ebook form.","text_raw":"If you've never programmed for the iPhone before, you can't count on this guide to help you. There are many learning resources, from Stanford's free [http:\/\/itunes.apple.com\/itunes-u\/developing-apps-for-ios-sd\/id395631522|Developing Apps for iOS] courses to Matt Neuburg's [http:\/\/shop.oreilly.com\/product\/0636920023562.do|Programming iOS 5] or Alasdair Allan's [http:\/\/shop.oreilly.com\/product\/0636920018490.do|Learning iOS Programming], both of which are available in print or ebook form.","bullet":"black","level":0},{"text":"Before you go any further, please make sure you can create and run simple apps on your iPhone, iPad, or iPod touch. It will also be helpful if you familiarize yourself thoroughly with the Xcode development environment.","text_raw":"Before you go any further, please make sure you can create and run simple apps on your iPhone, iPad, or iPod touch. It will also be helpful if you familiarize yourself thoroughly with the Xcode development environment.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21949,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ZIFTAQMTnrynR6bJ"}],"number":3},{"title":"Create a new view-based project","lines":[{"text":"In Xcode, create a new view-based project.","text_raw":"In Xcode, create a new view-based project.","bullet":"black","level":0},{"text":"Give you project the name HelloArduino, and choose the appropriate device family (iPhone, iPad, or if you're feeling ambitious, Universal, though this will create a bit more work for you).","text_raw":"Give you project the name HelloArduino, and choose the appropriate device family (iPhone, iPad, or if you're feeling ambitious, Universal, though this will create a bit more work for you).","bullet":"black","level":0}],"object":null,"images":[{"imageid":21932,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/2ZI6twjgPHLYCJFA"},{"imageid":21933,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/QrGYcCVSFoBMTK6q"}],"number":4},{"title":"Add a switch to your app","lines":[{"text":"On the left pane of the screen, expand your project, and open the folder HelloArduino.","text_raw":"On the left pane of the screen, expand your project, and open the folder HelloArduino.","bullet":"black","level":0},{"text":"Next, locate the HelloArduinoViewController.xib and click on it. This will bring up your app's main view, which is blank at the moment.","text_raw":"Next, locate the HelloArduinoViewController.xib and click on it. This will bring up your app's main view, which is blank at the moment.","bullet":"black","level":0},{"text":"Bring up the Object Library (View\u2192Utilities\u2192Object Library), and drag a Switch to the center of your view.","text_raw":"Bring up the Object Library (View\u2192Utilities\u2192Object Library), and drag a Switch to the center of your view.","bullet":"black","level":0},{"text":"Next, show the Attributes Inspector (View\u2192Utilities\u2192Attributes Inspector) and set the switch's State to Off.","text_raw":"Next, show the Attributes Inspector (View\u2192Utilities\u2192Attributes Inspector) and set the switch's State to Off.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21959,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/EPUMRihdmRulempv"}],"number":5},{"title":"Wire up the switch to your code","lines":[{"text":"Now you need to tell the app's code what to do with the switch.","text_raw":"Now you need to tell the app's code what to do with the switch.","bullet":"black","level":0},{"text":"If you need room on the screen, you can hide the Utilities Pane (View\u2192Utilities\u2192Hide Utilities).","text_raw":"If you need room on the screen, you can hide the Utilities Pane (View\u2192Utilities\u2192Hide Utilities).","bullet":"icon_note","level":0},{"text":"Next, open the Assistant Editor (View\u2192Editor\u2192Assistant), and locate the toolbar above the window that appears.","text_raw":"Next, open the Assistant Editor (View\u2192Editor\u2192Assistant), and locate the toolbar above the window that appears.","bullet":"black","level":0},{"text":"Click the icon to the right of the left\/right arrows and make sure the Assistant Editor is set to automatic. It should be showing the HelloArduinoViewController.h file.","text_raw":"Click the icon to the right of the left\/right arrows and make sure the Assistant Editor is set to automatic. It should be showing the HelloArduinoViewController.h file.","bullet":"black","level":0},{"text":"Control-click the switch, and drag from it to the code that appears in the Assistant Editor. Hold it just above the &quot;@end&quot; in the code and release. Add a new outlet and name it toggleSwitch as shown.","text_raw":"Control-click the switch, and drag from it to the code that appears in the Assistant Editor. Hold it just above the \"@end\" in the code and release. Add a new outlet and name it toggleSwitch as shown.","bullet":"black","level":0},{"text":"Do this once again, but instead, add a new action, and name it toggleLED. Save the file (File\u2192Save).","text_raw":"Do this once again, but instead, add a new action, and name it toggleLED. Save the file (File\u2192Save).","bullet":"icon_reminder","level":1}],"object":null,"images":[{"imageid":21936,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/212EYWDlvTUHreAA"},{"imageid":21937,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hiBGsDp6vAQtF3YG"},{"imageid":21938,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/VtJiO3LWLSXQ6tTT"}],"number":6},{"title":"Import the Redpark Serial Cable library","lines":[{"text":"The Redpark Serial Cable installation will create a folder in your home directory named Redpark Serial SDK.","text_raw":"The Redpark Serial Cable installation will create a folder in your home directory named Redpark Serial SDK.","bullet":"icon_note","level":0},{"text":"You can download the SDK from <a href=\"http:\/\/www.redpark.com\/c2db9.html\" rel=\"nofollow\">the Redpark web site<\/a>.","text_raw":"You can download the SDK from [http:\/\/www.redpark.com\/c2db9.html|the Redpark web site].","bullet":"icon_reminder","level":0},{"text":"Open this in the Finder, and select the inc and lib folders, then drag them to your project as shown.","text_raw":"Open this in the Finder, and select the inc and lib folders, then drag them to your project as shown.","bullet":"black","level":0},{"text":"A dialog will appear; make sure you check the option &quot;Copy items into destinations group's folder (if needed)&quot; and click Finish.","text_raw":"A dialog will appear; make sure you check the option \"Copy items into destinations group's folder (if needed)\" and click Finish.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21939,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/qAHkmgTcYVtJNGf3"},{"imageid":21940,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/scYKUYHCiKcYBvrK"}],"number":7},{"title":"Import the iOS Accessory Framework","lines":[{"text":"Next, you need to import Apple's Accessory Framework. To do this, click the Project in the left pane, then choose Build Phases, and open the &quot;Link Binary With&quot; section. Click +, locate the ExternalAccessory.framework, and add it.","text_raw":"Next, you need to import Apple's Accessory Framework. To do this, click the Project in the left pane, then choose Build Phases, and open the \"Link Binary With\" section. Click +, locate the ExternalAccessory.framework, and add it.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21941,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/qMsrAP1kFMerXQUM"}],"number":8},{"title":"Add some declarations to the view controller","lines":[{"text":"Select the HelloArduinoViewController.h file to open it for editing.","text_raw":"Select the HelloArduinoViewController.h file to open it for editing.","bullet":"black","level":0},{"text":"Visit my modified version of the file at <a href=\"https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch\/blob\/master\/HelloArduino\/HelloArduinoViewController.h\" rel=\"nofollow\">GitHub<\/a>.","text_raw":"Visit my modified version of the file at [https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch\/blob\/master\/HelloArduino\/HelloArduinoViewController.h|GitHub].","bullet":"black","level":0},{"text":"Edit your copy of the file:","text_raw":"Edit your copy of the file:","bullet":"black","level":0},{"text":"Add the two lines between <tt>#import &lt;UIKit\/UIKit.h&gt;<\/tt> and <tt>@interface<\/tt>","text_raw":"Add the two lines between ``#import <UIKit\/UIKit.h>`` and ``@interface``","bullet":"black","level":1},{"text":"Modify the <tt>@interface<\/tt> line to match mine.","text_raw":"Modify the ``@interface`` line to match mine.","bullet":"black","level":1},{"text":"Add the three lines just above <tt>UISwitch *toggleSwitch;<\/tt>.","text_raw":"Add the three lines just above ``UISwitch *toggleSwitch;``.","bullet":"black","level":1},{"text":"Save the file (File\u2192Save).","text_raw":"Save the file (File\u2192Save).","bullet":"black","level":0}],"object":null,"images":[{"imageid":21951,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/KSKCieL3bR52IaYW"}],"number":9},{"title":"Add some functions to the app delegate","lines":[{"text":"Select the HelloArduinoViewController.m file to open it for editing.","text_raw":"Select the HelloArduinoViewController.m file to open it for editing.","bullet":"black","level":0},{"text":"Visit my modified version of the file at <a href=\"https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch\/blob\/master\/HelloArduino\/HelloArduinoViewController.m\" rel=\"nofollow\">GitHub<\/a> then edit your copy of the file:","text_raw":"Visit my modified version of the file at [https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch\/blob\/master\/HelloArduino\/HelloArduinoViewController.m|GitHub] then edit your copy of the file:","bullet":"black","level":0},{"text":"Locate the <tt>viewDidLoad<\/tt> method and replace it with my version of it.","text_raw":"Locate the ``viewDidLoad`` method and replace it with my version of it.","bullet":"black","level":1},{"text":"Be sure to Remove the comment delimiters (<tt>\/*<\/tt> and <tt>*\/<\/tt>) before and after it.","text_raw":"Be sure to Remove the comment delimiters (``\/*`` and ``*\/``) before and after it.","bullet":"icon_caution","level":2},{"text":"Implement the methods required by the RscMgrDelegate protocol (add everything from my file from the <tt>#pragma mark - RscMgrDelegate methods<\/tt> to the end of the file.","text_raw":"Implement the methods required by the RscMgrDelegate protocol (add everything from my file from the ``#pragma mark - RscMgrDelegate methods`` to the end of the file.","bullet":"black","level":1},{"text":"Locate the <tt>toggleLED<\/tt> method and replace it with my version of it.","text_raw":"Locate the ``toggleLED`` method and replace it with my version of it.","bullet":"black","level":1},{"text":"Save the file (File\u2192Save).","text_raw":"Save the file (File\u2192Save).","bullet":"black","level":0}],"object":null,"images":[{"imageid":21954,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/5PO2CtTwQZiXTDkT"}],"number":10},{"title":"Declare support for the serial cable","lines":[{"text":"This step is optional, but it will avoid the problem of you seeing an error message (&quot;This accessory requires an application...&quot;) each time you plug in the cable.","text_raw":"This step is optional, but it will avoid the problem of you seeing an error message (\"This accessory requires an application...\") each time you plug in the cable.","bullet":"icon_caution","level":0},{"text":"In Xcode, expand the Supporting Files group and click on Hello-Arduino.plist to open it.","text_raw":"In Xcode, expand the Supporting Files group and click on Hello-Arduino.plist to open it.","bullet":"black","level":0},{"text":"Right-click the bottom row, and choose Add Row. Click the up\/down pointing arrows to the right of the new row's key (it will probably default to &quot;Application Category&quot;) and choose &quot;Supported external accessory protocols&quot;.","text_raw":"Right-click the bottom row, and choose Add Row. Click the up\/down pointing arrows to the right of the new row's key (it will probably default to \"Application Category\") and choose \"Supported external accessory protocols\".","bullet":"black","level":0},{"text":"Click the triangle to the left of the key name you just selected to open up the list. In the value field for Item 0, type <tt>com.redpark.hobdb9<\/tt>.","text_raw":"Click the triangle to the left of the key name you just selected to open up the list. In the value field for Item 0, type ``com.redpark.hobdb9``.","bullet":"black","level":0},{"text":"Save the file (File\u2192Save).","text_raw":"Save the file (File\u2192Save).","bullet":"black","level":0}],"object":null,"images":[{"imageid":21945,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ovWCNcRArcDSN4tB"}],"number":11},{"title":"Deploy and test the Arduino sketch","lines":[{"text":"Grab a copy of the sketch from <a href=\"https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch\/blob\/master\/Arduino\/RedparkToggle\/RedparkToggle.pde\" rel=\"nofollow\">GitHub<\/a>.","text_raw":"Grab a copy of the sketch from [https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch\/blob\/master\/Arduino\/RedparkToggle\/RedparkToggle.pde|GitHub].","bullet":"black","level":0},{"text":"Connect your Arduino to your computer.","text_raw":"Connect your Arduino to your computer.","bullet":"black","level":0},{"text":"Run the Arduino IDE and upload the RedparkToggle sketch to your Arduino.","text_raw":"Run the Arduino IDE and upload the RedparkToggle sketch to your Arduino.","bullet":"black","level":0},{"text":"Temporarily disconnect the jumper wire going to the Arduino's RX pin (the green cable shown in the first step), and upload your sketch.","text_raw":"Temporarily disconnect the jumper wire going to the Arduino's RX pin (the green cable shown in the first step), and upload your sketch.","bullet":"black","level":0},{"text":"You must disconnect it before uploading a sketch because the RS232-TTL adapter will otherwise interfere with the upload process. Leave the jumper wire disconnected until you complete the next step.","text_raw":"You must disconnect it before uploading a sketch because the RS232-TTL adapter will otherwise interfere with the upload process. Leave the jumper wire disconnected until you complete the next step.","bullet":"icon_caution","level":0}],"object":null,"images":[{"imageid":21955,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/lNHppQWZhAxFgZkP"}],"number":12},{"title":"Test the Arduino","lines":[{"text":"Open the Arduino's serial monitor (Tools\u2192Serial Monitor), and make sure it's set to 9600 baud.","text_raw":"Open the Arduino's serial monitor (Tools\u2192Serial Monitor), and make sure it's set to 9600 baud.","bullet":"black","level":0},{"text":"Wait a few seconds for the sketch to restart, then type 1 and click Send. The LED should come on. Try that again with 0 instead of 1, and the LED should go off.","text_raw":"Wait a few seconds for the sketch to restart, then type 1 and click Send. The LED should come on. Try that again with 0 instead of 1, and the LED should go off.","bullet":"black","level":0},{"text":"Reconnect the jumper wire when you're done.","text_raw":"Reconnect the jumper wire when you're done.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21956,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/KoJMZDSRLwan61lC"}],"number":13},{"title":"Deploy the app","lines":[{"text":"Connect your iPhone, iPad, or iPod touch to your Mac with a dock cable.","text_raw":"Connect your iPhone, iPad, or iPod touch to your Mac with a dock cable.","bullet":"black","level":0},{"text":"Make sure Xcode is configured to run it on the device you just connected (see the figure).","text_raw":"Make sure Xcode is configured to run it on the device you just connected (see the figure).","bullet":"black","level":0},{"text":"Click the Run button in Xcode.","text_raw":"Click the Run button in Xcode.","bullet":"black","level":0},{"text":"If you get any errors, review the preceding steps to make sure you followed them exactly. If you still have problems, you can try downloading the project from <a href=\"https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch\" rel=\"nofollow\">GitHub<\/a>.","text_raw":"If you get any errors, review the preceding steps to make sure you followed them exactly. If you still have problems, you can try downloading the project from [https:\/\/github.com\/bjepson\/iPhone-Arduino-Simple-Switch|GitHub].","bullet":"icon_caution","level":0}],"object":null,"images":[{"imageid":21946,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/65InEJN6OF1mmUcI"}],"number":14},{"title":"Run the app","lines":[{"text":"The app is running on your iOS device, but you need to swap cables next, so click Stop in Xcode and disconnect the dock cable.","text_raw":"The app is running on your iOS device, but you need to swap cables next, so click Stop in Xcode and disconnect the dock cable.","bullet":"black","level":0},{"text":"Plug the Redpark Serial Cable into your device and into the RS232 serial adapter.","text_raw":"Plug the Redpark Serial Cable into your device and into the RS232 serial adapter.","bullet":"black","level":0},{"text":"Locate the HelloArduino app on the home screen, and run it.","text_raw":"Locate the HelloArduino app on the home screen, and run it.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21948,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/SKoqk6aDom6pLZD5"}],"number":15}],"subject":"","summary":"You'll learn how to use the Redpark serial cable to connect an iOS device to Arduino, and send messages back and forth between them.","time_required":"30 minutes","title":"Connect an iPhone, iPad, or iPod touch to Arduino with the Redpark Serial Cable","tools":[],"type":"project"},"guideid":"1130"}