{"device":"Audio","url":"http:\/\/makeprojects.com\/Project\/Digital+LED+Color+Organ\/424\/1","guide":{"author":{"text":"Collin Cunningham","userid":110},"categories":["Audio","Arduino"],"conclusion":"","difficulty":"Easy","documents":[],"flags":[{"title":"Missing Steps","flagid":"GUIDE_MISSING_STEPS","text":"This project guide is incomplete or missing critical steps."},{"title":"Unpublished","flagid":"GUIDE_PRIVATE","text":"This project guide will not appear in search results but can still be viewed by anyone!"}],"guideid":424,"image":{"imageid":14294,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1oaEEMIkBAQITIYX"},"introduction":"<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/2D1hQq77dlU?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>\n\n<p>I've had color organs on the brain since the <a href=\"http:\/\/blog.makezine.com\/archive\/2010\/10\/circuit_skills_led_color_organ_spon.html\">last installment<\/a> of the circuit skills series, so I decided try my hand at a new incarnation of the basic 3-channel sound-to-light machine using high-power LEDs.<\/p>\n\n<p>This time, I took advantage of the fact that I play all of my music from a computer, and created a 'patch' in <a href=\"http:\/\/cycling74.com\/products\/maxmspjitter\/\" rel=\"nofollow\">MaxMSP<\/a> to calculate high, mid, &amp; low values of the outgoing audio stream.  Max then sends these values out to an Arduino via serial connection over USB.  The Arduino then uses these values to set the individual PWM outputs of 6 different pins.  I wired each of these output pins to a couple of Rebel Tri-Driver boards which powered my Luxeon Rebel based display.  Alternatively, a much more affordable low-power display could be created by simply connecting each of those PWM outputs to a 5mm LED and resistor wired in series.<\/p>","introduction_rendered":"<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/2D1hQq77dlU?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>\n\n<p>I've had color organs on the brain since the <a href=\"http:\/\/blog.makezine.com\/archive\/2010\/10\/circuit_skills_led_color_organ_spon.html\">last installment<\/a> of the circuit skills series, so I decided try my hand at a new incarnation of the basic 3-channel sound-to-light machine using high-power LEDs.<\/p>\n\n<p>This time, I took advantage of the fact that I play all of my music from a computer, and created a 'patch' in <a href=\"http:\/\/cycling74.com\/products\/maxmspjitter\/\" rel=\"nofollow\">MaxMSP<\/a> to calculate high, mid, &amp; low values of the outgoing audio stream.  Max then sends these values out to an Arduino via serial connection over USB.  The Arduino then uses these values to set the individual PWM outputs of 6 different pins.  I wired each of these output pins to a couple of Rebel Tri-Driver boards which powered my Luxeon Rebel based display.  Alternatively, a much more affordable low-power display could be created by simply connecting each of those PWM outputs to a 5mm LED and resistor wired in series.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4\">Arduino microcontroller<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Computer\">Computer<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2261723\">USB cable<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/LEDs_resistors\">LEDs resistors<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Arduino microcontroller","notes":"","url":"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4","thumbnail":""},{"text":"Computer","notes":"","url":"http:\/\/makeprojects.com\/Item\/Computer","thumbnail":""},{"text":"USB cable","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2261723","thumbnail":""},{"text":"LEDs resistors","notes":"","url":"http:\/\/makeprojects.com\/Item\/LEDs_resistors","thumbnail":""}],"prereqs":[],"steps":[{"title":"","lines":[{"text":"First download the Max patch &amp; Arduino code for this project <a href=\"http:\/\/cdn.makezine.com\/make\/2010\/11\/Max-Arduino_Color_Organ.zip\">here<\/a>.","text_raw":"First download the Max patch & Arduino code for this project [http:\/\/cdn.makezine.com\/make\/2010\/11\/Max-Arduino_Color_Organ.zip|here].","bullet":"black","level":0},{"text":"To run the patch, you'll need to download &amp; install the free cross-platform <a href=\"http:\/\/cycling74.com\/downloads\/\" rel=\"nofollow\">Max Runtime<\/a> (link @ top righthand side of the page).","text_raw":"To run the patch, you'll need to download & install the free cross-platform [http:\/\/cycling74.com\/downloads\/|Max Runtime] (link @ top righthand side of the page).","bullet":"black","level":0},{"text":"The Max Runtime will also require some additional software in order to listen to your computer's outgoing audio.  I used <a href=\"http:\/\/code.google.com\/p\/soundflower\/downloads\/detail?name=Soundflower-1.5.2.dmg\" rel=\"nofollow\">Soundflower<\/a> to do this on my Mac, Windows &amp; Linux users should check out <a href=\"http:\/\/jackaudio.org\/download\" rel=\"nofollow\">Jack<\/a> (haven't used it myself, but I believe it should work for this).","text_raw":"The Max Runtime will also require some additional software in order to listen to your computer's outgoing audio.  I used [http:\/\/code.google.com\/p\/soundflower\/downloads\/detail?name=Soundflower-1.5.2.dmg|Soundflower] to do this on my Mac, Windows & Linux users should check out [http:\/\/jackaudio.org\/download|Jack] (haven't used it myself, but I believe it should work for this).","bullet":"black","level":0}],"object":null,"images":[{"imageid":14281,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/tfUoD4rTIVDWBxSx"}],"number":1},{"title":"","lines":[{"text":"Upload &quot;StereoColorOrganReceiver_r2.p<wbr \/>de&quot; to your Arduino.  Leave the Arduino connected to your computer via USB but quit\/close the Arduino IDE. You may need to download the Messenger library here <a href=\"http:\/\/www.arduino.cc\/playground\/Code\/Messenger\" rel=\"nofollow\" title=\"http:\/\/www.arduino.cc\/playground\/Code\/Messenger\">http:\/\/www.arduino.cc\/playground\/Code\/Me...<\/a>","text_raw":"Upload \"StereoColorOrganReceiver_r2.pde\" to your Arduino.  Leave the Arduino connected to your computer via USB but quit\/close the Arduino IDE. You may need to download the Messenger library here http:\/\/www.arduino.cc\/playground\/Code\/Messenger","bullet":"black","level":0}],"object":null,"images":[{"imageid":6635,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/EDLUAKocccdxk6KP"}],"number":2},{"title":"","lines":[{"text":"In OS X, set &quot;Soundflower(2 ch)&quot; to &quot;Built in Output&quot; and in the &quot;Audio Setup&quot; app\/utility, then set Soundflower(2 ch) as the audio input device.","text_raw":"In OS X, set \"Soundflower(2 ch)\" to \"Built in Output\" and in the \"Audio Setup\" app\/utility, then set Soundflower(2 ch) as the audio input device.","bullet":"black","level":0},{"text":"Open &quot;Max-Serial_Color Organ.mxf&quot; file with the &quot;MaxMSP Runtime&quot; app.  Click on the &quot;Audio I\/O&quot; button and in the DSP Status window that opens, set input device to &quot;Soundflower(2 ch)&quot;.","text_raw":"Open \"Max-Serial_Color Organ.mxf\" file with the \"MaxMSP Runtime\" app.  Click on the \"Audio I\/O\" button and in the DSP Status window that opens, set input device to \"Soundflower(2 ch)\".","bullet":"black","level":0},{"text":"Start some audio playing in the application of your choice (iTunes, WinAmp, etc.) and click the button next to &quot;AUDIO ENABLE&quot; (you should see a waveform animate the oscilloscope viewer now)","text_raw":"Start some audio playing in the application of your choice (iTunes, WinAmp, etc.) and click the button next to \"AUDIO ENABLE\" (you should see a waveform animate the oscilloscope viewer now)","bullet":"black","level":0},{"text":"Choose the address of your Arduino from the pulldown menu to the right of &quot;PORT:&quot;  Click the button next to &quot;SERIAL ENABLE&quot;  Your Arduino should now be receiving values and setting the PWM outputs accordingly.","text_raw":"Choose the address of your Arduino from the pulldown menu to the right of \"PORT:\"  Click the button next to \"SERIAL ENABLE\"  Your Arduino should now be receiving values and setting the PWM outputs accordingly.","bullet":"black","level":0}],"object":null,"images":[{"imageid":6640,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/FtqQna6CfJVDDFSS"},{"imageid":6637,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/whdi5jT4KwfGLlQs"},{"imageid":6641,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/wZIDY2PnaEEKclqo"}],"number":3},{"title":"","lines":[{"text":"The Arduino sketch maps the values in the following way:","text_raw":"The Arduino sketch maps the values in the following way:","bullet":"black","level":0},{"text":"High Left = pin 3","text_raw":"High Left = pin 3","bullet":"yellow","level":0},{"text":"Mid Left = pin 5","text_raw":"Mid Left = pin 5","bullet":"yellow","level":0},{"text":"Low Left = pin 6","text_raw":"Low Left = pin 6","bullet":"yellow","level":0},{"text":"High Right = pin 9","text_raw":"High Right = pin 9","bullet":"yellow","level":0},{"text":"Mid Right = pin 11","text_raw":"Mid Right = pin 11","bullet":"yellow","level":0},{"text":"Connect each of these pins to an LED with an appropriately sized resistor to limit the current. (<a href=\"http:\/\/led.linear1.org\/1led.wiz\" rel=\"nofollow\">online calculators<\/a> can be handy)","text_raw":"Connect each of these pins to an LED with an appropriately sized resistor to limit the current. ([http:\/\/led.linear1.org\/1led.wiz|online calculators] can be handy)","bullet":"black","level":0},{"text":"Alternatively high power LEDs could be used in conjunction with a separate power supply and\/or driver board.","text_raw":"Alternatively high power LEDs could be used in conjunction with a separate power supply and\/or driver board.","bullet":"black","level":0}],"object":null,"images":[{"imageid":14277,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/bBFOBIKWGoYNDALF"}],"number":4},{"title":"","lines":[{"text":"Insert wisdom here.","text_raw":"Insert wisdom here.","bullet":"black","level":0}],"object":null,"images":[{"imageid":14293,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/LDbw1KKVr15HyHEH"},{"imageid":14292,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/Vf636WvOx4ZSHVfk"}],"number":5},{"title":"","lines":[{"text":"Insert wisdom here.","text_raw":"Insert wisdom here.","bullet":"black","level":0}],"object":null,"images":[{"imageid":14284,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/TYjcqd3jjyJWWlms"},{"imageid":14291,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/naL4UH3nxDPVCLfL"},{"imageid":14290,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/CxtDS4uCiT1WdTk3"}],"number":6},{"title":"","lines":[{"text":"Insert wisdom here.","text_raw":"Insert wisdom here.","bullet":"black","level":0}],"object":null,"images":[{"imageid":14289,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/IBSWyd5hApQH6PoA"},{"imageid":14288,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/xOisXaU2E6kcSpIE"},{"imageid":14278,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1pWfLNftjmFevNho"}],"number":7},{"title":"","lines":[{"text":"Insert wisdom here.","text_raw":"Insert wisdom here.","bullet":"black","level":0}],"object":null,"images":[{"imageid":14287,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/e2bQdNPnDMYcTuCw"},{"imageid":14275,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ZLSXPIYSkYrDfoFd"}],"number":8}],"subject":"","summary":"Synchronize LEDs to stereo audio playing on a computer with the help of Arduino and the Max Runtime app.","time_required":"15 to 30 minutes","title":"Digital LED Color Organ","tools":[],"type":"project"},"guideid":"424"}