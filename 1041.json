{"device":"GPS","url":"http:\/\/makeprojects.com\/Project\/GPS+puzzle+box\/1041\/1","guide":{"author":{"text":"Fred Murphy","userid":6017},"categories":["GPS","Arduino"],"conclusion":"","difficulty":"Moderate","documents":[],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":1041,"image":{"imageid":19454,"text":"http:\/\/guide-images.makeprojects.org\/igi\/MevQZKY31ViIBJug"},"introduction":"<p>This is a step-by-step guide to how I built a GPS-based puzzle box. It's more of an example than a strict how-to.<\/p>\n\n<p>Whilst I'll show you everything and include my source code, don't expect a complete list of part and to end up with a finished product. You'll need to find a box that suits what you want, a way to mount the servos, etc. Expect to adjust it along the way.<\/p>","introduction_rendered":"<p>This is a step-by-step guide to how I built a GPS-based puzzle box. It's more of an example than a strict how-to.<\/p>\n\n<p>Whilst I'll show you everything and include my source code, don't expect a complete list of part and to end up with a finished product. You'll need to find a box that suits what you want, a way to mount the servos, etc. Expect to adjust it along the way.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Wooden_box\">Wooden box<\/a><\/li><li><a href=\"http:\/\/www.netduino.com\/netduinomini\/specs.htm\">Netduino Mini microcontroller<\/a><\/li><li><a href=\"http:\/\/www.skpang.co.uk\/catalog\/20-channel-em406a-sirf-iii-receiver-with-antenna-p-440.html\">Serial GPS unit<\/a><\/li><li><a href=\"http:\/\/www.skpang.co.uk\/catalog\/serial-miniature-oled-module-15-p-795.html\">Serial OLED display<\/a><\/li><li><a href=\"http:\/\/www.skpang.co.uk\/catalog\/breakout-board-for-microsd-transflash-p-639.html\">MicroSD card breakout board<\/a><\/li><li><a href=\"http:\/\/www.skpang.co.uk\/catalog\/compass-module-hmc6352-p-408.html\">Electronic compass<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062504\">Switch<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Matrix_board\">Matrix board<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Various_gears_from_an_old_clock\">Various gears from an old clock<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Basic_woodworking_tools\">Basic woodworking tools<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619\">Soldering iron<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Wooden box","notes":"","url":"http:\/\/makeprojects.com\/Item\/Wooden_box","thumbnail":""},{"text":"Netduino Mini microcontroller","notes":"","url":"http:\/\/www.netduino.com\/netduinomini\/specs.htm","thumbnail":""},{"text":"Serial GPS unit","notes":"","url":"http:\/\/www.skpang.co.uk\/catalog\/20-channel-em406a-sirf-iii-receiver-with-antenna-p-440.html","thumbnail":""},{"text":"Serial OLED display","notes":"","url":"http:\/\/www.skpang.co.uk\/catalog\/serial-miniature-oled-module-15-p-795.html","thumbnail":""},{"text":"MicroSD card breakout board","notes":"","url":"http:\/\/www.skpang.co.uk\/catalog\/breakout-board-for-microsd-transflash-p-639.html","thumbnail":""},{"text":"Electronic compass","notes":"","url":"http:\/\/www.skpang.co.uk\/catalog\/compass-module-hmc6352-p-408.html","thumbnail":""},{"text":"Switch","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062504","thumbnail":""},{"text":"Matrix board","notes":"","url":"http:\/\/makeprojects.com\/Item\/Matrix_board","thumbnail":""},{"text":"Various gears from an old clock","notes":"","url":"http:\/\/makeprojects.com\/Item\/Various_gears_from_an_old_clock","thumbnail":""}],"prereqs":[],"steps":[{"title":"","lines":[{"text":"This is a GPS-based puzzle box  that was made for my nephew's 8th birthday.","text_raw":"This is a GPS-based puzzle box  that was made for my nephew's 8th birthday.","bullet":"black","level":0},{"text":"It's inspired by a couple of project I'd seen - a <a href=\"http:\/\/arduiniana.org\/projects\/the-reverse-geo-cache-puzzle\/\" rel=\"nofollow\">reverse geocache<\/a> box and a <a href=\"http:\/\/www.instructables.com\/id\/Steampunk-Compass\" rel=\"nofollow\">steampunk compass<\/a>. I'd also done a standard netduino based box similar to the reverse geocache for a friend, but I wanted to do a little better and the Mini was just perfect for it.","text_raw":"It's inspired by a couple of project I'd seen - a [http:\/\/arduiniana.org\/projects\/the-reverse-geo-cache-puzzle\/|reverse geocache] box and a [http:\/\/www.instructables.com\/id\/Steampunk-Compass|steampunk compass]. I'd also done a standard netduino based box similar to the reverse geocache for a friend, but I wanted to do a little better and the Mini was just perfect for it.","bullet":"black","level":0},{"text":"The plan was to take my nephew via a few locations and perhaps involve a bit more than just the GPS. In the end he had to do 6 challenges. The first 5 were to find a certain point. He had a descriptive clue and sometimes wither a distance countdown or an arrow pointing in the right direction. The final challenge was to find some magnetic ball bearings and put them on the lid, operating a reed switch and unlocking it.","text_raw":"The plan was to take my nephew via a few locations and perhaps involve a bit more than just the GPS. In the end he had to do 6 challenges. The first 5 were to find a certain point. He had a descriptive clue and sometimes wither a distance countdown or an arrow pointing in the right direction. The final challenge was to find some magnetic ball bearings and put them on the lid, operating a reed switch and unlocking it.","bullet":"black","level":0}],"object":null,"images":[{"imageid":19453,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ASuoQTEkYBWVKyAl"}],"number":1},{"title":"","lines":[{"text":"You'll need to find a suitable wooden box for your project. I looked at nice solid wood cigar boxes, but then found a nice balsa box on eBay and stained it darker. I think it worked surprisingly well.","text_raw":"You'll need to find a suitable wooden box for your project. I looked at nice solid wood cigar boxes, but then found a nice balsa box on eBay and stained it darker. I think it worked surprisingly well.","bullet":"black","level":0},{"text":"Remove any locks and work out how it will be locked from the inside. I used a pin and cut a servo arm into a hook shape. When the servo's in the &quot;locked&quot; position the arm hooks over the pin.","text_raw":"Remove any locks and work out how it will be locked from the inside. I used a pin and cut a servo arm into a hook shape. When the servo's in the \"locked\" position the arm hooks over the pin.","bullet":"black","level":0},{"text":"If you lock yourself out whilst building it, just unscrew the hinges.","text_raw":"If you lock yourself out whilst building it, just unscrew the hinges.","bullet":"black","level":0},{"text":"You'll also need to cut out a suitable hole for the screen you're using and for a simple on\/off switch.","text_raw":"You'll also need to cut out a suitable hole for the screen you're using and for a simple on\/off switch.","bullet":"black","level":0}],"object":null,"images":[],"number":2},{"title":"","lines":[{"text":"Each step in the &quot;puzzle&quot; involves getting a clue (on the OLED screen) and sometimes a distance remaining and\/or a direction shown by the arrow.","text_raw":"Each step in the \"puzzle\" involves getting a clue (on the OLED screen) and sometimes a distance remaining and\/or a direction shown by the arrow.","bullet":"black","level":0},{"text":"You'll need a second servo for the arrow. As servos normally rotate less than 180 degrees some gears from an old clock were used to allow rotaion of over 360 degrees. That way the arrow can always point the right was as you rotate the box. (Knowing how the box is oriented is what the compass is for.)","text_raw":"You'll need a second servo for the arrow. As servos normally rotate less than 180 degrees some gears from an old clock were used to allow rotaion of over 360 degrees. That way the arrow can always point the right was as you rotate the box. (Knowing how the box is oriented is what the compass is for.)","bullet":"black","level":0},{"text":"Is the picture the servo shaft is fixed to the plastic gear which drives the one with the arrow. The third gear is just for show. It rotates, but isn't really needed.","text_raw":"Is the picture the servo shaft is fixed to the plastic gear which drives the one with the arrow. The third gear is just for show. It rotates, but isn't really needed.","bullet":"black","level":0}],"object":null,"images":[{"imageid":19449,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/E1wToGOFXHGVHl1X"}],"number":3},{"title":"","lines":[{"text":"As far as the electronics goes, all the components are connected to the Netduino using their standard protocols.","text_raw":"As far as the electronics goes, all the components are connected to the Netduino using their standard protocols.","bullet":"black","level":0},{"text":"The compass is connected via I2C to the Netduino (pins 9 and 10).","text_raw":"The compass is connected via I2C to the Netduino (pins 9 and 10).","bullet":"black","level":0},{"text":"The micro SD breakout board is connected using SPI (pins 14-16). All the hard work communicating with a file system on the card over SPI is done for you by the guys at Secret Labs and Microsoft.","text_raw":"The micro SD breakout board is connected using SPI (pins 14-16). All the hard work communicating with a file system on the card over SPI is done for you by the guys at Secret Labs and Microsoft.","bullet":"black","level":0},{"text":"The two servos (for the lock and the arrow) are controlled using PWM (pins 17 and 18).","text_raw":"The two servos (for the lock and the arrow) are controlled using PWM (pins 17 and 18).","bullet":"black","level":0},{"text":"The only slightly tricky bit is the OLED display and the GPS. They both need 3.3V serial but the Netduino Mini only has one 3.3V serial port. The other RS232-level port was used for programming the device.","text_raw":"The only slightly tricky bit is the OLED display and the GPS. They both need 3.3V serial but the Netduino Mini only has one 3.3V serial port. The other RS232-level port was used for programming the device.","bullet":"black","level":0},{"text":"Luckily we only write to the screen and read from the GPS, so I manage to get them to share the serial port.","text_raw":"Luckily we only write to the screen and read from the GPS, so I manage to get them to share the serial port.","bullet":"black","level":0},{"text":"By another stroke of luck, the OLED display also provides a useful regulated 3.3v output to power the compass and SD card.","text_raw":"By another stroke of luck, the OLED display also provides a useful regulated 3.3v output to power the compass and SD card.","bullet":"black","level":0},{"text":"My initial prototyping was done using a standard Netduino which had 2 3.3v serial ports and a regulated 3.3v output to power the compass and SD card. If you're new to the Netduino, I'd recommend this as an easier starting point than the Mini.","text_raw":"My initial prototyping was done using a standard Netduino which had 2 3.3v serial ports and a regulated 3.3v output to power the compass and SD card. If you're new to the Netduino, I'd recommend this as an easier starting point than the Mini.","bullet":"black","level":0}],"object":null,"images":[{"imageid":19451,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/LDoSZFEncPjW6H14"}],"number":4},{"title":"","lines":[{"text":"With the box assembled, it now came down to writing the software to control it all. The advantage of the Netduino over it's more familiar cousin the Arduino, it that there's a much richer event-driven programming environment. Ideal for these sort of projects. C# programmers will feel right at home because that's what you use. You can even set a breakpoint in Visual Studio and you can debug live on the device.","text_raw":"With the box assembled, it now came down to writing the software to control it all. The advantage of the Netduino over it's more familiar cousin the Arduino, it that there's a much richer event-driven programming environment. Ideal for these sort of projects. C# programmers will feel right at home because that's what you use. You can even set a breakpoint in Visual Studio and you can debug live on the device.","bullet":"black","level":0},{"text":"If you don't have Visual Studio, no problem. The free version of Visual C# Express that you can download from Microsoft will do just fine.","text_raw":"If you don't have Visual Studio, no problem. The free version of Visual C# Express that you can download from Microsoft will do just fine.","bullet":"black","level":0},{"text":"I decided on a series of &quot;tasks&quot; that would take my nephew via various GPS coordinates. His favourite thing (at the time) was the film &quot;How to train your dragon&quot; so all the clues were Viking themed. Obviously you can set things however you want.","text_raw":"I decided on a series of \"tasks\" that would take my nephew via various GPS coordinates. His favourite thing (at the time) was the film \"How to train your dragon\" so all the clues were Viking themed. Obviously you can set things however you want.","bullet":"black","level":0},{"text":"For some waypoints he would get a distance readout. Some would require him to follow the arrow. Some were just text clues - &quot;you're almost there&quot;.","text_raw":"For some waypoints he would get a distance readout. Some would require him to follow the arrow. Some were just text clues - \"you're almost there\".","bullet":"black","level":0},{"text":"I've attached my source code, and all you'd have to do would be to adjust the coordinates and messages in the task file it reads from the SD card. Where's the fun in that though? Pick it apart and get it how you want it to work!","text_raw":"I've attached my source code, and all you'd have to do would be to adjust the coordinates and messages in the task file it reads from the SD card. Where's the fun in that though? Pick it apart and get it how you want it to work!","bullet":"black","level":0}],"object":null,"images":[{"imageid":19458,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1VAO6UEWbFRgTrYU"}],"number":5}],"subject":"","summary":"This is a GPS-based puzzle I built for my nephew's 8th birthday.","time_required":"Weeks","title":"GPS puzzle box","tools":[{"text":"Basic woodworking tools","notes":"","url":"http:\/\/makeprojects.com\/Item\/Basic_woodworking_tools","thumbnail":""},{"text":"Soldering iron","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619","thumbnail":""}],"type":"project"},"guideid":"1041"}