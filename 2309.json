{"device":"Gadgets","url":"http:\/\/makeprojects.com\/Project\/DeskLights+2.0\/2309\/1","guide":{"author":{"text":"Michael LaGrasta","userid":12171},"categories":["Gadgets","Furniture"],"conclusion":"<p>Depending on how you like to make your connections, you may prefer different connectors or to solder connections.<\/p>\n\n<p>Also, there are several variations of light strands. Any lights using the WS2801 or LPD8806 controller will work with the Arduino library used in this project.<\/p>\n\n<p>On the first version of this project, I used foam core poster board and tape instead of the peg board and zip ties. That worked fine for almost a year until I decided to upgrade. If that is easier for you to work with, go for it.<\/p>","difficulty":"Moderate","documents":[],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":2309,"image":{"imageid":45637,"text":"http:\/\/guide-images.makeprojects.org\/igi\/cnfdEcjaA4ZVWtvs"},"introduction":"<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/KVFkWWvMIpM?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>\n\n<p>The desk receives event notifications over the network and alters its color and pattern to provide those notifications to the user. The combination of color and location can be used to communicate a wide variety of information.<\/p>\n\n<p>Simple flashes of different colors inform me of new e-mail, phone, or chat messages. It is also possible to designate individual lights for certain purposes. A light can change from green to red to indicate server health and process load or increase its intensity the longer you ignore your email.<\/p>\n\n<p>The desk can also run a default pattern between notifications. So far I've got the rainbow pattern, a robot sweep, randomly colored pixels, and a test pattern.<\/p>\n\n<p>Inside the desk are 40 LED modules that can be individually set to any RGB color. Each module has 4 LEDs, giving a total of 160 LEDs for the desk. An Arduino Uno Ethernet microcontroller listens for incoming HTTP connections and converts this stream into serial commands for the lights. Since the desk is actually a web server, it makes it very easy to send commands to the desk. Every scripting language on the planet can request a web page.<\/p>\n\n<p>To complete this project, you'll need some sort of frosted glass surface. Alternatively, I've been told that some vellum paper behind regular glass or plexi will also work, but I have not tried it myself. You'll need to be able to download some source code and load it onto the Arduino. You'll have to make some wire connections by either twisting, soldering, or crimping. Lastly, the lights will need to be attached to some form of support to keep them in place. If you can do those things, you can do this project.<\/p>","introduction_rendered":"<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/KVFkWWvMIpM?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>\n\n<p>The desk receives event notifications over the network and alters its color and pattern to provide those notifications to the user. The combination of color and location can be used to communicate a wide variety of information.<\/p>\n\n<p>Simple flashes of different colors inform me of new e-mail, phone, or chat messages. It is also possible to designate individual lights for certain purposes. A light can change from green to red to indicate server health and process load or increase its intensity the longer you ignore your email.<\/p>\n\n<p>The desk can also run a default pattern between notifications. So far I've got the rainbow pattern, a robot sweep, randomly colored pixels, and a test pattern.<\/p>\n\n<p>Inside the desk are 40 LED modules that can be individually set to any RGB color. Each module has 4 LEDs, giving a total of 160 LEDs for the desk. An Arduino Uno Ethernet microcontroller listens for incoming HTTP connections and converts this stream into serial commands for the lights. Since the desk is actually a web server, it makes it very easy to send commands to the desk. Every scripting language on the planet can request a web page.<\/p>\n\n<p>To complete this project, you'll need some sort of frosted glass surface. Alternatively, I've been told that some vellum paper behind regular glass or plexi will also work, but I have not tried it myself. You'll need to be able to download some source code and load it onto the Arduino. You'll have to make some wire connections by either twisting, soldering, or crimping. Lastly, the lights will need to be attached to some form of support to keep them in place. If you can do those things, you can do this project.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Ikea_Galant_or_other_frosted_glass_desk\">Ikea Galant or other frosted glass desk<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/418\">Arduino Uno Ethernet<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/683\">Adafruit LED Pixel<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/276\">5V 2A (2000mA) switching power supply<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/352\">12V 5A switching power supply<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/352\">your preferred two and three conductor connectors<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/368\">Female DC Power adapter - 2.1mm jack to screw terminal block<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/368\">peg board to match desk size<\/a><\/li><li><a href=\"https:\/\/www.adafruit.com\/products\/368\">100 small zip ties<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Arduino_Sketch_https_github.com_mnlagrasta_DeskLights2\">Arduino Sketch: https:\/\/github.com\/mnlagrasta\/DeskLights2<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Double_sided_tape\">Double sided tape<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Velcro_tape\">Velcro tape<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3932543\">Wire cutter\/stripper<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Ikea Galant or other frosted glass desk","notes":"","url":"http:\/\/makeprojects.com\/Item\/Ikea_Galant_or_other_frosted_glass_desk","thumbnail":""},{"text":"Arduino Uno Ethernet","notes":"","url":"https:\/\/www.adafruit.com\/products\/418","thumbnail":""},{"text":"Adafruit LED Pixel","notes":"","url":"https:\/\/www.adafruit.com\/products\/683","thumbnail":""},{"text":"5V 2A (2000mA) switching power supply","notes":"","url":"https:\/\/www.adafruit.com\/products\/276","thumbnail":""},{"text":"12V 5A switching power supply","notes":"","url":"https:\/\/www.adafruit.com\/products\/352","thumbnail":""},{"text":"your preferred two and three conductor connectors","notes":"These lights came with JST connectors on the signal lines, which I had a hard time finding. I swapped them out with rc servo connectors, which allowed me to buy ready made extensions at any hobby store. I then used molex 060 connectors for the power.","url":"https:\/\/www.adafruit.com\/products\/352","thumbnail":""},{"text":"Female DC Power adapter - 2.1mm jack to screw terminal block","notes":"","url":"https:\/\/www.adafruit.com\/products\/368","thumbnail":""},{"text":"peg board to match desk size","notes":"","url":"https:\/\/www.adafruit.com\/products\/368","thumbnail":""},{"text":"100 small zip ties","notes":"","url":"https:\/\/www.adafruit.com\/products\/368","thumbnail":""},{"text":"Arduino Sketch: https:\/\/github.com\/mnlagrasta\/DeskLights2","notes":"","url":"http:\/\/makeprojects.com\/Item\/Arduino_Sketch_https_github.com_mnlagrasta_DeskLights2","thumbnail":""},{"text":"Double sided tape","notes":"","url":"http:\/\/makeprojects.com\/Item\/Double_sided_tape","thumbnail":""},{"text":"Velcro tape","notes":"","url":"http:\/\/makeprojects.com\/Item\/Velcro_tape","thumbnail":""}],"prereqs":[],"steps":[{"title":"","lines":[{"text":"To start, you'll have to choose your desk, picture frame, box, or whatever you want to use. Take some measurements and decide how many lights you'd like to include.","text_raw":"To start, you'll have to choose your desk, picture frame, box, or whatever you want to use. Take some measurements and decide how many lights you'd like to include.","bullet":"black","level":0},{"text":"I used an Ikea Galant desk, which just happened to have the perfect frosted surface to diffuse the lights. That is really the most important part of the project.","text_raw":"I used an Ikea Galant desk, which just happened to have the perfect frosted surface to diffuse the lights. That is really the most important part of the project.","bullet":"black","level":0},{"text":"Assemble the desk according to the normal instructions. We can easily work with the completed desk from underneath.","text_raw":"Assemble the desk according to the normal instructions. We can easily work with the completed desk from underneath.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45637,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/cnfdEcjaA4ZVWtvs"}],"number":1},{"title":"","lines":[{"text":"Now determine how you will support and attach the lights. In my case, the desk had a great open area between the two main support rails. So I cut a piece of peg board so that I could attach it from under the rails.","text_raw":"Now determine how you will support and attach the lights. In my case, the desk had a great open area between the two main support rails. So I cut a piece of peg board so that I could attach it from under the rails.","bullet":"black","level":0},{"text":"In my original version, I used foam core. I poked holes in the foam core and positioned the lights using twist ties. I then used painter's tape to hang the board from the rails. This is a great way to play with the layout and allows you to easily change things around.","text_raw":"In my original version, I used foam core. I poked holes in the foam core and positioned the lights using twist ties. I then used painter's tape to hang the board from the rails. This is a great way to play with the layout and allows you to easily change things around.","bullet":"black","level":0},{"text":"For this more-polished version, I used the peg board which saved me from trying to precisely drill 80 to 90 holes. The lights I used have a center hole and a mounting tab on two sides. I pushed a zip tie up through the center and down through one of the side holes. The two holes were enough to hold the lights in the desired orientation.","text_raw":"For this more-polished version, I used the peg board which saved me from trying to precisely drill 80 to 90 holes. The lights I used have a center hole and a mounting tab on two sides. I pushed a zip tie up through the center and down through one of the side holes. The two holes were enough to hold the lights in the desired orientation.","bullet":"black","level":0},{"text":"I also used double-sided padded tape to attach hinges to the light board. That, along with some velcro tape on the other edge, allowed me to repeatedly open up the desk to show visitors at my Maker Faire exhibit. This is totally optional, but if you want to make changes to the Arduino code, you'll need to make sure you can access the USB or FTDI programming port.","text_raw":"I also used double-sided padded tape to attach hinges to the light board. That, along with some velcro tape on the other edge, allowed me to repeatedly open up the desk to show visitors at my Maker Faire exhibit. This is totally optional, but if you want to make changes to the Arduino code, you'll need to make sure you can access the USB or FTDI programming port.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45708,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/OcgLXUMMKNAnRsUC"}],"number":2},{"title":"","lines":[{"text":"Now figure out where you want to place your Arduino controller. You'll want to make sure you have easy access to connect the signal lines to the first light in the strand. The lights on this model are marked  with an &quot;In&quot; and &quot;Out&quot; side, so make sure you follow that.","text_raw":"Now figure out where you want to place your Arduino controller. You'll want to make sure you have easy access to connect the signal lines to the first light in the strand. The lights on this model are marked  with an \"In\" and \"Out\" side, so make sure you follow that.","bullet":"black","level":0},{"text":"The Arduino will connect to the lights using the ground pin and two other pins. Pay attention to which pins you use because this will have to match the Arduino code. The default in the code is to connect the yellow Data wire to pin 2 and the green Clock wire to pin 3.","text_raw":"The Arduino will connect to the lights using the ground pin and two other pins. Pay attention to which pins you use because this will have to match the Arduino code. The default in the code is to connect the yellow Data wire to pin 2 and the green Clock wire to pin 3.","bullet":"black","level":0},{"text":"Once everything is placed, it is a good time to make your wire connections, by whatever means you prefer. I used RC servo connectors for the signal lines and Molex connectors for power. These were commonly available and easy to work with.","text_raw":"Once everything is placed, it is a good time to make your wire connections, by whatever means you prefer. I used RC servo connectors for the signal lines and Molex connectors for power. These were commonly available and easy to work with.","bullet":"black","level":0},{"text":"For the initial power connection to the lights I used a 2.1mm barrel connector with screw terminals. This matches the power supply in the parts list. CAUTION: Both the Arduino and light power supplies use the same connectors. If you connect the larger power supply to the Arduino, it will be damaged. I marked the two connectors with different color electrical tape to make sure I did not do this.","text_raw":"For the initial power connection to the lights I used a 2.1mm barrel connector with screw terminals. This matches the power supply in the parts list. CAUTION: Both the Arduino and light power supplies use the same connectors. If you connect the larger power supply to the Arduino, it will be damaged. I marked the two connectors with different color electrical tape to make sure I did not do this.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45634,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/OTdKSJNIqYrM3Jlh"},{"imageid":45632,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/TeOUWmsVSaJVQEUM"},{"imageid":45635,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/QFmFEqCyqXHgt1DL"}],"number":3},{"title":"","lines":[{"text":"Now it's time for the software. You can download <a href=\"https:\/\/github.com\/mnlagrasta\/DeskLights2\" rel=\"nofollow\">the Arduino code<\/a> from my GitHub account.","text_raw":"Now it's time for the software. You can download [https:\/\/github.com\/mnlagrasta\/DeskLights2|the Arduino code] from my GitHub account.","bullet":"black","level":0},{"text":"You'll also need to download and install <a href=\"http:\/\/arduino.cc\/en\/Main\/Software\" rel=\"nofollow\">the Arduino tools<\/a> to upload the code onto the microcontroller.","text_raw":"You'll also need to download and install [http:\/\/arduino.cc\/en\/Main\/Software|the Arduino tools] to upload the code onto the microcontroller.","bullet":"black","level":0},{"text":"Open up the code in the Arduino software and modify the required lines. You'll need to change things to correspond to your selected hardware. The entries are all marked in the code with the word &quot;update&quot; so search for that and follow the tips in the comments.","text_raw":"Open up the code in the Arduino software and modify the required lines. You'll need to change things to correspond to your selected hardware. The entries are all marked in the code with the word \"update\" so search for that and follow the tips in the comments.","bullet":"black","level":0},{"text":"You'll have to change the MAC address to match your Arduino Ethernet shield, the IP address to match your network, the number of lights to match your light strand, and the grid function to match your physical layout.","text_raw":"You'll have to change the MAC address to match your Arduino Ethernet shield, the IP address to match your network, the number of lights to match your light strand, and the grid function to match your physical layout.","bullet":"black","level":0},{"text":"The grid function may be the trickiest. It takes an x.y coordinate and maps it to the numeric index of the light in the strand. Luckily, some experimentation makes it very obvious which lights are which.","text_raw":"The grid function may be the trickiest. It takes an x.y coordinate and maps it to the numeric index of the light in the strand. Luckily, some experimentation makes it very obvious which lights are which.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45712,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/raFrYG1UxrqsPLSW"},{"imageid":45715,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/WwrArYIEIDBvGThQ"}],"number":4},{"title":"","lines":[{"text":"Now double check your wiring and light it up. The code is set to run the test pattern immediately and then begin listening for incoming connections. If you don't see the test pattern, then verify your power and signal connections. If that doesn't help, make sure that the upload to the Arduino went correctly.","text_raw":"Now double check your wiring and light it up. The code is set to run the test pattern immediately and then begin listening for incoming connections. If you don't see the test pattern, then verify your power and signal connections. If that doesn't help, make sure that the upload to the Arduino went correctly.","bullet":"black","level":0},{"text":"Now you can control the desk by requesting a web page. Just send it one of the accepted commands. You can find a list of commands in the code. The format will look like this: <tt>http:\/\/desk_ip\/alert?ffffff<\/tt> or <tt>http:\/\/desk_ip\/skype<\/tt>","text_raw":"Now you can control the desk by requesting a web page. Just send it one of the accepted commands. You can find a list of commands in the code. The format will look like this: ``http:\/\/desk_ip\/alert?ffffff`` or ``http:\/\/desk_ip\/skype``","bullet":"black","level":0},{"text":"Once you've confirmed that is working correctly, you can set up any scripts you want to send commands to the desk. I've included a couple of AppleScript files that can be used to trigger the lights from a Mac app like Mail. There is also a Growl style that shows how to get Growl to trigger the lights.","text_raw":"Once you've confirmed that is working correctly, you can set up any scripts you want to send commands to the desk. I've included a couple of AppleScript files that can be used to trigger the lights from a Mac app like Mail. There is also a Growl style that shows how to get Growl to trigger the lights.","bullet":"black","level":0},{"text":"Remember that since you can control the desk over the network, these events can come from almost anywhere \u2014 servers, render farms, mobile devices, VOIP phones \u2014 whatever can request a web page.","text_raw":"Remember that since you can control the desk over the network, these events can come from almost anywhere \u2014 servers, render farms, mobile devices, VOIP phones \u2014 whatever can request a web page.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45714,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/6DwXoBQtBSSNfXxI"}],"number":5}],"subject":"","summary":"Network of connected RGB LEDs provides event notifications by shining through a frosted glass desk. As seen at Bay Area Maker Faire 2012!","time_required":"6 hours","title":"DeskLights 2.0","tools":[{"text":"Wire cutter\/stripper","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3932543","thumbnail":""}],"type":"project"},"guideid":"2309"}