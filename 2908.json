{"device":"Arduino","url":"http:\/\/makeprojects.com\/Project\/LED+Sound+Meter\/2908\/1","guide":{"author":{"text":"Sam Berg","userid":16241},"categories":["Arduino","Soft Circuits"],"conclusion":"","difficulty":"Moderate","documents":[],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":2908,"image":{"imageid":58465,"text":"http:\/\/guide-images.makeprojects.org\/igi\/xRfnhWbcmpkIgJfl"},"introduction":"<p>In this guide you will learn to create an array of LEDs that visually represent the volume picked up by an electret microphone.  You will learn how to wire 3 different circuits which comprise the LED array (which is really many individual circuits), the microphone, and a button which can be used to change the display mode of the LEDs.  This guide will not cover all of the coding involved in making this, but it WILL give you the full code needed to make this work.  The code is thoroughly commented and will teach you a lot if you are interested in the programming behind this.<\/p>","introduction_rendered":"<p>In this guide you will learn to create an array of LEDs that visually represent the volume picked up by an electret microphone.  You will learn how to wire 3 different circuits which comprise the LED array (which is really many individual circuits), the microphone, and a button which can be used to change the display mode of the LEDs.  This guide will not cover all of the coding involved in making this, but it WILL give you the full code needed to make this work.  The code is thoroughly commented and will teach you a lot if you are interested in the programming behind this.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Electret_Microphone\">Electret Microphone<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/family\/index.jsp?categoryId=2032298\">LED<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/LM386_audio_op-amp\">LM386 audio op-amp<\/a><\/li><li><a href=\"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4\">Arduino Uno<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2734155\">Small Breadboard<\/a><\/li><li><a href=\"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSEEED3\">Jumper Wire<\/a><\/li><li><a href=\"https:\/\/www.jameco.com\/webapp\/wcs\/stores\/servlet\/Product_10001_10001_690785_-1\">1\/4W 470 ohm resistor<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2103623\">Capacitor, 220\u03bcF electrolytic<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2102481\">Electrolytic capacitor, 10uF<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062510\">Push-button switch<\/a><\/li><li><a href=\"https:\/\/www.radioshack.com\/product\/index.jsp?productId=2062347\">Resistor, 10k\u03a9, 1\/4W<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062364\">.05\u00b5F Ceramic Disc Capacitor<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Electret Microphone","notes":"","url":"http:\/\/makeprojects.com\/Item\/Electret_Microphone","thumbnail":""},{"text":"LED","notes":"","url":"http:\/\/www.radioshack.com\/family\/index.jsp?categoryId=2032298","thumbnail":""},{"text":"LM386 audio op-amp","notes":"Any audio op-amp will work but you will need to look up the datasheet for yourself.","url":"http:\/\/makeprojects.com\/Item\/LM386_audio_op-amp","thumbnail":""},{"text":"Arduino Uno","notes":"","url":"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4","thumbnail":""},{"text":"Small Breadboard","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2734155","thumbnail":""},{"text":"Jumper Wire","notes":"","url":"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSEEED3","thumbnail":""},{"text":"1\/4W 470 ohm resistor","notes":"","url":"https:\/\/www.jameco.com\/webapp\/wcs\/stores\/servlet\/Product_10001_10001_690785_-1","thumbnail":""},{"text":"Capacitor, 220\u03bcF electrolytic","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2103623","thumbnail":""},{"text":"Electrolytic capacitor, 10uF","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2102481","thumbnail":""},{"text":"Push-button switch","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062510","thumbnail":""},{"text":"Resistor, 10k\u03a9, 1\/4W","notes":"","url":"https:\/\/www.radioshack.com\/product\/index.jsp?productId=2062347","thumbnail":""},{"text":".05\u00b5F Ceramic Disc Capacitor","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062364","thumbnail":""}],"prereqs":[],"steps":[{"title":"Overview","lines":[{"text":"This project will use an electret microphone to light up an array of LEDs. The parts used are shown in the picture to the left.","text_raw":"This project will use an electret microphone to light up an array of LEDs. The parts used are shown in the picture to the left.","bullet":"black","level":0}],"object":null,"images":[{"imageid":54082,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/oFFfIYNYQuBPplmy"}],"number":1},{"title":"Creating the LED circuit.","lines":[{"text":"Connect all of your 470 ohm resistors to consecutive digital pins on your Arduino, and connect the other ends to different rows on your breadboard.","text_raw":"Connect all of your 470 ohm resistors to consecutive digital pins on your Arduino, and connect the other ends to different rows on your breadboard.","bullet":"black","level":0},{"text":"Next attach the long (positive) leads of your LEDs to the same row as each resistor.  Attach the other leads of the LEDs to the corresponding rows on the other side of the board.","text_raw":"Next attach the long (positive) leads of your LEDs to the same row as each resistor.  Attach the other leads of the LEDs to the corresponding rows on the other side of the board.","bullet":"black","level":0},{"text":"Finally, connect the ground pin from your Arduino to the negative column on your breadboard.  Then connect all your LEDS to that negative column.","text_raw":"Finally, connect the ground pin from your Arduino to the negative column on your breadboard.  Then connect all your LEDS to that negative column.","bullet":"black","level":0}],"object":null,"images":[{"imageid":54084,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/akASRhURIHsHOBPD"},{"imageid":54187,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1D3Ty6KsGbINXFPD"},{"imageid":54262,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/AynGyxTbdKJ3KGRf"}],"number":2},{"title":"Creating the microphone circuit.","lines":[{"text":"First set up the 5v and ground on your breadboard by hooking up 5v to one of the red &quot;+&quot; columns and ground to one of the blue &quot;-&quot; columns.","text_raw":"First set up the 5v and ground on your breadboard by hooking up 5v to one of the red \"+\" columns and ground to one of the blue \"-\" columns.","bullet":"black","level":0},{"text":"Next connect the negative lead of your microphone to ground.","text_raw":"Next connect the negative lead of your microphone to ground.","bullet":"black","level":0},{"text":"Connect the positive lead of your microphone to a 0.1 uF capacitor.  We will call this Capacitor 1.","text_raw":"Connect the positive lead of your microphone to a 0.1 uF capacitor.  We will call this Capacitor 1.","bullet":"black","level":0},{"text":"Next attach a transistor, with the base (middle) pin connected to the other lead of the capacitor from step 3.","text_raw":"Next attach a transistor, with the base (middle) pin connected to the other lead of the capacitor from step 3.","bullet":"black","level":0},{"text":"Attach a wire from the collector (right) pin of the transistor to another 0.1 uF capacitor.  We'll call this Capacitor 2.  Then connect the other end of that capacitor to analog pin 0.  You can technically use any analog pin you want but you will have to change the number in your code.","text_raw":"Attach a wire from the collector (right) pin of the transistor to another 0.1 uF capacitor.  We'll call this Capacitor 2.  Then connect the other end of that capacitor to analog pin 0.  You can technically use any analog pin you want but you will have to change the number in your code.","bullet":"black","level":0},{"text":"Now attach the emitter (left) pin of the transistor to ground.","text_raw":"Now attach the emitter (left) pin of the transistor to ground.","bullet":"black","level":0},{"text":"Now take two 10k resistors and attach one end of each to 5v.  Attach one of the resistors to the positive side of the microphone.  Attach the other one to the emitter (right) pin of the transistor.  You are now done with the microphone circuit.  Keep in mind that all the red circles in the pictures represent what you need to attach to analog pin 0.","text_raw":"Now take two 10k resistors and attach one end of each to 5v.  Attach one of the resistors to the positive side of the microphone.  Attach the other one to the emitter (right) pin of the transistor.  You are now done with the microphone circuit.  Keep in mind that all the red circles in the pictures represent what you need to attach to analog pin 0.","bullet":"black","level":0}],"object":null,"images":[{"imageid":54326,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/DyfOl1NtosOBf2Lw"},{"imageid":54329,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/HfopDbfJIyZaWn1W"},{"imageid":54325,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hVyYsapa2HidQRCD"}],"number":3},{"title":"Setting up the button.","lines":[{"text":"First place the button across the middle of the breadboard.","text_raw":"First place the button across the middle of the breadboard.","bullet":"black","level":0},{"text":"Attach one of the pins of the button to ground.","text_raw":"Attach one of the pins of the button to ground.","bullet":"black","level":0},{"text":"Next attach the pin on the same side of the button, but the opposite side of the breadboard, to digital pin 13.  In can be to any digital pin you aren't using but you will have to change that in the code.","text_raw":"Next attach the pin on the same side of the button, but the opposite side of the breadboard, to digital pin 13.  In can be to any digital pin you aren't using but you will have to change that in the code.","bullet":"black","level":0},{"text":"Finally, attach the pin on the same side of the breadboard as the resistor to 5v and you are done setting up the button.","text_raw":"Finally, attach the pin on the same side of the breadboard as the resistor to 5v and you are done setting up the button.","bullet":"black","level":0},{"text":"The button will be used to change display modes.","text_raw":"The button will be used to change display modes.","bullet":"black","level":0}],"object":null,"images":[{"imageid":54409,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/6UPULwIk5kiFZPV3"},{"imageid":54411,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/OCuVlBAasNOFdHlL"}],"number":4},{"title":"The Code","lines":[{"text":"Copy and paste the code from <a href=\"https:\/\/docs.google.com\/document\/d\/1aj4WOO4V_QEBj0bypnzl2-VcNrHkG5lbpBcmmdRHG0U\/edit\" rel=\"nofollow\">here<\/a>.","text_raw":"Copy and paste the code from [https:\/\/docs.google.com\/document\/d\/1aj4WOO4V_QEBj0bypnzl2-VcNrHkG5lbpBcmmdRHG0U\/edit|here].","bullet":"black","level":0},{"text":"There are several adjustments you may need to make if you didn't use the same digital and analog pins I used.","text_raw":"There are several adjustments you may need to make if you didn't use the same digital and analog pins I used.","bullet":"black","level":0},{"text":"At the top you will see <tt>int led[] = {2,3,4,5,6,7,8,9,10};<\/tt>.   You need to change these numbers to whatever digital pins you used for your LEDs.  It has to be in ascending order because the program uses <tt>for<\/tt> loops to cycle through the array, so it would light up your LEDs in a random order if they are not listed in ascending order in the array.","text_raw":"At the top you will see ``int led[] = {2,3,4,5,6,7,8,9,10};``.   You need to change these numbers to whatever digital pins you used for your LEDs.  It has to be in ascending order because the program uses ``for`` loops to cycle through the array, so it would light up your LEDs in a random order if they are not listed in ascending order in the array.","bullet":"black","level":1},{"text":"The same thing goes for the button.  At the top it says <tt>int button = 13;<\/tt>.   Change the 13 to whatever digital pin you used.","text_raw":"The same thing goes for the button.  At the top it says ``int button = 13;``.   Change the 13 to whatever digital pin you used.","bullet":"black","level":1},{"text":"The last thing is <tt>int microphonepin = 0;<\/tt>.  Once again, change that to whatever analog pin you used.  Remember that this one has to be an analog pin, otherwise it won't work.","text_raw":"The last thing is ``int microphonepin = 0;``.  Once again, change that to whatever analog pin you used.  Remember that this one has to be an analog pin, otherwise it won't work.","bullet":"black","level":1}],"object":null,"images":[],"number":5},{"title":"Congratulations, you have made an LED sound meter!","lines":[{"text":"Keep in mind this device uses a VERY sloppy method for getting a volume level from the microphone.  This results in the LEDs flickering a lot, but it DOES work.","text_raw":"Keep in mind this device uses a VERY sloppy method for getting a volume level from the microphone.  This results in the LEDs flickering a lot, but it DOES work.","bullet":"black","level":0},{"text":"If you want this to function better you could use the code I already wrote but didn't have time to implement, which takes a moving average of the microphone values to account for the input being a wave.  It also gives you the highest value during the window of that average that it takes.","text_raw":"If you want this to function better you could use the code I already wrote but didn't have time to implement, which takes a moving average of the microphone values to account for the input being a wave.  It also gives you the highest value during the window of that average that it takes.","bullet":"black","level":0},{"text":"You will find this code in the main loop of the program.","text_raw":"You will find this code in the main loop of the program.","bullet":"black","level":0},{"text":"Enjoy your LED sound meter!","text_raw":"Enjoy your LED sound meter!","bullet":"black","level":0}],"object":null,"images":[{"imageid":54439,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/45mjC2wwV5WCnHjV"}],"number":6}],"subject":"","summary":"An electret microphone picks up audio input and the volume is visually represented by an array of LEDs.","time_required":"30 minutes to 1 hour","title":"LED Sound Meter","tools":[],"type":"project"},"guideid":"2908"}