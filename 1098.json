{"device":"Arduino","url":"http:\/\/makeprojects.com\/Project\/USB+Watchdog+for+Linux+with+Arduino\/1098\/1","guide":{"author":{"text":"Jason Greathouse","userid":6255},"categories":["Arduino","Computers"],"conclusion":"","difficulty":"Easy","documents":[],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":1098,"image":{"imageid":21146,"text":"http:\/\/guide-images.makeprojects.org\/igi\/d2NEoBHVamMjANJi"},"introduction":"<p>A watchdog device monitors your computer to see if the OS is still running. If the system has locked up it will reset the system. High end servers come with built in watchdogs, for basic servers and workstations you can pick up a PCI card version for $100+ depending on features.<\/p>\n\n<p>Basic watchdog cards receive a &quot;Keep Alive&quot; signal from the OS though a driver or a daemon process and they don't hear from the process the basically hit the Reset button.<\/p>\n\n<p>Instead of spending $100 or more, I built my own with a spare Arduino Board and $8.26 worth of parts from my local Radio Shack. Now I wouldn't recommend this setup for an &quot;Enterprise&quot; environment, but its just fine for rebooting my home workstation automatically when my overclocked GPUs lock the system up while mining Bitcoins.<\/p>","introduction_rendered":"<p>A watchdog device monitors your computer to see if the OS is still running. If the system has locked up it will reset the system. High end servers come with built in watchdogs, for basic servers and workstations you can pick up a PCI card version for $100+ depending on features.<\/p>\n\n<p>Basic watchdog cards receive a &quot;Keep Alive&quot; signal from the OS though a driver or a daemon process and they don't hear from the process the basically hit the Reset button.<\/p>\n\n<p>Instead of spending $100 or more, I built my own with a spare Arduino Board and $8.26 worth of parts from my local Radio Shack. Now I wouldn't recommend this setup for an &quot;Enterprise&quot; environment, but its just fine for rebooting my home workstation automatically when my overclocked GPUs lock the system up while mining Bitcoins.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4\">Arduino microcontroller<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Relay\">Relay<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Resistor_1_8-watt_1K_Ohm\">Resistor: 1\/8-watt, 1K Ohm<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Diodes_1N4001\">Diodes, 1N4001<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062586\">Transistor<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Arduino microcontroller","notes":"","url":"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4","thumbnail":""},{"text":"Relay","notes":"","url":"http:\/\/makeprojects.com\/Item\/Relay","thumbnail":""},{"text":"Resistor: 1\/8-watt, 1K Ohm","notes":"","url":"http:\/\/makeprojects.com\/Item\/Resistor_1_8-watt_1K_Ohm","thumbnail":""},{"text":"Diodes, 1N4001","notes":"","url":"http:\/\/makeprojects.com\/Item\/Diodes_1N4001","thumbnail":""},{"text":"Transistor","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062586","thumbnail":""}],"prereqs":[],"steps":[{"title":"Info","lines":[{"text":"Everything except for the Ardunio board is available from your local Radio Shack, or if you're not impatient like me, you can order cheaper online.","text_raw":"Everything except for the Ardunio board is available from your local Radio Shack, or if you're not impatient like me, you can order cheaper online.","bullet":"black","level":0},{"text":"I used a proto shield , a mini bread board and some nice pre-terminated jumper wires to do the mounting, but that's all optional.","text_raw":"I used a proto shield , a mini bread board and some nice pre-terminated jumper wires to do the mounting, but that's all optional.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21151,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/HhsTbkWpFbSERGrU"},{"imageid":21154,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/EMvKaASEQDYM4CaV"}],"number":1},{"title":"Hardware: Wiring Arduino","lines":[{"text":"Assemble the components as shown in the diagram\/pictures:","text_raw":"Assemble the components as shown in the diagram\/pictures:","bullet":"black","level":0},{"text":"Green wires: ground -&gt; transistor emitter, transistor collector -&gt; relay coil.","text_raw":"Green wires: ground -> transistor emitter, transistor collector -> relay coil.","bullet":"green","level":1},{"text":"Red wire: +5v -&gt; relay coil.","text_raw":"Red wire: +5v -> relay coil.","bullet":"red","level":1},{"text":"Diode: relay coil (transistor side) -&gt; +5v.","text_raw":"Diode: relay coil (transistor side) -> +5v.","bullet":"orange","level":1},{"text":"Black wire: Arduino Digital Pin 3 -&gt; 1K resistor -&gt; transistor base.","text_raw":"Black wire: Arduino Digital Pin 3 -> 1K resistor -> transistor base.","bullet":"black","level":1},{"text":"Yellow wires: Plug directly into the Reset pins on your PC motherboard, orientation doesn't matter. Don't hook this to the Motherboard until you have tested everything out.","text_raw":"Yellow wires: Plug directly into the Reset pins on your PC motherboard, orientation doesn't matter. Don't hook this to the Motherboard until you have tested everything out.","bullet":"yellow","level":1},{"text":"HINT: Be aware that the RadioShack transistor is labeled from a &quot;bottom view&quot; on the package. I wired it backwards the first time and had to switch the wires around to compensate for the wire diagrams &quot;top view&quot;. Good thing I started on a breadboard :)","text_raw":"HINT: Be aware that the RadioShack transistor is labeled from a \"bottom view\" on the package. I wired it backwards the first time and had to switch the wires around to compensate for the wire diagrams \"top view\". Good thing I started on a breadboard :)","bullet":"icon_note","level":0}],"object":null,"images":[{"imageid":21366,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/rDs1KyRjhlkuGLSx"},{"imageid":21367,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/jNDtdUpPKOUOkWrL"}],"number":2},{"title":"Code: Ardunio","lines":[{"text":"Download <a href=\"http:\/\/sourceforge.net\/projects\/arduniousbwd\/files\/1.0\/Watchdog.pde\/download\" rel=\"nofollow\">Watchdog.pde<\/a> file and upload it to your Ardunio.","text_raw":"Download [http:\/\/sourceforge.net\/projects\/arduniousbwd\/files\/1.0\/Watchdog.pde\/download|Watchdog.pde] file and upload it to your Ardunio.","bullet":"black","level":0}],"object":null,"images":[{"imageid":21364,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/lxBGNruvr5LJPTuj"}],"number":3},{"title":"Code: PC","lines":[{"text":"Download the &quot;daemon&quot; script and the startup\/repair script","text_raw":"Download the \"daemon\" script and the startup\/repair script","bullet":"black","level":0},{"text":"Daemon: <a href=\"http:\/\/sourceforge.net\/projects\/arduniousbwd\/files\/1.0\/USBwatchdog_keep_alive.pl\/download\" rel=\"nofollow\">USBwatchdog_keep_alive.pl<\/a>","text_raw":"Daemon: [http:\/\/sourceforge.net\/projects\/arduniousbwd\/files\/1.0\/USBwatchdog_keep_alive.pl\/download|USBwatchdog_keep_alive.pl]","bullet":"black","level":1},{"text":"Start\/Repair: <a href=\"http:\/\/sourceforge.net\/projects\/arduniousbwd\/files\/1.0\/repair_USBwatchdog.sh\/download\" rel=\"nofollow\">repair_USBwatchdog.sh<\/a>","text_raw":"Start\/Repair: [http:\/\/sourceforge.net\/projects\/arduniousbwd\/files\/1.0\/repair_USBwatchdog.sh\/download|repair_USBwatchdog.sh]","bullet":"black","level":1},{"text":"As this is a poor forum for inputing simple code, please see the README for full installation instructions.","text_raw":"As this is a poor forum for inputing simple code, please see the README for full installation instructions.","bullet":"icon_reminder","level":0}],"object":null,"images":[{"imageid":21369,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/TMuaJNwWFQcjZmG5"}],"number":4}],"subject":"","summary":"Create a hardware watchdog device to reboot your Linux workstation if it locks up.","time_required":"1 hour","title":"USB Watchdog for Linux with Arduino","tools":[],"type":"project"},"guideid":"1098"}