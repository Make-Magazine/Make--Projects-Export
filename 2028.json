{"device":"Arduino","url":"http:\/\/makeprojects.com\/Project\/Secret-Knock+Gumball+Machine\/2028\/1","guide":{"author":{"text":"Steve Hoefer","userid":463},"categories":["Arduino","Kids"],"conclusion":"<h2 id=\"Section_Treat_Selection\">Treat Selection<\/h2>\n\n<p>The 1&quot; ball is a vending industry standard for not only gum, but also jawbreakers and other candies, bouncy balls, toy capsules, and empty capsules that you can fill with your own small objects.<\/p>\n\n<p>An 8&quot; globe holds about 200 gumballs, which are usually sold in quantities of 850 \u2014 but you can also buy 1&quot; gumballs by the pound at bulk candy stores, and there are sellers on eBay that offer them in smaller quantities. I also found a box of 500 gumballs at Smart &amp; Final.<\/p>\n\n<p><strong>This project first appeared in <a href=\"http:\/\/makezine.com\/25\">MAKE Volume 25<\/a>, page 92.<\/strong><\/p>","difficulty":"Moderate","documents":[{"text":"SecretKnockGumball_info.pdf","url":"http:\/\/make-documents.s3.amazonaws.com\/6phmeLXqyeJKU1yG.pdf","documentid":262}],"flags":[{"title":"From MAKE Magazine","flagid":"FROM_MAKE","text":"This project first appeared on the pages of MAKE magazine."}],"guideid":2028,"image":{"imageid":41385,"text":"http:\/\/guide-images.makeprojects.org\/igi\/4IavwvhyqLZVJC2H"},"introduction":"<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/8kRTpmswgFk?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>\n\n<p>One of the best things about exhibiting at Maker Faire is giving attendees a challenge. For the 2010 Maker Faire Bay Area, I decided to combine a past project of mine, a door lock that opens only when you give a secret knock, with a standard crowd pleaser: candy.<\/p>\n\n<p>The result was this Secret-Knock Gumball Machine, which tempted and tested the crowds at Maker Faire to guess the right rhythm and receive a treat. Since the knock was not terribly secret (I happily handed out hints), it distributed hundreds of gumballs over the event\u2019s two days.<\/p>\n\n<p>The \u201csecret\u201d knock defaults to the famous \u201cShave and a Haircut\u201d rhythm, but you can program custom knocks by simply pressing a button and knocking a new pattern. The machine only listens for the rhythm, not the tempo, so the correct knock will dispense a treat whether you perform it fast or slow.<\/p>\n\n<p>Inside the machine, a piezo sensor picks up sounds from the front knock panel, while an Arduino microcontroller recognizes the target pattern and controls a servo-driven gumball-dispensing wheel. You can build the Secret-Knock Gumball Machine with its inner workings visible or hidden, depending on whether you want to show off the mechanism or keep it a mystery.<\/p>\n\n<p>Copies of downloadable files can also be found at <a href=\"http:\/\/makezine.com\/25\/gumball\">http:\/\/makezine.com\/25\/gumball<\/a>.<\/p>","introduction_rendered":"<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/8kRTpmswgFk?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>\n\n<p>One of the best things about exhibiting at Maker Faire is giving attendees a challenge. For the 2010 Maker Faire Bay Area, I decided to combine a past project of mine, a door lock that opens only when you give a secret knock, with a standard crowd pleaser: candy.<\/p>\n\n<p>The result was this Secret-Knock Gumball Machine, which tempted and tested the crowds at Maker Faire to guess the right rhythm and receive a treat. Since the knock was not terribly secret (I happily handed out hints), it distributed hundreds of gumballs over the event\u2019s two days.<\/p>\n\n<p>The \u201csecret\u201d knock defaults to the famous \u201cShave and a Haircut\u201d rhythm, but you can program custom knocks by simply pressing a button and knocking a new pattern. The machine only listens for the rhythm, not the tempo, so the correct knock will dispense a treat whether you perform it fast or slow.<\/p>\n\n<p>Inside the machine, a piezo sensor picks up sounds from the front knock panel, while an Arduino microcontroller recognizes the target pattern and controls a servo-driven gumball-dispensing wheel. You can build the Secret-Knock Gumball Machine with its inner workings visible or hidden, depending on whether you want to show off the mechanism or keep it a mystery.<\/p>\n\n<p>Copies of downloadable files can also be found at <a href=\"http:\/\/makezine.com\/25\/gumball\">http:\/\/makezine.com\/25\/gumball<\/a>.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Plywood\">Plywood<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Wood_stock\">Wood stock<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Clear_plastic_light_globe\">Clear plastic light globe<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Wood_screws\">Wood screws<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Wood_screws\">Wood screws<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/T-nut\">T-nut<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Bolt\">Bolt<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Washers\">Washers<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Brass_tube\">Brass tube<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12268262\">Arduino Uno microcontroller<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Servomotor\">Servomotor<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Male_breakaway_headers\">Male breakaway  headers<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2102843\">Perf board<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/LEDs\">LEDs<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062558\">LED holders<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062399\">Piezo buzzer<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/resistors\">resistors<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/SPST_momentary_push-button\">SPST momentary push-button<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062357\">Potentiometer<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Power_jack\">Power jack<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/9V_DC_power_supply\">9V DC power supply<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Insulated_solid-core_wire\">Insulated solid-core wire<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Stick-on_rubber_feet\">Stick-on rubber feet<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Small_cable_ties\">Small cable ties<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Wood_screws\">Wood screws<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Machine_screws\">Machine screws<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Nuts\">Nuts<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Gumballs\">Gumballs<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/LEDs\">LEDs<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Thumbtacks\">Thumbtacks<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Cardstock\">Cardstock<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Computer\">Computer<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Drill_or_drill_press\">Drill, or drill press<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Forstner_drill_bit\">Forstner drill bit<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Hammer\">Hammer<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Hole_saw\">Hole saw<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Masking_tape\">Masking tape<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Needlenose_pliers\">Needlenose pliers<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Pencil\">Pencil<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Pipe_cutter\">Pipe cutter<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Ruler\">Ruler<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Sandpaper\">Sandpaper<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Screwdriver\">Screwdriver<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619\">Soldering iron<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2261723\">USB cable<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Vise\">Vise<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3932543\">Wire cutter\/stripper<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Wood_saw%28s%29\">Wood saw(s)<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Plywood","notes":"Use plywood to hide the  internal workings or acrylic for maximum visibility. Plywood is much easier to work with than acrylic, which tends to crack, chip, and scuff. To give a view inside with minimal hassle, I cut all my pieces out of plywood except for the 7\u00be&quot;\u00d75 1\/16&quot; acrylic access panel in front.","url":"http:\/\/makeprojects.com\/Item\/Plywood","thumbnail":""},{"text":"Wood stock","notes":"","url":"http:\/\/makeprojects.com\/Item\/Wood_stock","thumbnail":""},{"text":"Clear plastic light globe","notes":"item #3202-08020 from 1000bulbs.com, $8","url":"http:\/\/makeprojects.com\/Item\/Clear_plastic_light_globe","thumbnail":""},{"text":"Wood screws","notes":"","url":"http:\/\/makeprojects.com\/Item\/Wood_screws","thumbnail":""},{"text":"Wood screws","notes":"","url":"http:\/\/makeprojects.com\/Item\/Wood_screws","thumbnail":""},{"text":"T-nut","notes":"","url":"http:\/\/makeprojects.com\/Item\/T-nut","thumbnail":""},{"text":"Bolt","notes":"","url":"http:\/\/makeprojects.com\/Item\/Bolt","thumbnail":""},{"text":"Washers","notes":"","url":"http:\/\/makeprojects.com\/Item\/Washers","thumbnail":""},{"text":"Brass tube","notes":"diameter, at least 2&quot; long","url":"http:\/\/makeprojects.com\/Item\/Brass_tube","thumbnail":""},{"text":"Arduino Uno microcontroller","notes":"item #MKSP4 from Maker Shed (http:\/\/makershed.com), $35. You can also  use an older Arduino Duemilanove or equivalent, but in one test build an Uno worked while the Duemilanove mysteriously did not.","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12268262","thumbnail":""},{"text":"Servomotor","notes":"Turnigy S3317M, #TGY-S3317M  from http:\/\/hobbyking.com, $10","url":"http:\/\/makeprojects.com\/Item\/Servomotor","thumbnail":""},{"text":"Male breakaway  headers","notes":"#PRT-00116 from  SparkFun Electronics  (http:\/\/sparkfun.com), $3","url":"http:\/\/makeprojects.com\/Item\/Male_breakaway_headers","thumbnail":""},{"text":"Perf board","notes":"#276-149 from RadioShack (http:\/\/radioshack.com), $2 (or cut from a larger piece)","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2102843","thumbnail":""},{"text":"LEDs","notes":"","url":"http:\/\/makeprojects.com\/Item\/LEDs","thumbnail":""},{"text":"LED holders","notes":"#276-0079  from RadioShack, $1 each","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062558","thumbnail":""},{"text":"Piezo buzzer","notes":"#273-059 from RadioShack, $3","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062399","thumbnail":""},{"text":"resistors","notes":"","url":"http:\/\/makeprojects.com\/Item\/resistors","thumbnail":""},{"text":"SPST momentary push-button","notes":"#275-609 from RadioShack, $3","url":"http:\/\/makeprojects.com\/Item\/SPST_momentary_push-button","thumbnail":""},{"text":"Potentiometer","notes":"#COM-09806 from SparkFun, $1","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062357","thumbnail":""},{"text":"Power jack","notes":"#274-1582 from RadioShack, $3","url":"http:\/\/makeprojects.com\/Item\/Power_jack","thumbnail":""},{"text":"9V DC power supply","notes":"#MKSF3 from Maker Shed, $7","url":"http:\/\/makeprojects.com\/Item\/9V_DC_power_supply","thumbnail":""},{"text":"Insulated solid-core wire","notes":"plus another 5&apos; if making the transparent case","url":"http:\/\/makeprojects.com\/Item\/Insulated_solid-core_wire","thumbnail":""},{"text":"Stick-on rubber feet","notes":"","url":"http:\/\/makeprojects.com\/Item\/Stick-on_rubber_feet","thumbnail":""},{"text":"Small cable ties","notes":"","url":"http:\/\/makeprojects.com\/Item\/Small_cable_ties","thumbnail":""},{"text":"Wood screws","notes":"","url":"http:\/\/makeprojects.com\/Item\/Wood_screws","thumbnail":""},{"text":"Machine screws","notes":"","url":"http:\/\/makeprojects.com\/Item\/Machine_screws","thumbnail":""},{"text":"Nuts","notes":"","url":"http:\/\/makeprojects.com\/Item\/Nuts","thumbnail":""},{"text":"Gumballs","notes":"a standard box of 850","url":"http:\/\/makeprojects.com\/Item\/Gumballs","thumbnail":""},{"text":"LEDs","notes":"(optional for visible interior)","url":"http:\/\/makeprojects.com\/Item\/LEDs","thumbnail":""},{"text":"Thumbtacks","notes":"(optional for visible interior)","url":"http:\/\/makeprojects.com\/Item\/Thumbtacks","thumbnail":""}],"prereqs":[],"steps":[{"title":"Build the case.","lines":[{"text":"Download the <a href=\"http:\/\/cdn.makezine.com\/make\/25\/secret_knock_gumball_plans.pdf\">templates<\/a> and print them at full size. Transfer to plywood or acrylic, and  cut all pieces to size. Mark all screw and rail locations for later drilling and placement. To avoid confusing or flipping parts,  temporarily mark the outside of each part with masking tape. Sand all edges smooth.","text_raw":"Download the [http:\/\/cdn.makezine.com\/make\/25\/secret_knock_gumball_plans.pdf|templates] and print them at full size. Transfer to plywood or acrylic, and  cut all pieces to size. Mark all screw and rail locations for later drilling and placement. To avoid confusing or flipping parts,  temporarily mark the outside of each part with masking tape. Sand all edges smooth.","bullet":"black","level":0},{"text":"Use a 4&quot; hole saw to cut the hole in the top plate as well as  the 7 dispensing wheel disks (2 stir plates and 5 center disks).  You can use the remnant of the top plate hole as one of the  dispensing wheel disks. Drill the \u00bc&quot; axle holes (which are  off-center on the stir plates) as shown on the template.","text_raw":"Use a 4\" hole saw to cut the hole in the top plate as well as  the 7 dispensing wheel disks (2 stir plates and 5 center disks).  You can use the remnant of the top plate hole as one of the  dispensing wheel disks. Drill the \u00bc\" axle holes (which are  off-center on the stir plates) as shown on the template.","bullet":"black","level":0},{"text":"<strong>TIP:<\/strong> To minimize chipping when working with acrylic, support the work well, tape both sides of all cuts, and use  fine-bladed saws at low speed \u2014 or have your local plastics retailer cut the pieces.","text_raw":"'''TIP:''' To minimize chipping when working with acrylic, support the work well, tape both sides of all cuts, and use  fine-bladed saws at low speed \u2014 or have your local plastics retailer cut the pieces.","bullet":"icon_reminder","level":0},{"text":"Attach 3 rails to each side panel where indicated on the  template. The front and back rails are 3\/16&quot; from the edge. The  2 side pieces should mirror each other, with rails on the inside  of the case.","text_raw":"Attach 3 rails to each side panel where indicated on the  template. The front and back rails are 3\/16\" from the edge. The  2 side pieces should mirror each other, with rails on the inside  of the case.","bullet":"black","level":0},{"text":"<strong>NOTE:<\/strong> Unless otherwise specified, all attachments in this project  are made with #8 \u00be&quot; wood screws, and holes should be pilot-drilled  to prevent splitting.","text_raw":"'''NOTE:''' Unless otherwise specified, all attachments in this project  are made with #8 \u00be\" wood screws, and holes should be pilot-drilled  to prevent splitting.","bullet":"icon_note","level":0}],"object":null,"images":[{"imageid":41215,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/RkYWo1wfBDUWwXgW"},{"imageid":41216,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/IwdPQNX3sHWDoRLH"}],"number":1},{"title":"","lines":[{"text":"Attach the bottom panel and front panel to the side panels.","text_raw":"Attach the bottom panel and front panel to the side panels.","bullet":"black","level":0},{"text":"Drill holes for the power plug and programming switch in the back panel, then attach it to the side panels.","text_raw":"Drill holes for the power plug and programming switch in the back panel, then attach it to the side panels.","bullet":"black","level":0},{"text":"Test the knock plate, top panel, and access panel for fit, and pre-drill the holes, but don\u2019t attach them yet.","text_raw":"Test the knock plate, top panel, and access panel for fit, and pre-drill the holes, but don\u2019t attach them yet.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41218,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/Qv1BNes53in1hIRT"},{"imageid":41220,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/vZBHdgDZwiv2NYKE"},{"imageid":41219,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hmtud2NX2NgRDIDj"}],"number":2},{"title":"Build the gumball funnel.","lines":[{"text":"Attach the top and bottom rails to each funnel end piece.","text_raw":"Attach the top and bottom rails to each funnel end piece.","bullet":"black","level":0},{"text":"Attach the funnel side pieces to the funnel ends. Be sure to put the rails on the outside of the funnel.","text_raw":"Attach the funnel side pieces to the funnel ends. Be sure to put the rails on the outside of the funnel.","bullet":"black","level":0},{"text":"Attach the completed funnel to the bottom of the top plate with 4 screws.","text_raw":"Attach the completed funnel to the bottom of the top plate with 4 screws.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41217,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/YDcUHjKFJYNPiZeT"},{"imageid":41223,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/iqoCSoGRJGkQUoWH"},{"imageid":41221,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/sXRPWNaVvwPsR6vf"}],"number":3},{"title":"Build the dispensing wheel.","lines":[{"text":"Make a sandwich of round plates: the 5 dispensing wheel plates stacked in the middle and one stir plate on each end, with the stir plates rotated 30\u00b0 from each other. Push the brass tube through the axle holes and use an L-square to check for true.","text_raw":"Make a sandwich of round plates: the 5 dispensing wheel plates stacked in the middle and one stir plate on each end, with the stir plates rotated 30\u00b0 from each other. Push the brass tube through the axle holes and use an L-square to check for true.","bullet":"black","level":0},{"text":"Clamp, pre-drill, and secure the whole stack with a #12 1\u00bc&quot; wood screw on each side.","text_raw":"Clamp, pre-drill, and secure the whole stack with a #12 1\u00bc\" wood screw on each side.","bullet":"black","level":0},{"text":"Clamp the dispensing wheel (in a drill press if available) and drill a 1&quot; deep hole using a 1&quot; Forstner bit. The hole should point directly down toward the axle, centered between the stir plates and equidistant between their peaks. To help gauge the right hole depth, place a masking tape flag 1&quot; from the bottom  of the drill bit.","text_raw":"Clamp the dispensing wheel (in a drill press if available) and drill a 1\" deep hole using a 1\" Forstner bit. The hole should point directly down toward the axle, centered between the stir plates and equidistant between their peaks. To help gauge the right hole depth, place a masking tape flag 1\" from the bottom  of the drill bit.","bullet":"black","level":0},{"text":"Toss a 1&quot; gumball in the hole to check for fit. It should fall in and out easily, and the top of the gumball should sit flush with the wheel.","text_raw":"Toss a 1\" gumball in the hole to check for fit. It should fall in and out easily, and the top of the gumball should sit flush with the wheel.","bullet":"black","level":0},{"text":"Attach the servo horn (the X-shaped plastic piece that connects to the servo shaft) to the center of the wheel using four \u00bd&quot; #2 screws. Space the screws so that they don\u2019t intrude into the 1&quot; hole drilled  in the previous step. To center the horn, sight its drive-shaft mounting hole through the axle hole of the dispensing wheel.","text_raw":"Attach the servo horn (the X-shaped plastic piece that connects to the servo shaft) to the center of the wheel using four \u00bd\" #2 screws. Space the screws so that they don\u2019t intrude into the 1\" hole drilled  in the previous step. To center the horn, sight its drive-shaft mounting hole through the axle hole of the dispensing wheel.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41243,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hq5wYnO5NEtNfUE2"},{"imageid":41224,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/mnfjIUsw5NU2O2qk"}],"number":4},{"title":"Mount the dispensing wheel.","lines":[{"text":"Before attaching the servo, we need to zero its rotational position using the Arduino. Download and install the latest version of the Arduino application from <a href=\"http:\/\/arduino.cc\/en\/Main\/Software\" rel=\"nofollow\">http:\/\/arduino.cc\/en\/Main\/Software<\/a>, and attach the Arduino to your computer with the USB cable. Use 3 solid-core wire leads to temporarily connect the servo\u2019s red wire to Arduino +5V, the servo\u2019s black (or brown) wire to Arduino ground (GND), and the servo\u2019s white (or orange) wire to Arduino Digital Out 7.","text_raw":"Before attaching the servo, we need to zero its rotational position using the Arduino. Download and install the latest version of the Arduino application from http:\/\/arduino.cc\/en\/Main\/Software, and attach the Arduino to your computer with the USB cable. Use 3 solid-core wire leads to temporarily connect the servo\u2019s red wire to Arduino +5V, the servo\u2019s black (or brown) wire to Arduino ground (GND), and the servo\u2019s white (or orange) wire to Arduino Digital Out 7.","bullet":"black","level":0},{"text":"Download <em><a href=\"http:\/\/cdn.makezine.com\/make\/25\/servo_reset.zip\">servo_reset.pde<\/a><\/em>, open it in the Arduino application,  and upload it to the microcontroller. The servo should rotate fully one way, then the other, then stop.","text_raw":"Download ''[http:\/\/cdn.makezine.com\/make\/25\/servo_reset.zip|servo_reset.pde]'', open it in the Arduino application,  and upload it to the microcontroller. The servo should rotate fully one way, then the other, then stop.","bullet":"black","level":0},{"text":"Remove the wires connecting the servo to the Arduino. Use the servo\u2019s supplied mounting screws to attach it to the dispensing wheel right side plate, with the servo shaft centered to line up with the 7\/32&quot; center hole in the left side plate. Before screwing, fit the included rubber bushings and metal grommets into the servo mounting holes to provide strain relief, with the curved edges of the grommets facing the wood. It\u2019s OK if the screw points run out the other side of the plate.","text_raw":"Remove the wires connecting the servo to the Arduino. Use the servo\u2019s supplied mounting screws to attach it to the dispensing wheel right side plate, with the servo shaft centered to line up with the 7\/32\" center hole in the left side plate. Before screwing, fit the included rubber bushings and metal grommets into the servo mounting holes to provide strain relief, with the curved edges of the grommets facing the wood. It\u2019s OK if the screw points run out the other side of the plate.","bullet":"black","level":0},{"text":"Orient the dispensing wheel next to the right side plate so that the gumball hole tilts back 45\u00b0 toward what will be the back of the machine. Slide the servo horn over the servo shaft and secure it with the included servo horn screw that runs through the center of the horn.","text_raw":"Orient the dispensing wheel next to the right side plate so that the gumball hole tilts back 45\u00b0 toward what will be the back of the machine. Slide the servo horn over the servo shaft and secure it with the included servo horn screw that runs through the center of the horn.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41225,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/RSGSGFSRTtot1Opb"},{"imageid":41226,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/G2gepsSKvMNkEjUD"},{"imageid":41227,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/JIftTCqW1lqecPXJ"}],"number":5},{"title":"","lines":[{"text":"Use a hacksaw or pipe cutter to cut a 1 7\/16&quot; length of brass tube for the axle. Insert the tube into the dispensing wheel axle hole. It should be flush with the stir plates.","text_raw":"Use a hacksaw or pipe cutter to cut a 1 7\/16\" length of brass tube for the axle. Insert the tube into the dispensing wheel axle hole. It should be flush with the stir plates.","bullet":"black","level":0},{"text":"Hammer the T-nut firmly into the hole on the dispensing wheel left side plate, on the outside (not the wheel side).","text_raw":"Hammer the T-nut firmly into the hole on the dispensing wheel left side plate, on the outside (not the wheel side).","bullet":"black","level":0},{"text":"Place a washer on the 3\/16&quot;\u00d71\u00bc&quot; bolt, thread it entirely through the T-nut, and tighten the bolt firmly. Place three 3\/16&quot;\u00d7\u00be&quot; washers on the inside of the bolt.","text_raw":"Place a washer on the 3\/16\"\u00d71\u00bc\" bolt, thread it entirely through the T-nut, and tighten the bolt firmly. Place three 3\/16\"\u00d7\u00be\" washers on the inside of the bolt.","bullet":"black","level":0},{"text":"Insert the end of the bolt into the dispensing wheel axle. Attach the left and right side plates to each other with the  2&quot; dispensing wheel rails. If there\u2019s a lot of play between the  T-nut and the dispensing wheel, add an additional washer  before screwing the plates together.","text_raw":"Insert the end of the bolt into the dispensing wheel axle. Attach the left and right side plates to each other with the  2\" dispensing wheel rails. If there\u2019s a lot of play between the  T-nut and the dispensing wheel, add an additional washer  before screwing the plates together.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41229,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/53OGUUSm5hj1p6Fe"},{"imageid":41228,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/p3NgsEoxgOsxUvVi"},{"imageid":41230,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/5hRjVp4Yb2gPQMWR"}],"number":6},{"title":"Assemble and test the electronics.","lines":[{"text":"For all connections, refer to the schematic layout (<em><a href=\"http:\/\/cdn.makezine.com\/make\/25\/SNGM_schematic.pdf\">SNGM_schematic.pdf<\/a><\/em>) and circuit board layout (<em><a href=\"http:\/\/cdn.makezine.com\/make\/25\/SNGM_layout.pdf\">SNGM_layout.pdf<\/a><\/em>) at left. Click on images to view bigger or click view huge to see full size.","text_raw":"For all connections, refer to the schematic layout (''[http:\/\/cdn.makezine.com\/make\/25\/SNGM_schematic.pdf|SNGM_schematic.pdf]'') and circuit board layout (''[http:\/\/cdn.makezine.com\/make\/25\/SNGM_layout.pdf|SNGM_layout.pdf]'') at left. Click on images to view bigger or click view huge to see full size.","bullet":"black","level":0},{"text":"Cut and strip leads for all off-board components. You\u2019ll need four 5&quot; leads for the indicator LEDs and four 14&quot; leads for the power connector and programming button. If you\u2019re making a transparent case, you\u2019ll also need two 12&quot; leads and two 16&quot;  leads for the white LEDs.","text_raw":"Cut and strip leads for all off-board components. You\u2019ll need four 5\" leads for the indicator LEDs and four 14\" leads for the power connector and programming button. If you\u2019re making a transparent case, you\u2019ll also need two 12\" leads and two 16\"  leads for the white LEDs.","bullet":"black","level":0},{"text":"Cut the breakaway header pins into rows of 8, 6, 6, and 3. On all but the 3-pin header, use needlenose pliers to push the pins flush with the plastic spacer.","text_raw":"Cut the breakaway header pins into rows of 8, 6, 6, and 3. On all but the 3-pin header, use needlenose pliers to push the pins flush with the plastic spacer.","bullet":"black","level":0},{"text":"Solder the headers in place on the perf board, following the layout diagram <em>SNGM_layout.pdf<\/em>. The 3-pin header\u2019s long pins should point up, for connecting the servo, while the other header pins should run down through the bottom of the board for plugging into the Arduino.","text_raw":"Solder the headers in place on the perf board, following the layout diagram ''SNGM_layout.pdf''. The 3-pin header\u2019s long pins should point up, for connecting the servo, while the other header pins should run down through the bottom of the board for plugging into the Arduino.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41373,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/FQc1pdrFnCRDGayU"},{"imageid":41374,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/PqrxMGlT3wIhASlH"},{"imageid":41375,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/iAEdt35e4XcWxLFR"}],"number":7},{"title":"","lines":[{"text":"Solder the rest of the components to the perf board following the layout or schematic diagram <em>SNGM_schematic.pdf<\/em>. Pay special attention to the polarity of the LEDs (longer leg is positive) and power connector (center pin is positive). Omit the 2 white LEDs and 100\u03a9 resistors if you\u2019re not making a transparent case.","text_raw":"Solder the rest of the components to the perf board following the layout or schematic diagram ''SNGM_schematic.pdf''. Pay special attention to the polarity of the LEDs (longer leg is positive) and power connector (center pin is positive). Omit the 2 white LEDs and 100\u03a9 resistors if you\u2019re not making a transparent case.","bullet":"black","level":0},{"text":"Plug the completed shield into the top of the Arduino, aligning the 8-pin header with digital pins 0\u20137. Plug the servo into the 3-pin header on the shield, taking care to observe the polarity (because plugging the servo in backward can damage it).","text_raw":"Plug the completed shield into the top of the Arduino, aligning the 8-pin header with digital pins 0\u20137. Plug the servo into the 3-pin header on the shield, taking care to observe the polarity (because plugging the servo in backward can damage it).","bullet":"black","level":0},{"text":"Connect the Arduino to your computer with a USB cable. Download the code file <em><a href=\"http:\/\/cdn.makezine.com\/make\/25\/secret_knock_gumball_machine.pde\">secret_knock_ gumball_machine.pde<\/a><\/em> and upload it to the Arduino.","text_raw":"Connect the Arduino to your computer with a USB cable. Download the code file ''[http:\/\/cdn.makezine.com\/make\/25\/secret_knock_gumball_machine.pde|secret_knock_ gumball_machine.pde]'' and upload it to the Arduino.","bullet":"black","level":0},{"text":"After you upload the sketch (or apply power for the first time) all the LEDs should light, and the servo should rotate the dispensing wheel to its start location. When the lights go out, it\u2019s ready to listen for a knock.","text_raw":"After you upload the sketch (or apply power for the first time) all the LEDs should light, and the servo should rotate the dispensing wheel to its start location. When the lights go out, it\u2019s ready to listen for a knock.","bullet":"black","level":0},{"text":"Turn the sensitivity potentiometer down until the green LED stops blinking. If the light stays on no matter how far you turn it, check the piezo sensor wiring for shorts or bad connections.","text_raw":"Turn the sensitivity potentiometer down until the green LED stops blinking. If the light stays on no matter how far you turn it, check the piezo sensor wiring for shorts or bad connections.","bullet":"black","level":0},{"text":"For testing, adjust the pot so that the green light stops blinking without any input, but gently tapping the knock sensor makes it blink.","text_raw":"For testing, adjust the pot so that the green light stops blinking without any input, but gently tapping the knock sensor makes it blink.","bullet":"black","level":0},{"text":"Tap the \u201cShave and a Haircut\u201d rhythm. The green LED should blink and the servo should rotate. If you included the white LEDs, #1 should blink and #2 should stay lit for a few seconds. If an incorrect rhythm is entered, the red LED should blink.","text_raw":"Tap the \u201cShave and a Haircut\u201d rhythm. The green LED should blink and the servo should rotate. If you included the white LEDs, #1 should blink and #2 should stay lit for a few seconds. If an incorrect rhythm is entered, the red LED should blink.","bullet":"black","level":0},{"text":"Press the programming button, and both red and green LEDs should light. Tap a new rhythm, release the button, and wait a second. The red and green lights should echo the rhythm visually, and tapping  this new rhythm should rotate the servo. Resetting or unplugging the Arduino will revert it to the default \u201cShave and a Haircut.\u201d","text_raw":"Press the programming button, and both red and green LEDs should light. Tap a new rhythm, release the button, and wait a second. The red and green lights should echo the rhythm visually, and tapping  this new rhythm should rotate the servo. Resetting or unplugging the Arduino will revert it to the default \u201cShave and a Haircut.\u201d","bullet":"black","level":0}],"object":null,"images":[{"imageid":41376,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/aarwZOpHRmHuOkWp"},{"imageid":41233,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/NWxoRrULwWEKCUqT"}],"number":8},{"title":"Wire and complete the case.","lines":[{"text":"Secure the top panel to the rest of the case with 4 screws. Align the panel so the offset 4&quot; hole is toward the back of the device.","text_raw":"Secure the top panel to the rest of the case with 4 screws. Align the panel so the offset 4\" hole is toward the back of the device.","bullet":"black","level":0},{"text":"Secure the dispensing wheel assembly to the bottom panel with 2 screws. Rotate the dispensing wheel to check for clearance against the back panel and the funnel, and remove material wherever it hits the wheel.","text_raw":"Secure the dispensing wheel assembly to the bottom panel with 2 screws. Rotate the dispensing wheel to check for clearance against the back panel and the funnel, and remove material wherever it hits the wheel.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41234,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/Y5LvYwJAqfEW2DBU"},{"imageid":41235,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/3WhRpJCTOIHc4m2H"},{"imageid":41236,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/aNYx2w6kwIPPhPlY"}],"number":9},{"title":"","lines":[{"text":"Attach the gumball tray support directly in front of the dispensing wheel, with the support\u2019s angled end on top, and inclining down toward the front of the case.","text_raw":"Attach the gumball tray support directly in front of the dispensing wheel, with the support\u2019s angled end on top, and inclining down toward the front of the case.","bullet":"black","level":0},{"text":"Unplug the shield from the Arduino. Attach 4 rubber feet to its underside and use two 4-40 bolts and nuts to attach it to the bottom panel. Insert the screws up from the bottom through the pre-drilled holes, and thread the nuts on top. Do not overtighten the nuts.","text_raw":"Unplug the shield from the Arduino. Attach 4 rubber feet to its underside and use two 4-40 bolts and nuts to attach it to the bottom panel. Insert the screws up from the bottom through the pre-drilled holes, and thread the nuts on top. Do not overtighten the nuts.","bullet":"black","level":0},{"text":"Attach the knock sensor to the center back of the knock plate using two \u00bd&quot; #2 screws. The side of the piezo buzzer with the center hole in it should fully contact the back of the knock plate, and the screws shouldn\u2019t penetrate through to the other side of the wood. I attached the sensor \u201cupside down\u201d with its mounting tabs away from the wood to keep the screws from  running through, but the sensor will function facing either way.","text_raw":"Attach the knock sensor to the center back of the knock plate using two \u00bd\" #2 screws. The side of the piezo buzzer with the center hole in it should fully contact the back of the knock plate, and the screws shouldn\u2019t penetrate through to the other side of the wood. I attached the sensor \u201cupside down\u201d with its mounting tabs away from the wood to keep the screws from  running through, but the sensor will function facing either way.","bullet":"black","level":0},{"text":"Insert the LED holders into the front of the knock plate and slide the red and green LEDs into the holders from the back.","text_raw":"Insert the LED holders into the front of the knock plate and slide the red and green LEDs into the holders from the back.","bullet":"black","level":0}],"object":null,"images":[{"imageid":41237,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/LHfn4rXmrVVLKUTJ"},{"imageid":41238,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/bgg4jjmYBkY6E64Y"},{"imageid":41239,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hG5hVx3LMxONvKBH"}],"number":10},{"title":"","lines":[{"text":"Attach the power plug and programming button to the back of the case with their mounting hardware.","text_raw":"Attach the power plug and programming button to the back of the case with their mounting hardware.","bullet":"black","level":0},{"text":"If you\u2019re making a transparent case, attach the white LEDs to illuminate the action. Tighten a small cable tie around the base of each white LED and secure it in place with a thumbtack. Place LED #1 behind the right side pillar pointing inward, and LED #2 on the bottom front of the dispensing funnel, pointing to the gumball tray. Use the remaining cable ties to secure and manage the cables inside the case.","text_raw":"If you\u2019re making a transparent case, attach the white LEDs to illuminate the action. Tighten a small cable tie around the base of each white LED and secure it in place with a thumbtack. Place LED #1 behind the right side pillar pointing inward, and LED #2 on the bottom front of the dispensing funnel, pointing to the gumball tray. Use the remaining cable ties to secure and manage the cables inside the case.","bullet":"black","level":0},{"text":"Screw the knock panel into place.","text_raw":"Screw the knock panel into place.","bullet":"black","level":0},{"text":"Screw the gumball tray sides to the gumball tray, and screw the tray down onto the tray support post. Before attaching it permanently, check for gumball clearance against the dispensing wheel and  the access panel.","text_raw":"Screw the gumball tray sides to the gumball tray, and screw the tray down onto the tray support post. Before attaching it permanently, check for gumball clearance against the dispensing wheel and  the access panel.","bullet":"black","level":0},{"text":"Stick a rubber foot on each bottom corner to prevent the machine from sliding around as people knock. Finally, attach  the access panel. You\u2019re done!","text_raw":"Stick a rubber foot on each bottom corner to prevent the machine from sliding around as people knock. Finally, attach  the access panel. You\u2019re done!","bullet":"black","level":0}],"object":null,"images":[{"imageid":41240,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/VAUXXsHwFFCqrB23"},{"imageid":41380,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/lE2KUJxgFJ3JtLHu"},{"imageid":41242,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/vslxkQfeobZPtVUV"}],"number":11},{"title":"Set up your machine.","lines":[{"text":"Plug the power adapter into a handy outlet and plug the other end into the back of the machine.","text_raw":"Plug the power adapter into a handy outlet and plug the other end into the back of the machine.","bullet":"black","level":0},{"text":"Fill the plastic globe with your favorite 1&quot; gumballs (or other candy balls) and put it on top. To prevent spilling the balls all over the floor, put a piece of thick cardstock or cardboard over the hole in the globe, invert it in place, then slide the card out.","text_raw":"Fill the plastic globe with your favorite 1\" gumballs (or other candy balls) and put it on top. To prevent spilling the balls all over the floor, put a piece of thick cardstock or cardboard over the hole in the globe, invert it in place, then slide the card out.","bullet":"black","level":0},{"text":"Program your new secret knock or leave it with the standard \u201cShave and a Haircut\u201d knock.","text_raw":"Program your new secret knock or leave it with the standard \u201cShave and a Haircut\u201d knock.","bullet":"black","level":0},{"text":"Knock and enjoy!","text_raw":"Knock and enjoy!","bullet":"black","level":0},{"text":"<strong>TIP:<\/strong> To make the machine more responsive, loosen the screws that hold down the knock plate and gumball tray, so that they move and clatter when you knock. Or add some flare to your machine with these <a href=\"http:\/\/cdn.makezine.com\/make\/25\/CandyVsTeeth_GumballStencils.pdf\">stencils<\/a>.","text_raw":"'''TIP:''' To make the machine more responsive, loosen the screws that hold down the knock plate and gumball tray, so that they move and clatter when you knock. Or add some flare to your machine with these [http:\/\/cdn.makezine.com\/make\/25\/CandyVsTeeth_GumballStencils.pdf|stencils].","bullet":"icon_reminder","level":0}],"object":null,"images":[{"imageid":41383,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/GBMv2PmfNYfXLPdS"},{"imageid":41384,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/lOroBSGHWJJJoGQB"},{"imageid":41386,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/LAm1IJhItHRluAqS"}],"number":12}],"subject":"","summary":"Make a cute candy vending machine that only dispenses treats when you knock the secret rhythm on its front panel.","time_required":"A weekend","title":"Secret-Knock Gumball Machine","tools":[{"text":"Cardstock","notes":"","url":"http:\/\/makeprojects.com\/Item\/Cardstock","thumbnail":""},{"text":"Computer","notes":"","url":"http:\/\/makeprojects.com\/Item\/Computer","thumbnail":""},{"text":"Drill, or drill press","notes":"","url":"http:\/\/makeprojects.com\/Item\/Drill_or_drill_press","thumbnail":""},{"text":"Forstner drill bit","notes":"(flat bottom)","url":"http:\/\/makeprojects.com\/Item\/Forstner_drill_bit","thumbnail":""},{"text":"Hammer","notes":"","url":"http:\/\/makeprojects.com\/Item\/Hammer","thumbnail":""},{"text":"Hole saw","notes":"","url":"http:\/\/makeprojects.com\/Item\/Hole_saw","thumbnail":""},{"text":"Masking tape","notes":"","url":"http:\/\/makeprojects.com\/Item\/Masking_tape","thumbnail":""},{"text":"Needlenose pliers","notes":"","url":"http:\/\/makeprojects.com\/Item\/Needlenose_pliers","thumbnail":""},{"text":"Pencil","notes":"","url":"http:\/\/makeprojects.com\/Item\/Pencil","thumbnail":""},{"text":"Pipe cutter","notes":"","url":"http:\/\/makeprojects.com\/Item\/Pipe_cutter","thumbnail":""},{"text":"Ruler","notes":"","url":"http:\/\/makeprojects.com\/Item\/Ruler","thumbnail":""},{"text":"Sandpaper","notes":"80- and 120-grit","url":"http:\/\/makeprojects.com\/Item\/Sandpaper","thumbnail":""},{"text":"Screwdriver","notes":"","url":"http:\/\/makeprojects.com\/Item\/Screwdriver","thumbnail":""},{"text":"Soldering iron","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619","thumbnail":""},{"text":"USB cable","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2261723","thumbnail":""},{"text":"Vise","notes":"","url":"http:\/\/makeprojects.com\/Item\/Vise","thumbnail":""},{"text":"Wire cutter\/stripper","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3932543","thumbnail":""},{"text":"Wood saw(s)","notes":"for cutting straight lines and curves; a table saw and jigsaw, or a handsaw and miter box","url":"http:\/\/makeprojects.com\/Item\/Wood_saw%28s%29","thumbnail":""}],"type":"project"},"guideid":"2028"}