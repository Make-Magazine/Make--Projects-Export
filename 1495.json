{"device":"Circuits","url":"http:\/\/makeprojects.com\/Project\/Automatic+Dimming+Nightlight\/1495\/1","guide":{"author":{"text":"Jason Poel Smith","userid":8112},"categories":["Circuits"],"conclusion":"","difficulty":"Moderate","documents":[],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":1495,"image":{"imageid":45197,"text":"http:\/\/guide-images.makeprojects.org\/igi\/apIOJjT31srsDxXp"},"introduction":"<p>A lot of people find it easier to fall asleep with a dim light such as a nightlight in the room. But the down side of most nightlights is that they waste electricity because they are on all night when you really only need them to be on while you are falling asleep. So I designed a nightlight that will automatically dim and turn itself off.<\/p>\n\n<p>Here is a brief video of the build:<\/p>\n\n<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/ZcBHtBhESQk?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>","introduction_rendered":"<p>A lot of people find it easier to fall asleep with a dim light such as a nightlight in the room. But the down side of most nightlights is that they waste electricity because they are on all night when you really only need them to be on while you are falling asleep. So I designed a nightlight that will automatically dim and turn itself off.<\/p>\n\n<p>Here is a brief video of the build:<\/p>\n\n<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/ZcBHtBhESQk?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/6V_400mA_DC_power_supply_%28or_similar%29\">6V 400mA DC power supply (or similar)<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Project_box\">Project box<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Momentary_push-button_switch\">Momentary push-button switch<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/SPST_latching_switch\">SPST latching switch<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/3.0-3.5V_LED\">3.0-3.5V LED<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/diode_%281N4001_or_similar%29\">diode (1N4001 or similar)<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/2200%C2%B5F_10V_capacitor\">2200\u00b5F 10V capacitor<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Resistors_1%E2%81%844W_3.3M%CE%A9\">Resistors, 1\u20444W: 3.3M\u03a9<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Resistors_1_4W_2.2k%CE%A9\">Resistors, 1\/4W:2.2k\u03a9<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Potentiometer_5k%CE%A9\">Potentiometer, 5k\u03a9<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Resistors_1%E2%81%844W_1M%CE%A9\">Resistors, 1\u20444W: 1M\u03a9<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Terminal_connectors\">Terminal connectors<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/741_OP_AMP\">741 OP AMP<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2103799\">Printed Circuit Board<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12165717\">Jumper wires<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Drill\">Drill<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619\">Soldering iron<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"6V 400mA DC power supply (or similar)","notes":"Its open-circuit voltage (no load) measured by a volt meter is approximately 10V. With the load of this project the operating voltage is about 9.5V","url":"http:\/\/makeprojects.com\/Item\/6V_400mA_DC_power_supply_%28or_similar%29","thumbnail":""},{"text":"Project box","notes":"","url":"http:\/\/makeprojects.com\/Item\/Project_box","thumbnail":""},{"text":"Momentary push-button switch","notes":"","url":"http:\/\/makeprojects.com\/Item\/Momentary_push-button_switch","thumbnail":""},{"text":"SPST latching switch","notes":"","url":"http:\/\/makeprojects.com\/Item\/SPST_latching_switch","thumbnail":""},{"text":"3.0-3.5V LED","notes":"","url":"http:\/\/makeprojects.com\/Item\/3.0-3.5V_LED","thumbnail":""},{"text":"diode (1N4001 or similar)","notes":"","url":"http:\/\/makeprojects.com\/Item\/diode_%281N4001_or_similar%29","thumbnail":""},{"text":"2200\u00b5F 10V capacitor","notes":"","url":"http:\/\/makeprojects.com\/Item\/2200%C2%B5F_10V_capacitor","thumbnail":""},{"text":"Resistors, 1\u20444W: 3.3M\u03a9","notes":"","url":"http:\/\/makeprojects.com\/Item\/Resistors_1%E2%81%844W_3.3M%CE%A9","thumbnail":""},{"text":"Resistors, 1\/4W:2.2k\u03a9","notes":"","url":"http:\/\/makeprojects.com\/Item\/Resistors_1_4W_2.2k%CE%A9","thumbnail":""},{"text":"Potentiometer, 5k\u03a9","notes":"","url":"http:\/\/makeprojects.com\/Item\/Potentiometer_5k%CE%A9","thumbnail":""},{"text":"Resistors, 1\u20444W: 1M\u03a9","notes":"","url":"http:\/\/makeprojects.com\/Item\/Resistors_1%E2%81%844W_1M%CE%A9","thumbnail":""},{"text":"Terminal connectors","notes":"","url":"http:\/\/makeprojects.com\/Item\/Terminal_connectors","thumbnail":""},{"text":"741 OP AMP","notes":"","url":"http:\/\/makeprojects.com\/Item\/741_OP_AMP","thumbnail":""},{"text":"Printed Circuit Board","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2103799","thumbnail":""},{"text":"Jumper wires","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12165717","thumbnail":""}],"prereqs":[],"steps":[{"title":"Circuit","lines":[{"text":"The circuit can be broken into two main parts, a timer circuit and a dimming circuit. The timer (left) is made from a 741 OP AMP wired as a comparator. The dimmer (right) is made from 741 OP AMP wired as a voltage follower (or a unity gain amplifier)","text_raw":"The circuit can be broken into two main parts, a timer circuit and a dimming circuit. The timer (left) is made from a 741 OP AMP wired as a comparator. The dimmer (right) is made from 741 OP AMP wired as a voltage follower (or a unity gain amplifier)","bullet":"black","level":0}],"object":null,"images":[{"imageid":45154,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1QDrwDg3VPCclxoc"}],"number":1},{"title":"Timer circuit","lines":[{"text":"The timer is made from a 741 op amp (operational amplifier) wired as a comparator. It compares the voltage across a capacitor with a reference voltage that is set by the 2.2k resistor and the 5k potentiometer.","text_raw":"The timer is made from a 741 op amp (operational amplifier) wired as a comparator. It compares the voltage across a capacitor with a reference voltage that is set by the 2.2k resistor and the 5k potentiometer.","bullet":"black","level":0},{"text":"When S2 is pressed the capacitor is charged to the supply voltage. It then gradually discharges through the 1M resistor. As long as the voltage across the capacitor is greater than the reference voltage, the output of the op amp is high (about 8.7V). When the voltage across the capacitor drops below the reference, the output of the op amp goes low (about 1.9V). This can take 0-45 minutes depending on how the potentiometer is set.","text_raw":"When S2 is pressed the capacitor is charged to the supply voltage. It then gradually discharges through the 1M resistor. As long as the voltage across the capacitor is greater than the reference voltage, the output of the op amp is high (about 8.7V). When the voltage across the capacitor drops below the reference, the output of the op amp goes low (about 1.9V). This can take 0-45 minutes depending on how the potentiometer is set.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45207,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/Cp3rAMDkF52oejVE"}],"number":2},{"title":"Dimmer Circuit","lines":[{"text":"While the output of the timer is HIGH, it keeps the second capacitor charged. When the timer output goes LOW, this capacitor begins to slowly discharge through the 3.3M resistor. This begins the dimming cycle. The output  of the second 741 op amp mirrors the voltage across the capacitor. As the voltage across the second capacitor drops, so does the output voltage and the LEDs dim. It should take about 45 minutes for the LEDs to go from full brightness to full darkness. Pressing the button at any point will reset the whole cycle.","text_raw":"While the output of the timer is HIGH, it keeps the second capacitor charged. When the timer output goes LOW, this capacitor begins to slowly discharge through the 3.3M resistor. This begins the dimming cycle. The output  of the second 741 op amp mirrors the voltage across the capacitor. As the voltage across the second capacitor drops, so does the output voltage and the LEDs dim. It should take about 45 minutes for the LEDs to go from full brightness to full darkness. Pressing the button at any point will reset the whole cycle.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45205,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/PRNdOvbiijkXf1vX"}],"number":3},{"title":"Breadboard Prototype\r","lines":[{"text":"Testing your circuit on a breadboard before soldering can help work out bugs.","text_raw":"Testing your circuit on a breadboard before soldering can help work out bugs.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45125,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hKy6dws5OnaWCFyv"}],"number":4},{"title":"Solder the circuit together on the circuit board.","lines":[{"text":"Then if the breadboard prototype works, solder it onto a circuit board. In order to conserve space I am stacking some components. When you are done soldering, trim your board to help it fit in the housing.","text_raw":"Then if the breadboard prototype works, solder it onto a circuit board. In order to conserve space I am stacking some components. When you are done soldering, trim your board to help it fit in the housing.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45132,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/iNBExQMZWLEwMJ2h"},{"imageid":45138,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/TLOZkeIVNqoP6ZKH"},{"imageid":45135,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/y6UF2vQPCpEQyy3E"}],"number":5},{"title":"Add surface components.","lines":[{"text":"To connect the variable resistor, I am using a strip of PC jumper wires with some of the wires trimmed off. For my light source I am using three LEDs in series whose combined voltages is close to the supply voltage so I am forgoing adding a resistor. I tend to use a lot of heat shrink tubing to insulate my solder connections. I find that it helps avoid unwanted shorts.","text_raw":"To connect the variable resistor, I am using a strip of PC jumper wires with some of the wires trimmed off. For my light source I am using three LEDs in series whose combined voltages is close to the supply voltage so I am forgoing adding a resistor. I tend to use a lot of heat shrink tubing to insulate my solder connections. I find that it helps avoid unwanted shorts.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45136,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/YQHh3QViodpOx3gs"},{"imageid":45141,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/LfuxykeBlZYrVI6W"},{"imageid":45147,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/SZfOuKmhuITdcFPD"}],"number":6},{"title":"Find\/make a suitable housing","lines":[{"text":"Once you have the circuit constructed, find a suitable housing. Then drill some holes for the LEDs, the switches, the dial and the power cord. Trim your circuit board so that it is only as big as it has to be. This will really help when it comes to fitting everything in the housing. Finally, load in all the components and your project is complete.","text_raw":"Once you have the circuit constructed, find a suitable housing. Then drill some holes for the LEDs, the switches, the dial and the power cord. Trim your circuit board so that it is only as big as it has to be. This will really help when it comes to fitting everything in the housing. Finally, load in all the components and your project is complete.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45144,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/SUtuVrKAKeFIM3eL"},{"imageid":45143,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/HZAUaqWSZpMQbrsG"},{"imageid":45146,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/kSM3JeOWtSM5m2Kh"}],"number":7},{"title":"Test the finished product","lines":[{"text":"The last step is making it look nice. If you want, you can added a diffuser or something to scatter the light. You can tint the LEDs using gels or just liquid highlighter. The final aesthetic details are up to you. I put mine in a decorative lantern.","text_raw":"The last step is making it look nice. If you want, you can added a diffuser or something to scatter the light. You can tint the LEDs using gels or just liquid highlighter. The final aesthetic details are up to you. I put mine in a decorative lantern.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45153,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/yjAfMILMLZxoSkYC"},{"imageid":45149,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/dMAXQgveEDbyf4Vr"},{"imageid":45151,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/DMGQCtDPsbwa6JGS"}],"number":8},{"title":"Modify the design","lines":[{"text":"The duration of time that the lights are on at full brightness and the time that they dim can be modified by changing the values of R1, C1, R4 and C2. By changing the ratios of the resistors and capacitors you change how quickly the capacitors will discharge. For a decent estimate of how the capacitors will discharge you can use the formula V<sub>c<\/sub>=V<sub>o<\/sub>\u00d7e<sup>(-t\/RC)<\/sup>. Feel free to change the values to meet your needs.","text_raw":"The duration of time that the lights are on at full brightness and the time that they dim can be modified by changing the values of R1, C1, R4 and C2. By changing the ratios of the resistors and capacitors you change how quickly the capacitors will discharge. For a decent estimate of how the capacitors will discharge you can use the formula V,,c,,=V,,o,,\u00d7e^^(-t\/RC)^^. Feel free to change the values to meet your needs.","bullet":"black","level":0}],"object":null,"images":[{"imageid":45208,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/2Ypb2Yju2nyMcsP5"}],"number":9}],"subject":"","summary":"A nightlight that automatically dims and turns itself off after a set period of time.","time_required":"2 to 4 hrs","title":"Automatic Dimming Nightlight","tools":[{"text":"Drill","notes":"","url":"http:\/\/makeprojects.com\/Item\/Drill","thumbnail":""},{"text":"Soldering iron","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619","thumbnail":""}],"type":"project"},"guideid":"1495"}