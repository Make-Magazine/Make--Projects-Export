{"device":"Telecommunications","url":"http:\/\/makeprojects.com\/Project\/Automatic+Garage+Door+Opener\/754\/1","guide":{"author":{"text":"Miguel Marcos","userid":4700},"categories":["Telecommunications","Hacks and Mods"],"conclusion":"","difficulty":"Moderate","documents":[{"text":"cm11a.pdf","url":"http:\/\/make-documents.s3.amazonaws.com\/QlESFaN2Zes6lMhY.pdf","documentid":110},{"text":"GarageDoor.pdf","url":"http:\/\/make-documents.s3.amazonaws.com\/5K3PbiYwgyXTI3Hs.pdf","documentid":111}],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":754,"image":{"imageid":12502,"text":"http:\/\/guide-images.makeprojects.org\/igi\/MN1eQyUxyjDRQe2k"},"introduction":"<p>This project combines a number of unrelated technologies to provide a small convenience.<\/p>\n\n<p>The essence of this project is to remotely actuate a switch connected to the garage door opener when a GPS-enabled smartphone enters a pre-defined geographical trigger zone.<\/p>\n\n<p>In addition to the motorized garage door opener, the following components are used in the system:<\/p>\n\n<ul><li>X-10 Universal Module UM506, <\/li><li>X-10 Computer Interface CM11A, <\/li><li>Lantronix XPort Evaluation Board, <\/li><li>D-Link Ethernet Router DI-624, <\/li><li>Android-based smartphone<\/li><\/ul>","introduction_rendered":"<p>This project combines a number of unrelated technologies to provide a small convenience.<\/p>\n\n<p>The essence of this project is to remotely actuate a switch connected to the garage door opener when a GPS-enabled smartphone enters a pre-defined geographical trigger zone.<\/p>\n\n<p>In addition to the motorized garage door opener, the following components are used in the system:<\/p>\n\n<ul><li>X-10 Universal Module UM506, <\/li><li>X-10 Computer Interface CM11A, <\/li><li>Lantronix XPort Evaluation Board, <\/li><li>D-Link Ethernet Router DI-624, <\/li><li>Android-based smartphone<\/li><\/ul>","locale":"en","parts":[],"prereqs":[],"steps":[{"title":"","lines":[{"text":"Hardware setup:","text_raw":"Hardware setup:","bullet":"black","level":0},{"text":"Setting up the hardware components is straightforward. To start with, my garage door opener has a connection for a manual pushbutton and thus I simply attached the relay contacts of the UM506 Universal Module in parallel with the pushbutton. Also, I configured the module for momentary closure and plugged it into a nearby AC outlet so that it can communicate with the CM11A X-10 Controller over the house wiring.","text_raw":"Setting up the hardware components is straightforward. To start with, my garage door opener has a connection for a manual pushbutton and thus I simply attached the relay contacts of the UM506 Universal Module in parallel with the pushbutton. Also, I configured the module for momentary closure and plugged it into a nearby AC outlet so that it can communicate with the CM11A X-10 Controller over the house wiring.","bullet":"black","level":0},{"text":"The control end of the CM11A Interface is a standard RS-232 port which is normally connected to a PC but for this project I connected it to the RS-232 side of the Lantronix XPort Evaluation board (I had to build a short gender-changer adapter cable)","text_raw":"The control end of the CM11A Interface is a standard RS-232 port which is normally connected to a PC but for this project I connected it to the RS-232 side of the Lantronix XPort Evaluation board (I had to build a short gender-changer adapter cable)","bullet":"black","level":0},{"text":"The Ethernet side of the XPort connects to my home computer network which in turn is connected to the Internet via an always-on, broadband connection.","text_raw":"The Ethernet side of the XPort connects to my home computer network which in turn is connected to the Internet via an always-on, broadband connection.","bullet":"black","level":0},{"text":"I should point out that one could also use a PC and a simple program to bridge the RS-232 connection of the CM11A Interface to the Internet. The Lantronix module, however, offers two clear advantages: lower power consumption and, more importantly, the ability to recover without intervention in case of a power outage. On the other hand, the software bridge could be designed to be highly secure.","text_raw":"I should point out that one could also use a PC and a simple program to bridge the RS-232 connection of the CM11A Interface to the Internet. The Lantronix module, however, offers two clear advantages: lower power consumption and, more importantly, the ability to recover without intervention in case of a power outage. On the other hand, the software bridge could be designed to be highly secure.","bullet":"black","level":0}],"object":null,"images":[],"number":1},{"title":"","lines":[{"text":"Software configuration:","text_raw":"Software configuration:","bullet":"black","level":0},{"text":"The overall software setup for this project is far from trivial mainly because of the required development of the App for the Android smartphone. However, the configuration of the hardware devices is relatively easy.","text_raw":"The overall software setup for this project is far from trivial mainly because of the required development of the App for the Android smartphone. However, the configuration of the hardware devices is relatively easy.","bullet":"black","level":0},{"text":"Lantronix XPort:","text_raw":"Lantronix XPort:","bullet":"black","level":0},{"text":"Because of the requisite port forwarding, the XPort module should be configured with a static IP address within your home network. But before you can make any configuration changes you will need to know the IP address assigned to the module when it is first attached to the network. You can go about this by using Lantronix's Device Installer utiliy. From this utility you can also access the device's configuration pages.","text_raw":"Because of the requisite port forwarding, the XPort module should be configured with a static IP address within your home network. But before you can make any configuration changes you will need to know the IP address assigned to the module when it is first attached to the network. You can go about this by using Lantronix's Device Installer utiliy. From this utility you can also access the device's configuration pages.","bullet":"black","level":0},{"text":"The relevant items to configure are:","text_raw":"The relevant items to configure are:","bullet":"black","level":0},{"text":"Network | IP Configuration: select &quot;Use the following IP configuration&quot; and supply suitable values for the IP Address and Subnet Mask","text_raw":"Network | IP Configuration: select \"Use the following IP configuration\" and supply suitable values for the IP Address and Subnet Mask","bullet":"black","level":0},{"text":"Channel 1 | Serial Settings | Port Settings: the required Baud Rate for communicating with the CM11A Interface is 4800 bps. The remainder of the fields can be left at the default values.","text_raw":"Channel 1 | Serial Settings | Port Settings: the required Baud Rate for communicating with the CM11A Interface is 4800 bps. The remainder of the fields can be left at the default values.","bullet":"black","level":0},{"text":"Channel 1 | Connection: here enter a value of your choice (or use the default) for the Local Port under Endpoint Configuration. You can also provide for a little bit of security by requiring a password to complete the incoming connection from the Internet under Passive Connection.","text_raw":"Channel 1 | Connection: here enter a value of your choice (or use the default) for the Local Port under Endpoint Configuration. You can also provide for a little bit of security by requiring a password to complete the incoming connection from the Internet under Passive Connection.","bullet":"black","level":0}],"object":null,"images":[{"imageid":12497,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/6xClXcKOFfcm1RQ5"},{"imageid":12498,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/IW23VGaEM4Ng2HXD"},{"imageid":12500,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/DawWwaJiW2TdAmWI"}],"number":2},{"title":"","lines":[{"text":"Network router:","text_raw":"Network router:","bullet":"black","level":0},{"text":"A port needs to be opened and forwarded to the XPort module in order to handle the control requests from the smartphone.","text_raw":"A port needs to be opened and forwarded to the XPort module in order to handle the control requests from the smartphone.","bullet":"black","level":0},{"text":"The procedure for this varies slightly with the router. For the DI-624 the configuration is set in the Virtual Server page of the Advanced tab.","text_raw":"The procedure for this varies slightly with the router. For the DI-624 the configuration is set in the Virtual Server page of the Advanced tab.","bullet":"black","level":0},{"text":"The other configuration change required for the router stems from the fact that IP addresses assigned to home users by Internet Service Providers are usually dynamic. That means that the address that the smartphone needs to communicate with can change at any time.","text_raw":"The other configuration change required for the router stems from the fact that IP addresses assigned to home users by Internet Service Providers are usually dynamic. That means that the address that the smartphone needs to communicate with can change at any time.","bullet":"black","level":0},{"text":"Fortunately, many routers provide a feature called Dynamic DNS. When this is enabled, the router automatically reports its assigned IP address to a DNS server on the Internet which can then match the address to a fixed friendly name such as &quot;myhome.net&quot;. There may be several Dynamic DNS providers available. I have established a free, basic account with &quot;www.no-ip.com&quot; which is supported by the DI-624","text_raw":"Fortunately, many routers provide a feature called Dynamic DNS. When this is enabled, the router automatically reports its assigned IP address to a DNS server on the Internet which can then match the address to a fixed friendly name such as \"myhome.net\". There may be several Dynamic DNS providers available. I have established a free, basic account with \"www.no-ip.com\" which is supported by the DI-624","bullet":"black","level":0},{"text":"On the DI-624, Dynamic DNS is configured on the DDNS page of the Tools tab.","text_raw":"On the DI-624, Dynamic DNS is configured on the DDNS page of the Tools tab.","bullet":"black","level":0}],"object":null,"images":[{"imageid":12501,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/mvMeEDHpsrpJCGvj"},{"imageid":12499,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/SttEP6YropjLvZya"}],"number":3},{"title":"","lines":[{"text":"The final piece of software is the Android App itself. The entire source code is contained in the GarageDoor.pdf file. Minimal familiarity with the Android development tools is required to build the App.","text_raw":"The final piece of software is the Android App itself. The entire source code is contained in the GarageDoor.pdf file. Minimal familiarity with the Android development tools is required to build the App.","bullet":"black","level":0},{"text":"The friendly URL (as obtained from the Dynamic DNS provider) of the router as well as the forwarded port number have to entered in the source code and, if you require a password to complete the connection to the XPort, then it must also be hardcoded. Likewise, the geographical coordinates of the trigger point must be determined and entered. A working version of the App can be used to retrieve those coordinates.","text_raw":"The friendly URL (as obtained from the Dynamic DNS provider) of the router as well as the forwarded port number have to entered in the source code and, if you require a password to complete the connection to the XPort, then it must also be hardcoded. Likewise, the geographical coordinates of the trigger point must be determined and entered. A working version of the App can be used to retrieve those coordinates.","bullet":"black","level":0},{"text":"Finally, the X-10 House Code \/ Unit Code of the UM506 module must be entered. The provided source code uses A1. The communications protocol for the CM11A Interface is also included.","text_raw":"Finally, the X-10 House Code \/ Unit Code of the UM506 module must be entered. The provided source code uses A1. The communications protocol for the CM11A Interface is also included.","bullet":"black","level":0},{"text":"Suggestions for improving the App might be to add user interface features to set some or all of the above items.","text_raw":"Suggestions for improving the App might be to add user interface features to set some or all of the above items.","bullet":"black","level":0},{"text":"Note: it is likely that you can approach you house from two different directions in which case you may want to provide for two trigger zones (a change to the source code is required). The location and radius of the trigger zone(s) may also be dictated by the speed at which you can approach, the update rate and accuracy of the GPS receiver, and the latency in X-10 communications.","text_raw":"Note: it is likely that you can approach you house from two different directions in which case you may want to provide for two trigger zones (a change to the source code is required). The location and radius of the trigger zone(s) may also be dictated by the speed at which you can approach, the update rate and accuracy of the GPS receiver, and the latency in X-10 communications.","bullet":"black","level":0}],"object":null,"images":[],"number":4}],"subject":"","summary":"Use your GPS-enabled smartphone to automatically open the garage door as you approach your home.","time_required":"","title":"Automatic Garage Door Opener","tools":[],"type":"project"},"guideid":"754"}