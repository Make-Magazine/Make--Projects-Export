{"device":"Arduino","url":"http:\/\/makeprojects.com\/Project\/TouchUp\/2981\/1","guide":{"author":{"text":"Kai Kwadwo Rohan","userid":16480},"categories":["Arduino","Repurposed Tech"],"conclusion":"","difficulty":"Difficult","documents":[],"flags":[{"title":"User-Contributed Project","flagid":"GUIDE_USER_CONTRIBUTED","text":"This project guide is not managed by MAKE staff."}],"guideid":2981,"image":{"imageid":54925,"text":"http:\/\/guide-images.makeprojects.org\/igi\/kmwbVBMnGlLsf1Lv"},"introduction":"<p>TouchUp is a project initially developed to help a middle-aged woman who lives with multiple sclerosis (MS) in a caregiving facility. Due to the effects of MS, she has limited hand and arm strength to push the buttons on the handheld controller used to adjust her bed, a Hillrom-8400. Our goal was to develop an iPad application that she could use as an alternative to control her bed more easily.<\/p>\n\n<p>To complete this project, we divided it into three parts:  a graphical user interface, an Arduino-to-bed connection, and a network which the Arduino and iPad application communicate over. The approach is as follows:<\/p>\n\n<ul><li>Build a GUI which our client can use to send desired actions to her bed<\/li><li>Connect Arduino to the Hillrom-8400 bed using a serial port<\/li><li>Establish a network which iPad and Arduino can communicate over<\/li><li>Send desired action from iPad to Arduino using an HTTP Get request<\/li><li>Arduino sends signal to bed's actuator based on desired action<\/li><\/ul>","introduction_rendered":"<p>TouchUp is a project initially developed to help a middle-aged woman who lives with multiple sclerosis (MS) in a caregiving facility. Due to the effects of MS, she has limited hand and arm strength to push the buttons on the handheld controller used to adjust her bed, a Hillrom-8400. Our goal was to develop an iPad application that she could use as an alternative to control her bed more easily.<\/p>\n\n<p>To complete this project, we divided it into three parts:  a graphical user interface, an Arduino-to-bed connection, and a network which the Arduino and iPad application communicate over. The approach is as follows:<\/p>\n\n<ul><li>Build a GUI which our client can use to send desired actions to her bed<\/li><li>Connect Arduino to the Hillrom-8400 bed using a serial port<\/li><li>Establish a network which iPad and Arduino can communicate over<\/li><li>Send desired action from iPad to Arduino using an HTTP Get request<\/li><li>Arduino sends signal to bed's actuator based on desired action<\/li><\/ul><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4\">Arduino Uno<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/LinkSprite_CuHead_WiFi_Shield\">LinkSprite CuHead WiFi Shield<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Router\">Router<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/iPad\">iPad<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/5VDC_1A_SPDT_Micro_Relay\">5VDC\/1A SPDT Micro Relay<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Standard_Wire_Kit\">Standard Wire Kit<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Molex_Connector_Kit\">Molex Connector Kit<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Connector_Cable\">Connector Cable<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Adjustable_bed\">Adjustable bed<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Wire_stripper_crimper\">Wire stripper\/crimper<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Arduino Uno","notes":"","url":"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4","thumbnail":""},{"text":"LinkSprite CuHead WiFi Shield","notes":"","url":"http:\/\/makeprojects.com\/Item\/LinkSprite_CuHead_WiFi_Shield","thumbnail":""},{"text":"Router","notes":"any basic home router should work","url":"http:\/\/makeprojects.com\/Item\/Router","thumbnail":""},{"text":"iPad","notes":"","url":"http:\/\/makeprojects.com\/Item\/iPad","thumbnail":""},{"text":"5VDC\/1A SPDT Micro Relay","notes":"From RadioShack, Model: 257-240, Catalog #: 275-240","url":"http:\/\/makeprojects.com\/Item\/5VDC_1A_SPDT_Micro_Relay","thumbnail":""},{"text":"Standard Wire Kit","notes":"","url":"http:\/\/makeprojects.com\/Item\/Standard_Wire_Kit","thumbnail":""},{"text":"Molex Connector Kit","notes":".062IN PWR CONNECTOR KIT PANEL MNT PLUG&amp; RECEPT, 15 CKT; Mfr. Part #: 76650-0070","url":"http:\/\/makeprojects.com\/Item\/Molex_Connector_Kit","thumbnail":""},{"text":"Connector Cable","notes":"can use one taken from an old handheld bed controller, needs minimum of 7 separate wires","url":"http:\/\/makeprojects.com\/Item\/Connector_Cable","thumbnail":""},{"text":"Adjustable bed","notes":"","url":"http:\/\/makeprojects.com\/Item\/Adjustable_bed","thumbnail":""}],"prereqs":[],"steps":[{"title":"Download the Arduino IDE","lines":[{"text":"Go to <a href=\"http:\/\/arduino.cc\/en\/Main\/Software\" rel=\"nofollow\">http:\/\/arduino.cc\/en\/Main\/Software<\/a> and download appropriate IDE based on your operating system.","text_raw":"Go to http:\/\/arduino.cc\/en\/Main\/Software and download appropriate IDE based on your operating system.","bullet":"black","level":0},{"text":"Test that the Arduino works by loading a basic template onto the Arduino Uno.","text_raw":"Test that the Arduino works by loading a basic template onto the Arduino Uno.","bullet":"black","level":0},{"text":"Basic &quot;blink&quot; template can be found under <strong>File \u2192 Examples \u2192 01.Basics \u2192 Blink<\/strong>","text_raw":"Basic \"blink\" template can be found under '''File \u2192 Examples \u2192 01.Basics \u2192 Blink'''","bullet":"black","level":1}],"object":null,"images":[{"imageid":54923,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/sSujTHmCICcKJcWU"}],"number":1},{"title":"Set up Arduino WiFi Connection","lines":[{"text":"Download the <a href=\"https:\/\/github.com\/kwadwon\/TouchUP\" rel=\"nofollow\">zip file<\/a> containing the WiShield library and the Arduino code. Keep a copy of the WiShield library under the library folder where the Arduino IDE libraries are kept; the Arduino code folder can be copied to the directory containing any projects.","text_raw":"Download the [https:\/\/github.com\/kwadwon\/TouchUP|zip file] containing the WiShield library and the Arduino code. Keep a copy of the WiShield library under the library folder where the Arduino IDE libraries are kept; the Arduino code folder can be copied to the directory containing any projects.","bullet":"black","level":0},{"text":"One option for using the Arduino code is to open the code file and copy the contents into a new Arduino project.","text_raw":"One option for using the Arduino code is to open the code file and copy the contents into a new Arduino project.","bullet":"icon_note","level":1},{"text":"In case the zip file does not work, the library for the LinkSprite CuHead WiFi Shield can be downloaded from <a href=\"http:\/\/asynclabs.com\/wiki\/index.php?title=WiShield_library\" rel=\"nofollow\">here<\/a>.","text_raw":"In case the zip file does not work, the library for the LinkSprite CuHead WiFi Shield can be downloaded from [http:\/\/asynclabs.com\/wiki\/index.php?title=WiShield_library|here].","bullet":"black","level":1},{"text":"Follow the steps in this <a href=\"http:\/\/www.sundh.com\/blog\/2012\/02\/make-wishield-work-in-latest-arduino-ide\/\" rel=\"nofollow\">link<\/a> to make the library compatible with the new Arduino IDE.","text_raw":"Follow the steps in this [http:\/\/www.sundh.com\/blog\/2012\/02\/make-wishield-work-in-latest-arduino-ide\/|link] to make the library compatible with the new Arduino IDE.","bullet":"black","level":1},{"text":"Plug in router and take note of the router\u2019s IP, network SSID, security type, password, and subnet mask.","text_raw":"Plug in router and take note of the router\u2019s IP, network SSID, security type, password, and subnet mask.","bullet":"black","level":0},{"text":"In the Arduino code update the appropriate fields with the values from above (gateway_ip, subnet_mask, ssid, security_type).","text_raw":"In the Arduino code update the appropriate fields with the values from above (gateway_ip, subnet_mask, ssid, security_type).","bullet":"black","level":0}],"object":null,"images":[{"imageid":54896,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/gG123dSD5SaNrZaw"},{"imageid":54898,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/wNpJBLyAZsgBsyAq"}],"number":2},{"title":"Develop iPad Application","lines":[{"text":"Download Xcode to begin developing. If you downloaded the TouchUp zip file, the folder should include code for a graphical user interface already.","text_raw":"Download Xcode to begin developing. If you downloaded the TouchUp zip file, the folder should include code for a graphical user interface already.","bullet":"black","level":0},{"text":"Design a user interface with a total of five buttons and one label. Two of the buttons will be used for moving the bed up, two for moving the bed down, and one to switch modes (Bed, Feet, Head). Refer to iPad application tutorials if you are not familiar with this.","text_raw":"Design a user interface with a total of five buttons and one label. Two of the buttons will be used for moving the bed up, two for moving the bed down, and one to switch modes (Bed, Feet, Head). Refer to iPad application tutorials if you are not familiar with this.","bullet":"black","level":0},{"text":"Make sure to change the URL so that it matches the URL of your Arduino.","text_raw":"Make sure to change the URL so that it matches the URL of your Arduino.","bullet":"icon_caution","level":0},{"text":"Test that the GUI can toggle a basic LED set up with the corresponding output pins in the Arduino (use only resistors, wires, and LEDs to do this; do not put the relays in yet).","text_raw":"Test that the GUI can toggle a basic LED set up with the corresponding output pins in the Arduino (use only resistors, wires, and LEDs to do this; do not put the relays in yet).","bullet":"black","level":0}],"object":null,"images":[{"imageid":54908,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/LL4KwhnXxYbhKBiF"}],"number":3},{"title":"Set up Relays on Breadboard","lines":[{"text":"Set up the relays on the breadboard as shown by the diagrams. Spread out the 6 relays across the breadboard.","text_raw":"Set up the relays on the breadboard as shown by the diagrams. Spread out the 6 relays across the breadboard.","bullet":"black","level":0},{"text":"Connect the (-) strip to the ground pin on the Arduino and each relay common pin to the (+) strip.","text_raw":"Connect the (-) strip to the ground pin on the Arduino and each relay common pin to the (+) strip.","bullet":"black","level":1},{"text":"The bed pins will be connected in the next few steps after the Molex port has been put together.","text_raw":"The bed pins will be connected in the next few steps after the Molex port has been put together.","bullet":"icon_note","level":1},{"text":"Make sure the relays are oriented correctly, and do NOT ground the left pin. We used SPDT relays, which would short the rest of the circuit when a switch is &quot;open.&quot; If you find that nothing works after you have put everything together, check that this pin is not connected to anything that shorts the circuit!","text_raw":"Make sure the relays are oriented correctly, and do NOT ground the left pin. We used SPDT relays, which would short the rest of the circuit when a switch is \"open.\" If you find that nothing works after you have put everything together, check that this pin is not connected to anything that shorts the circuit!","bullet":"icon_caution","level":1}],"object":null,"images":[{"imageid":54919,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/C6Eo36lg6mTAUoBT"},{"imageid":54916,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/usObIQACfXxSyPMo"},{"imageid":54929,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/FjaqAmhVp63uJQoE"}],"number":4},{"title":"Set up Molex Connector","lines":[{"text":"Molex Connector has room for 15 pins, but we will only use 7 male pins from the kit.","text_raw":"Molex Connector has room for 15 pins, but we will only use 7 male pins from the kit.","bullet":"black","level":0},{"text":"Attach individual wires from the connector cable to terminals using the crimping tool.","text_raw":"Attach individual wires from the connector cable to terminals using the crimping tool.","bullet":"black","level":0},{"text":"Keep track of which wires connect to which pins -- they need to correspond to the correct Arduino output pins.","text_raw":"Keep track of which wires connect to which pins -- they need to correspond to the correct Arduino output pins.","bullet":"black","level":0},{"text":"I kept track by looking at the colors of each wire, which I have labeled in the diagram. Make sure that you are looking at the diagram as if the pins were sticking out towards you.","text_raw":"I kept track by looking at the colors of each wire, which I have labeled in the diagram. Make sure that you are looking at the diagram as if the pins were sticking out towards you.","bullet":"icon_caution","level":1},{"text":"Any of the three pins down the middle column will work as a common pin. We arbitrarily chose the top pin and attached it to the red wire.","text_raw":"Any of the three pins down the middle column will work as a common pin. We arbitrarily chose the top pin and attached it to the red wire.","bullet":"icon_note","level":1}],"object":null,"images":[{"imageid":54913,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/iPTMZGpNFqVeEiRj"},{"imageid":54931,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/YVrGZYoFfJHMLDfQ"},{"imageid":54933,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/xsdbBX6EkMqTUXk4"}],"number":5},{"title":"Connect Cable to Breadboard","lines":[{"text":"Attach the free ends of the wires from the connector cable to the terminal block.","text_raw":"Attach the free ends of the wires from the connector cable to the terminal block.","bullet":"black","level":0},{"text":"The wires we used were too difficult to put into the breadboard directly, so we attached stiff wires to the other side of the terminal block. This is only one of many ways to connect the wires securely to the Arduino board.","text_raw":"The wires we used were too difficult to put into the breadboard directly, so we attached stiff wires to the other side of the terminal block. This is only one of many ways to connect the wires securely to the Arduino board.","bullet":"icon_note","level":1},{"text":"Make sure that the Common Pin connector is connected to the + strip, and that the Bed Control pins are connected to the corresponding terminals of the relay.","text_raw":"Make sure that the Common Pin connector is connected to the + strip, and that the Bed Control pins are connected to the corresponding terminals of the relay.","bullet":"icon_caution","level":0}],"object":null,"images":[{"imageid":54920,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/TUE2RtHmxiySOZUO"},{"imageid":54914,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1GXSkjBTSdd12VBB"}],"number":6},{"title":"Put Everything Together","lines":[{"text":"Put all of the components into a project box.","text_raw":"Put all of the components into a project box.","bullet":"black","level":0},{"text":"Make sure Arduino code is uploaded into the Arduino.","text_raw":"Make sure Arduino code is uploaded into the Arduino.","bullet":"icon_reminder","level":1},{"text":"Plug the Molex connector into one of the Hillrom-8400 ports and power up the Arduino.","text_raw":"Plug the Molex connector into one of the Hillrom-8400 ports and power up the Arduino.","bullet":"black","level":0},{"text":"Load finished iPad application onto an iPad and connect to WiFi.","text_raw":"Load finished iPad application onto an iPad and connect to WiFi.","bullet":"black","level":0},{"text":"Once the red light on the WiFi Shield has lit up, the Arduino is connected and you should be able to control the bed from the iPad!","text_raw":"Once the red light on the WiFi Shield has lit up, the Arduino is connected and you should be able to control the bed from the iPad!","bullet":"black","level":0}],"object":null,"images":[{"imageid":54918,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/FVOVEAQG1lsAEErw"},{"imageid":54921,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/OVSyFjYLMORhjamN"},{"imageid":54922,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/oFtOeESpXlmG3kO2"}],"number":7}],"subject":"","summary":"This guide will describe the steps to put together a bed control system for a Hillrom-8400 hospital bed from an iPad application. An Arduino acts as the intermediate device that directly connects to the bed and communicates with the iPad over WiFi.","time_required":"","title":"TouchUp","tools":[{"text":"Wire stripper\/crimper","notes":"","url":"http:\/\/makeprojects.com\/Item\/Wire_stripper_crimper","thumbnail":""}],"type":"project"},"guideid":"2981"}