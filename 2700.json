{"device":"Arduino","url":"http:\/\/makeprojects.com\/Project\/Keyless+Lock+Box\/2700\/1","guide":{"author":{"text":"Gordon McComb","userid":6223},"categories":["Arduino"],"conclusion":"<h3 id=\"Section_Lock_Box_Power\">Lock Box Power!<\/h3>\n\n<p>The Keyless Lock Box is designed to use external power for unlocking, but it can sit in a locked state for indefinite periods without any power. To power the lock and open it, insert the plug into the hole in the back, enter the combination, then lift the lid.<\/p>\n\n<p>The box will automatically relock after 7 seconds. If the lid is still open, you can relock the box by manually pushing the servo arm toward the front of the box, pressing the Arduino\u2019s reset button, and closing the lid. When the sketch restarts, it automatically moves the servo to its lock position. You may then remove the power plug.<\/p>\n\n<p>If you forget the combination or can\u2019t get it to work, here\u2019s a \u201csecret\u201d override procedure that will briefly unlock the box:<\/p>\n\n<p>Unplug power to the Arduino. Press and hold down the OFN sensor while you plug the Arduino back in. Quickly open the lid when you hear the servo move to its unlock position. You\u2019ll have only 1.5 seconds before the servo relocks the box.<\/p>\n\n<p>You can remove or comment out the override code in LockBox.ino if you don\u2019t want this behavior.<\/p>\n\n<p>Keep the box looking good by applying paint or finish to the bare wood, starting with a base coat. For a cleaner look, remove the clasp in front of the cigar box, and fill in the holes with wood putty. Sand for a smooth finish. Or replace the clasp with something fancier.<\/p>\n\n<p><strong>This project first appeared in <a href=\"http:\/\/makezine.com\/32\">MAKE Volume 32<\/a>, page 110.<\/strong><\/p>","difficulty":"Moderate","documents":[],"flags":[{"title":"From MAKE Magazine","flagid":"FROM_MAKE","text":"This project first appeared on the pages of MAKE magazine."}],"guideid":2700,"image":{"imageid":51871,"text":"http:\/\/guide-images.makeprojects.org\/igi\/HhlCZPecwnSfDU2V"},"introduction":"<p>That piggy bank is looking mighty low-tech these days, and you have to bash it open to get your cash. One piggy, one withdrawal. And then there are those cheesy, tin \u201dWild West\u201d lock boxes with the red combination dial. Not only do they lack wow factor, your granny could crack one in 30 seconds.<\/p>\n\n<p>But stick an Arduino in a wooden box, along with a finger-operated sensor and small motor, and you\u2019ve made a 21st-century treasure chest that\u2019s suitable for a daily diary, petty cash, or even those special Rice Krispies recipes that your snoopy neighbor wants to steal.<\/p>\n\n<p>There\u2019s no key in this keyless electronic combination lock box; you just move your finger across a small optical window, and it\u2019s \u201copen sesame.\u201d The combination to the lock is a secret movement pattern only you know.<\/p>\n\n<h3 id=\"Section_How_It_Works\">How It Works<\/h3>\n\n<p>The keyless lock box uses a unique optical finger navigation (OFN) sensor as a combination decoder. The OFN sensor works much like an optical mouse, except it\u2019s intended to be used in direct contact with your finger. They are used in handheld devices where a trackpad would be too large, but because they are more expensive than trackballs, they\u2019re not common in consumer products.<\/p>\n\n<p>Movement across the small surface of the sensor is converted to X and Y distance measurements \u2014 up, down, left, and right. Sequences of these movements make up the combination of the lock.<\/p>\n\n<p>For this project I\u2019m using the Parallax OFN module, which puts a commercial OFN sensor on a breakout board that provides connectors for power (3.3V to 5V), ground, and 6 signal lines. The OFN module uses 2-wire I2C to communicate with a microcontroller<wbr \/>, and has additional I\/O pins for such things as the momentary pushbutton switch that engages when you push the optical sensor down.<\/p>\n\n<p>The locking mechanism uses a standard-size R\/C servomotor that\u2019s glued into the bottom of the box. To lock the box, the turning servo engages a metal arm attached inside the box\u2019s lid. Turning the other way, it frees the bar, letting you open the lid.<\/p>\n\n<p>An Arduino microcontroller works as the main brain of the lock box, handling all the communications with the OFN module, controlling the servo, and even making musical tones on a small piezo speaker.<\/p>\n\n<p>For my box, I used a plain 8&quot; square cigar box from a craft store \u2014 no need to smoke a bunch of stogies. The wood is unfinished; stain or paint to suit. You don\u2019t get Fort Knox with these boxes, but they\u2019ll keep out the casual thief.<\/p>","introduction_rendered":"<p>That piggy bank is looking mighty low-tech these days, and you have to bash it open to get your cash. One piggy, one withdrawal. And then there are those cheesy, tin \u201dWild West\u201d lock boxes with the red combination dial. Not only do they lack wow factor, your granny could crack one in 30 seconds.<\/p>\n\n<p>But stick an Arduino in a wooden box, along with a finger-operated sensor and small motor, and you\u2019ve made a 21st-century treasure chest that\u2019s suitable for a daily diary, petty cash, or even those special Rice Krispies recipes that your snoopy neighbor wants to steal.<\/p>\n\n<p>There\u2019s no key in this keyless electronic combination lock box; you just move your finger across a small optical window, and it\u2019s \u201copen sesame.\u201d The combination to the lock is a secret movement pattern only you know.<\/p>\n\n<h3 id=\"Section_How_It_Works\">How It Works<\/h3>\n\n<p>The keyless lock box uses a unique optical finger navigation (OFN) sensor as a combination decoder. The OFN sensor works much like an optical mouse, except it\u2019s intended to be used in direct contact with your finger. They are used in handheld devices where a trackpad would be too large, but because they are more expensive than trackballs, they\u2019re not common in consumer products.<\/p>\n\n<p>Movement across the small surface of the sensor is converted to X and Y distance measurements \u2014 up, down, left, and right. Sequences of these movements make up the combination of the lock.<\/p>\n\n<p>For this project I\u2019m using the Parallax OFN module, which puts a commercial OFN sensor on a breakout board that provides connectors for power (3.3V to 5V), ground, and 6 signal lines. The OFN module uses 2-wire I2C to communicate with a microcontroller<wbr \/>, and has additional I\/O pins for such things as the momentary pushbutton switch that engages when you push the optical sensor down.<\/p>\n\n<p>The locking mechanism uses a standard-size R\/C servomotor that\u2019s glued into the bottom of the box. To lock the box, the turning servo engages a metal arm attached inside the box\u2019s lid. Turning the other way, it frees the bar, letting you open the lid.<\/p>\n\n<p>An Arduino microcontroller works as the main brain of the lock box, handling all the communications with the OFN module, controlling the servo, and even making musical tones on a small piezo speaker.<\/p>\n\n<p>For my box, I used a plain 8&quot; square cigar box from a craft store \u2014 no need to smoke a bunch of stogies. The wood is unfinished; stain or paint to suit. You don\u2019t get Fort Knox with these boxes, but they\u2019ll keep out the casual thief.<\/p><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Cigar_box_or_similar_wooden_box\">Cigar box, or similar wooden box<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Arduino_Uno_microcontroller_board\">Arduino Uno microcontroller board<\/a><\/li><li><a href=\"http:\/\/arduino.cc\">Arduino IDE<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Optical_finger_navigation_%28OFN%29_module\">Optical finger navigation (OFN) module<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Power_source\">Power source<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Piezo_Speaker\">Piezo Speaker<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Parallax_Futaba_servomotor\">Parallax\/Futaba servomotor<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Capacitor\">Capacitor<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/resistors\">resistors<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Circuit_board\">Circuit board<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Wire_jumpers\">Wire jumpers<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Header\">Header<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Header_shells\">Header shells<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Cable\">Cable<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Plywood\">Plywood<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Brass_strip\">Brass strip<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Machine_screws\">Machine screws<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Nuts\">Nuts<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2049745\">Hookup wire<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12515226\">Heat-shrink tubing<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Double-sided_foam_tape\">Double-sided foam tape<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Florist_tape_%28putty%29\">Florist tape (putty)<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Flush_cutters\">Flush cutters<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Hacksaw\">Hacksaw<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Hot_glue_gun_and_glue\">Hot glue gun and glue<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Needlenose_pliers\">Needlenose pliers<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Screwdriver\">Screwdriver<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062719\">Solder<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Soldering_pencil\">Soldering pencil<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Step_drill_bit\">Step drill bit<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/drill_with_drill_bits\">drill with drill bits<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"Cigar box, or similar wooden box","notes":"Mine measured 8&quot;\u00d78&quot;\u00d71\u00be&quot;","url":"http:\/\/makeprojects.com\/Item\/Cigar_box_or_similar_wooden_box","thumbnail":""},{"text":"Arduino Uno microcontroller board","notes":"","url":"http:\/\/makeprojects.com\/Item\/Arduino_Uno_microcontroller_board","thumbnail":""},{"text":"Arduino IDE","notes":"","url":"http:\/\/arduino.cc","thumbnail":""},{"text":"Optical finger navigation (OFN) module","notes":"Parallax #27903, parallax.com","url":"http:\/\/makeprojects.com\/Item\/Optical_finger_navigation_%28OFN%29_module","thumbnail":""},{"text":"Power source","notes":"Plug-in power adapter or  battery holder, either 6\u00d7AA or 9V. If you prefer to use rechargeable NiCd or NiMH batteries, you need an 8\u00d7AA battery holder.","url":"http:\/\/makeprojects.com\/Item\/Power_source","thumbnail":""},{"text":"Piezo Speaker","notes":"I used BG Micro #AUD1112.","url":"http:\/\/makeprojects.com\/Item\/Piezo_Speaker","thumbnail":""},{"text":"Parallax\/Futaba servomotor","notes":"Parallax #900-00005","url":"http:\/\/makeprojects.com\/Item\/Parallax_Futaba_servomotor","thumbnail":""},{"text":"Capacitor","notes":"","url":"http:\/\/makeprojects.com\/Item\/Capacitor","thumbnail":""},{"text":"resistors","notes":"","url":"http:\/\/makeprojects.com\/Item\/resistors","thumbnail":""},{"text":"Circuit board","notes":"RadioShack #276-168, radioshack.com","url":"http:\/\/makeprojects.com\/Item\/Circuit_board","thumbnail":""},{"text":"Wire jumpers","notes":"I like to use stranded wires; they\u2019re more flexible and less likely to break after repeated bending.","url":"http:\/\/makeprojects.com\/Item\/Wire_jumpers","thumbnail":""},{"text":"Header","notes":"","url":"http:\/\/makeprojects.com\/Item\/Header","thumbnail":""},{"text":"Header shells","notes":"aka crimp connector housings","url":"http:\/\/makeprojects.com\/Item\/Header_shells","thumbnail":""},{"text":"Cable","notes":"for hobby servos","url":"http:\/\/makeprojects.com\/Item\/Cable","thumbnail":""},{"text":"Plywood","notes":"or expanded PVC","url":"http:\/\/makeprojects.com\/Item\/Plywood","thumbnail":""},{"text":"Brass strip","notes":"","url":"http:\/\/makeprojects.com\/Item\/Brass_strip","thumbnail":""},{"text":"Machine screws","notes":"","url":"http:\/\/makeprojects.com\/Item\/Machine_screws","thumbnail":""},{"text":"Nuts","notes":"","url":"http:\/\/makeprojects.com\/Item\/Nuts","thumbnail":""},{"text":"Hookup wire","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2049745","thumbnail":""},{"text":"Heat-shrink tubing","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=12515226","thumbnail":""},{"text":"Double-sided foam tape","notes":"","url":"http:\/\/makeprojects.com\/Item\/Double-sided_foam_tape","thumbnail":""}],"prereqs":[],"steps":[{"title":"Prepare the box.","lines":[{"text":"To make cutting and drilling easier, detach the box lid by removing the top screws in the 2 hinges on the back. Use a hacksaw or razor saw to cut out a small chunk on the left side of the box for the OFN module, just wide enough to fit. Gently pry loose the knockout piece, being careful not to crack the bottom of the box.","text_raw":"To make cutting and drilling easier, detach the box lid by removing the top screws in the 2 hinges on the back. Use a hacksaw or razor saw to cut out a small chunk on the left side of the box for the OFN module, just wide enough to fit. Gently pry loose the knockout piece, being careful not to crack the bottom of the box.","bullet":"black","level":0},{"text":"Drill 1\/8&quot; mounting holes for the OFN module. To prevent the bit from pushing through and splintering the wood, press or clamp a piece of wood behind the hole while drilling.","text_raw":"Drill 1\/8\" mounting holes for the OFN module. To prevent the bit from pushing through and splintering the wood, press or clamp a piece of wood behind the hole while drilling.","bullet":"black","level":0},{"text":"Measure and mark the center of a 1\/2&quot; hole in the rear of the box, positioned so you can insert a barrel plug through the hole and into the Arduino\u2019s power jack. First drill a pilot hole with a 1\/8&quot; bit. Follow that with a 1\/4&quot; bit, and finish with a step bit, stopping at the 1\/2&quot; mark.","text_raw":"Measure and mark the center of a 1\/2\" hole in the rear of the box, positioned so you can insert a barrel plug through the hole and into the Arduino\u2019s power jack. First drill a pilot hole with a 1\/8\" bit. Follow that with a 1\/4\" bit, and finish with a step bit, stopping at the 1\/2\" mark.","bullet":"black","level":0},{"text":"Referring to Image 2, temporarily position the Arduino in the rear left of the box, on top of 1\/8&quot; nylon spacers. Make sure the Arduino power jack is in line with the rear hole you just drilled. Use a small nail or sharp pencil to mark the location for the 2 mounting holes indicated. Remove the Arduino and set aside.","text_raw":"Referring to Image 2, temporarily position the Arduino in the rear left of the box, on top of 1\/8\" nylon spacers. Make sure the Arduino power jack is in line with the rear hole you just drilled. Use a small nail or sharp pencil to mark the location for the 2 mounting holes indicated. Remove the Arduino and set aside.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51651,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/QvOsARpLmEAuT41o"},{"imageid":51648,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ECZxSFSG1YDswYvH"}],"number":1},{"title":"Make the locking mechanism.","lines":[{"text":"Alignment of the locking parts is critical, so take this step slowly. Use a hacksaw to carefully remove the mounting flanges on both sides of the servo. Thread a 4-40\u00d73\/4&quot; machine screw near the end of the included single-arm servo horn and use a 4-40 self-locking (nylon insert) nut to tightly secure the screw in place.","text_raw":"Alignment of the locking parts is critical, so take this step slowly. Use a hacksaw to carefully remove the mounting flanges on both sides of the servo. Thread a 4-40\u00d73\/4\" machine screw near the end of the included single-arm servo horn and use a 4-40 self-locking (nylon insert) nut to tightly secure the screw in place.","bullet":"black","level":0},{"text":"Attach the horn to the servo and slowly rotate the motor shaft to the center of movement. You\u2019ll make fine-tune adjustments later, so leave off the screw that holds the horn to the servo shaft. Use a hot glue gun to mount the servo in the front left corner of the box.","text_raw":"Attach the horn to the servo and slowly rotate the motor shaft to the center of movement. You\u2019ll make fine-tune adjustments later, so leave off the screw that holds the horn to the servo shaft. Use a hot glue gun to mount the servo in the front left corner of the box.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51649,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/l6sOyj6ZyUPKCNAS"},{"imageid":51659,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/rvAP3NKAytY3KJDf"}],"number":2},{"title":"","lines":[{"text":"To avoid unsightly screws on the top of the box, fasten the locking bar to a mounting block made of 1\/4&quot; aircraft-grade plywood or PVC inside the lid. The large surface area of the flat block will enable a strong glue joint.","text_raw":"To avoid unsightly screws on the top of the box, fasten the locking bar to a mounting block made of 1\/4\" aircraft-grade plywood or PVC inside the lid. The large surface area of the flat block will enable a strong glue joint.","bullet":"black","level":0},{"text":"Follow Image 1 to cut and drill a length of 1\/2&quot;-wide \u00d7 0.064&quot;-thick brass strip, then cut the block to size, and drill holes matching those in the strip. Fasten the brass strip and block together with 4-40 flat-head machine screws. Bend down the front of the strip at a 15\u00b0\u201320\u00b0 angle. You can adjust the angle later to achieve better locking action.","text_raw":"Follow Image 1 to cut and drill a length of 1\/2\"-wide \u00d7 0.064\"-thick brass strip, then cut the block to size, and drill holes matching those in the strip. Fasten the brass strip and block together with 4-40 flat-head machine screws. Bend down the front of the strip at a 15\u00b0\u201320\u00b0 angle. You can adjust the angle later to achieve better locking action.","bullet":"black","level":0},{"text":"Stick a single 1\/2&quot; square piece of florist tape (putty) to the top of the block, and using your best guess, line up the locking bar so it engages with the screw attached to the servo horn. The putty keeps the mounting block in place until you can test the best placement on the lid. Reattach the lid to its hinges.","text_raw":"Stick a single 1\/2\" square piece of florist tape (putty) to the top of the block, and using your best guess, line up the locking bar so it engages with the screw attached to the servo horn. The putty keeps the mounting block in place until you can test the best placement on the lid. Reattach the lid to its hinges.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51647,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/HGUMIOHeWKWCY1FW"},{"imageid":51660,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/mRupKKhVWYTQ5RcC"}],"number":3},{"title":"Calibrate the servo.","lines":[{"text":"Wiring makes or breaks a project. I used pre-crimped male\/male and male\/female jumpers, 1\u00d71 header shells, and double-long breakaway header pins for robust and easily pluggable connections.","text_raw":"Wiring makes or breaks a project. I used pre-crimped male\/male and male\/female jumpers, 1\u00d71 header shells, and double-long breakaway header pins for robust and easily pluggable connections.","bullet":"black","level":0},{"text":"You could theoretically use the pin sides of 3 male\/female jumpers to connect to the servo extension cable, but the double-long headers make a stronger friction-fit connection. Snap shells onto the jumpers to make 9 male\/male jumpers with shells at one end, and 3 male\/female jumpers with shells on both ends.","text_raw":"You could theoretically use the pin sides of 3 male\/female jumpers to connect to the servo extension cable, but the double-long headers make a stronger friction-fit connection. Snap shells onto the jumpers to make 9 male\/male jumpers with shells at one end, and 3 male\/female jumpers with shells on both ends.","bullet":"black","level":0},{"text":"I needed to add a bypass capacitor to reduce electrical noise from the servo that caused the Arduino to keep resetting itself. Solder a 47\u00b5F tantalum capacitor between the middle and one side pin of a 3-pin double-long header.","text_raw":"I needed to add a bypass capacitor to reduce electrical noise from the servo that caused the Arduino to keep resetting itself. Solder a 47\u00b5F tantalum capacitor between the middle and one side pin of a 3-pin double-long header.","bullet":"black","level":0},{"text":"Be <em>absolutely<\/em> sure that the + lead of the capacitor is connected to the center pin! These will connect to the servo\u2019s voltage (V+) and ground (Gnd) pins.","text_raw":"Be ''absolutely'' sure that the + lead of the capacitor is connected to the center pin! These will connect to the servo\u2019s voltage (V+) and ground (Gnd) pins.","bullet":"black","level":0},{"text":"To calibrate the servo so that it points in the desired direction, download and unpack <a href=\"http:\/\/cdn.makezine.com\/make\/32\/keyless_lockbox_code.zip\">the project code<\/a>, then verify (compile) and upload the ServoCalibrate sketch to your Arduino. Visit the same link for instructions on how to upload programs to an Arduino.","text_raw":"To calibrate the servo so that it points in the desired direction, download and unpack [http:\/\/cdn.makezine.com\/make\/32\/keyless_lockbox_code.zip|the project code], then verify (compile) and upload the ServoCalibrate sketch to your Arduino. Visit the same link for instructions on how to upload programs to an Arduino.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51650,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/4QZXNok4N1wUbJ4D"},{"imageid":51653,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/NPxEZDdlKRZlK4Dm"}],"number":4},{"title":"","lines":[{"text":"Remove the horn from the shaft and  plug in the 3-pin connector you just made, orienting the bypass cap on the black or brown wire (ground) side. Use 3 male\/female jumpers to connect the servo and Arduino\u2019s 5V and ground together, and the servo\u2019s control (white or yellow) to Arduino digital pin 8.","text_raw":"Remove the horn from the shaft and  plug in the 3-pin connector you just made, orienting the bypass cap on the black or brown wire (ground) side. Use 3 male\/female jumpers to connect the servo and Arduino\u2019s 5V and ground together, and the servo\u2019s control (white or yellow) to Arduino digital pin 8.","bullet":"black","level":0},{"text":"Briefly depress the reset switch on the Arduino. When the ServoCalibrate sketch restarts, the servo first moves to its extremes, then centers itself at its midpoint and stops. After it\u2019s done, unplug the Arduino from the PC, then reattach the horn to the servo so that it points straight up, and secure it in position with the small included screw.","text_raw":"Briefly depress the reset switch on the Arduino. When the ServoCalibrate sketch restarts, the servo first moves to its extremes, then centers itself at its midpoint and stops. After it\u2019s done, unplug the Arduino from the PC, then reattach the horn to the servo so that it points straight up, and secure it in position with the small included screw.","bullet":"black","level":0},{"text":"<strong>CAUTION!<\/strong> Warning! Whoa, Nellie!  Do not cross the polarity of the wires or your servo may be permanently damaged.","text_raw":"'''CAUTION!''' Warning! Whoa, Nellie!  Do not cross the polarity of the wires or your servo may be permanently damaged.","bullet":"icon_caution","level":0}],"object":null,"images":[{"imageid":51652,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/M3nX2LDEAXgli6ET"}],"number":5},{"title":"Align the locking mechanism.","lines":[{"text":"To align the servo horn with the brass strip, reconnect the Arduino to your PC and upload the ServoLock sketch.","text_raw":"To align the servo horn with the brass strip, reconnect the Arduino to your PC and upload the ServoLock sketch.","bullet":"black","level":0},{"text":"Thread the servo cable through the opening in the side of the box, manually move the servo arm toward the front of the box, and close the lid.","text_raw":"Thread the servo cable through the opening in the side of the box, manually move the servo arm toward the front of the box, and close the lid.","bullet":"black","level":0},{"text":"Click the reset button to run the sketch and listen for when the servo stops moving. Then test the lock by trying to lift the lid.","text_raw":"Click the reset button to run the sketch and listen for when the servo stops moving. Then test the lock by trying to lift the lid.","bullet":"black","level":0},{"text":"Should the servo horn and screw not  properly engage over the brass strip \u2014 it makes clunking or scraping noises \u2014 pop the mounting block off the lid, reposition it, and try again. When you get the position just right, unplug the servo and mark around the block with a pencil for gluing later.","text_raw":"Should the servo horn and screw not  properly engage over the brass strip \u2014 it makes clunking or scraping noises \u2014 pop the mounting block off the lid, reposition it, and try again. When you get the position just right, unplug the servo and mark around the block with a pencil for gluing later.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51872,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/FDEBEMNvGQOhBpfT"}],"number":6},{"title":"Install the OFN board, speaker.","lines":[{"text":"The OFN module doesn\u2019t have any direct means for mounting, so you need to solder it to a small circuit board that you can then attach to the side of the lock box using 4-40 machine screws and nuts. Cut the board to size and drill 2 holes for mounting.","text_raw":"The OFN module doesn\u2019t have any direct means for mounting, so you need to solder it to a small circuit board that you can then attach to the side of the lock box using 4-40 machine screws and nuts. Cut the board to size and drill 2 holes for mounting.","bullet":"black","level":0},{"text":"I used a board with component layout, in which long horizontal bus traces alternate with 3-hole vertical segments. This layout makes it easier for making wire connections on the backside of the board with the copper foil, which is necessary because the OFN module will take up all the space on the front.","text_raw":"I used a board with component layout, in which long horizontal bus traces alternate with 3-hole vertical segments. This layout makes it easier for making wire connections on the backside of the board with the copper foil, which is necessary because the OFN module will take up all the space on the front.","bullet":"black","level":0},{"text":"Following the Step 7 diagram, drill a 1\/8&quot; hole in the middle of the long trace at the top, to break the connection. This will separate the voltage and ground connections to the OFN module, which is very important.","text_raw":"Following the Step 7 diagram, drill a 1\/8\" hole in the middle of the long trace at the top, to break the connection. This will separate the voltage and ground connections to the OFN module, which is very important.","bullet":"black","level":0},{"text":"Then solder the OFN module to the board from the top, non-foil side (the leads will poke through to the foil side). Orient it with the LED on the drilled trace side, along with voltage and ground connections, and the 6 signal lines along the opposite side.","text_raw":"Then solder the OFN module to the board from the top, non-foil side (the leads will poke through to the foil side). Orient it with the LED on the drilled trace side, along with voltage and ground connections, and the 6 signal lines along the opposite side.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51654,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/o2Z461Lt4k3rCy6I"}],"number":7},{"title":"","lines":[{"text":"Cut eight 1&quot; lengths of 1\/8&quot;-diameter heat-shrink tubing, and slip one each over 8 of your prepared male\/female jumpers. Solder the bare pin end of each jumper to its corresponding connecting point on the foil side of the board 6 signal lines in a row, and the power and ground on the other side, as seen in the diagram.","text_raw":"Cut eight 1\" lengths of 1\/8\"-diameter heat-shrink tubing, and slip one each over 8 of your prepared male\/female jumpers. Solder the bare pin end of each jumper to its corresponding connecting point on the foil side of the board 6 signal lines in a row, and the power and ground on the other side, as seen in the diagram.","bullet":"black","level":0},{"text":"The pin will poke through; cut it flush with the front of the board after soldering. After all jumpers are soldered, push the heat-shrink tubing over the metal and apply heat to shrink.","text_raw":"The pin will poke through; cut it flush with the front of the board after soldering. After all jumpers are soldered, push the heat-shrink tubing over the metal and apply heat to shrink.","bullet":"black","level":0},{"text":"Mount the OFN module and board to the side of the box using 4-40 fasteners.","text_raw":"Mount the OFN module and board to the side of the box using 4-40 fasteners.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51656,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/DXpgBxbxmgJsAuOw"},{"imageid":51661,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/FoxmwoxESExaSwEk"},{"imageid":51657,"orderby":3,"text":"http:\/\/guide-images.makeprojects.org\/igi\/ijGVWN2Og4xIeYir"}],"number":8},{"title":"","lines":[{"text":"Plug in the 8 jumpers from the OFN into the Arduino digital pins D2\u2013D7 and analog pins A4\u2013A5 as shown in Figure K. Be absolutely sure not to swap pins D6 and D7, or you\u2019ll reverse the power to the OFN and possibly damage it.","text_raw":"Plug in the 8 jumpers from the OFN into the Arduino digital pins D2\u2013D7 and analog pins A4\u2013A5 as shown in Figure K. Be absolutely sure not to swap pins D6 and D7, or you\u2019ll reverse the power to the OFN and possibly damage it.","bullet":"black","level":0},{"text":"Cut the remaining male\/male jumper in half. Strip 1\/8&quot; of insulation from the cut ends, and solder them to the terminals of the piezo speaker. Use double-sided foam tape to mount the speaker to the bottom of the box, and attach the 2 jumpers to Arduino pins D11 and D12. The innards of your lock box should look like the 2nd image.","text_raw":"Cut the remaining male\/male jumper in half. Strip 1\/8\" of insulation from the cut ends, and solder them to the terminals of the piezo speaker. Use double-sided foam tape to mount the speaker to the bottom of the box, and attach the 2 jumpers to Arduino pins D11 and D12. The innards of your lock box should look like the 2nd image.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51655,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/nRm1KURW4HdYMrJ1"},{"imageid":51662,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/hbyRxQEKQlQJkhpx"}],"number":9},{"title":"Program it.","lines":[{"text":"Reconnect your Arduino and then verify and upload the <em>LockBox<\/em> sketch. It includes several files in the same folder; make sure they remain in the folder or the sketch won\u2019t work. You need version 1.0 (or later) of the Arduino IDE, or the sketch will not compile.","text_raw":"Reconnect your Arduino and then verify and upload the ''LockBox'' sketch. It includes several files in the same folder; make sure they remain in the folder or the sketch won\u2019t work. You need version 1.0 (or later) of the Arduino IDE, or the sketch will not compile.","bullet":"black","level":0},{"text":"For now, keep the lid open so you can see what happens when the box locks and unlocks. Keep the Arduino connected to  the computer and open the Serial Monitor window (Tools menu) so you can review the debugging messages.","text_raw":"For now, keep the lid open so you can see what happens when the box locks and unlocks. Keep the Arduino connected to  the computer and open the Serial Monitor window (Tools menu) so you can review the debugging messages.","bullet":"black","level":0},{"text":"On Arduino startup or reset, the servo should go into lock (straight up) position, and you should see \u201cDevice ready\u201d in the Serial Monitor window. If instead it reads, \u201cDevice not found,\u201d it means the Arduino can\u2019t find the OFN module, and you should recheck the wiring.","text_raw":"On Arduino startup or reset, the servo should go into lock (straight up) position, and you should see \u201cDevice ready\u201d in the Serial Monitor window. If instead it reads, \u201cDevice not found,\u201d it means the Arduino can\u2019t find the OFN module, and you should recheck the wiring.","bullet":"black","level":0},{"text":"Swipe your finger across the sensor of the OFN module sensor, then press it down. You\u2019ll hear a series of tones indicating a bad combination entry.","text_raw":"Swipe your finger across the sensor of the OFN module sensor, then press it down. You\u2019ll hear a series of tones indicating a bad combination entry.","bullet":"black","level":0},{"text":"Move your finger across the sensor again, this time using the pre-stored combination: <em>Left-Right-Left<\/em>. Click down the sensor, and this time the lock opens. After 7 seconds the lock automatically closes.","text_raw":"Move your finger across the sensor again, this time using the pre-stored combination: ''Left-Right-Left''. Click down the sensor, and this time the lock opens. After 7 seconds the lock automatically closes.","bullet":"black","level":0},{"text":"See the comments in the LockBox sketch on where to change the combination. It can be any length sequence of swipes up, down, left, and right. Once the lock is reprogrammed, unplug the Arduino from your computer. Reattach the Arduino to the bottom of the lock box.","text_raw":"See the comments in the LockBox sketch on where to change the combination. It can be any length sequence of swipes up, down, left, and right. Once the lock is reprogrammed, unplug the Arduino from your computer. Reattach the Arduino to the bottom of the lock box.","bullet":"black","level":0},{"text":"Now\u2019s a good time to glue the locking bar mounting plate permanently to the lid. Hot glue or wood glue works best. After the glue sets, stash your best secrets in your new keyless combination box. Whenever you need access, let your fingers unlock the mysteries within.","text_raw":"Now\u2019s a good time to glue the locking bar mounting plate permanently to the lid. Hot glue or wood glue works best. After the glue sets, stash your best secrets in your new keyless combination box. Whenever you need access, let your fingers unlock the mysteries within.","bullet":"black","level":0}],"object":null,"images":[{"imageid":51658,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/LT5keElnSdGqSeRN"}],"number":10}],"subject":"","summary":"A wave of your finger opens this magic treasure chest.","time_required":"Example: 15 to 30 minutes","title":"Keyless Lock Box","tools":[{"text":"Florist tape (putty)","notes":"","url":"http:\/\/makeprojects.com\/Item\/Florist_tape_%28putty%29","thumbnail":""},{"text":"Flush cutters","notes":"for wire","url":"http:\/\/makeprojects.com\/Item\/Flush_cutters","thumbnail":""},{"text":"Hacksaw","notes":"","url":"http:\/\/makeprojects.com\/Item\/Hacksaw","thumbnail":""},{"text":"Hot glue gun and glue","notes":"low-temp glue recommended","url":"http:\/\/makeprojects.com\/Item\/Hot_glue_gun_and_glue","thumbnail":""},{"text":"Needlenose pliers","notes":"","url":"http:\/\/makeprojects.com\/Item\/Needlenose_pliers","thumbnail":""},{"text":"Screwdriver","notes":"","url":"http:\/\/makeprojects.com\/Item\/Screwdriver","thumbnail":""},{"text":"Solder","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=2062719","thumbnail":""},{"text":"Soldering pencil","notes":"","url":"http:\/\/makeprojects.com\/Item\/Soldering_pencil","thumbnail":""},{"text":"Step drill bit","notes":"e.g. 6&quot; to \u00bd&quot;","url":"http:\/\/makeprojects.com\/Item\/Step_drill_bit","thumbnail":""},{"text":"drill with drill bits","notes":"","url":"http:\/\/makeprojects.com\/Item\/drill_with_drill_bits","thumbnail":""}],"type":"project"},"guideid":"2700"}