{"device":"Wireless","url":"http:\/\/makeprojects.com\/Project\/Networked+On+Air+Light\/614\/1","guide":{"author":{"text":"Matt Richardson","userid":2583},"categories":["Wireless","Arduino"],"conclusion":"","difficulty":"Moderate","documents":[],"flags":[],"guideid":614,"image":{"imageid":10386,"text":"http:\/\/guide-images.makeprojects.org\/igi\/XDoHSEEhYYOVnAMX"},"introduction":"<p>You may have seen those &quot;On Air&quot; lights at film, radio or television studios. Now that anyone can broadcast video over the internet, it's time to learn how to build your own &quot;Now Streaming&quot; light that even wirelessly checks to see if you're streaming!<\/p>\n\n<p>This guide will show you how to:<\/p>\n\n<ul><li>Set up the <a href=\"http:\/\/www.faludi.com\/projects\/xbee-internet-gateway\/\" rel=\"nofollow\">XBee Internet Gateway<\/a><\/li><li>Connect your XBee to an Arduino to poll a web server for data<\/li><li>Use <a href=\"http:\/\/developer.ustream.tv\/docs\" rel=\"nofollow\">Ustream's API<\/a> to check if a channel is broadcasting<\/li><li>Use a relay to control an incandescent light fixture<\/li><li>Mount the light fixture a wood panel<\/li><\/ul>\n\n<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/xr5Na49FTS4?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div>","introduction_rendered":"<p>You may have seen those &quot;On Air&quot; lights at film, radio or television studios. Now that anyone can broadcast video over the internet, it's time to learn how to build your own &quot;Now Streaming&quot; light that even wirelessly checks to see if you're streaming!<\/p>\n\n<p>This guide will show you how to:<\/p>\n\n<ul><li>Set up the <a href=\"http:\/\/www.faludi.com\/projects\/xbee-internet-gateway\/\" rel=\"nofollow\">XBee Internet Gateway<\/a><\/li><li>Connect your XBee to an Arduino to poll a web server for data<\/li><li>Use <a href=\"http:\/\/developer.ustream.tv\/docs\" rel=\"nofollow\">Ustream's API<\/a> to check if a channel is broadcasting<\/li><li>Use a relay to control an incandescent light fixture<\/li><li>Mount the light fixture a wood panel<\/li><\/ul>\n\n<div class=\"videoBox_center\" style=\"width:592px;\"><iframe class=\"youtube-player\" type=\"text\/html\" width=\"560\" height=\"315\" src=\"http:\/\/www.youtube.com\/embed\/xr5Na49FTS4?wmode=opaque\" frameborder=\"0\"><\/iframe><\/div><div class=\"parts\"><strong>Relevant parts<\/strong><ul><li><a href=\"http:\/\/store.digi.com\/index.cfm?fuseaction=product.display&amp;amp;Product_ID=2403\">ConnectPort X2<\/a><\/li><li><a href=\"http:\/\/store.digi.com\/index.cfm?fuseaction=product.display&amp;amp;Product_ID=1099\">XBee Series 2 Wireless Module<\/a><\/li><li><a href=\"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4\">Arduino microcontroller<\/a><\/li><li><a href=\"http:\/\/www.sparkfun.com\/products\/9976\">XBee Shield<\/a><\/li><li><a href=\"http:\/\/www.homedepot.com\/h_d1\/N-5yc1v\/R-100648880\/h_d2\/ProductDisplay?storeId=10051&amp;amp;keyword=240236&amp;amp;jspStoreDir=hdus&amp;amp;Nu=P_PARENT_ID&amp;amp;navFlow=3&amp;amp;catalogId=10053&amp;amp;langId=-1&amp;amp;ddkey=Search\">Wall-Mount Oval Bulkhead Light<\/a><\/li><li><a href=\"http:\/\/www.sparkfun.com\/products\/9096\">Relay Circuit Board<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Cradled_Wood_Panel\">Cradled Wood Panel<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Peel_Stick_Vinyl_Letters\">Peel &amp;amp; Stick Vinyl Letters<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Lamp_cord\">Lamp cord<\/a><\/li><li><a href=\"http:\/\/www.homedepot.com\/h_d1\/N-5yc1v\/R-202518712\/h_d2\/ProductDisplay?langId=-1&amp;amp;storeId=10051&amp;amp;catalogId=10053\">Cube tap extension cord<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Velcro\">Velcro<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/Lightbulb\">Lightbulb<\/a><\/li><\/ul><\/div><div class=\"tools\"><strong>Tools<\/strong><ul><li><a href=\"http:\/\/makeprojects.com\/Item\/Rotary_Tool\">Rotary Tool<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619\">Soldering iron<\/a><\/li><li><a href=\"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3932543\">Wire cutter\/stripper<\/a><\/li><li><a href=\"http:\/\/makeprojects.com\/Item\/XBee_Adapter\">XBee Adapter<\/a><\/li><\/ul><\/div>","locale":"en","parts":[{"text":"ConnectPort X2","notes":"Be sure you&apos;re ordering part number X2-Z11-EC-A as there are a lot of variants on this product.","url":"http:\/\/store.digi.com\/index.cfm?fuseaction=product.display&amp;Product_ID=2403","thumbnail":""},{"text":"XBee Series 2 Wireless Module","notes":"There are lots of variants of this part. You can&apos;t go wrong with part number XB24-Z7WIT-004.","url":"http:\/\/store.digi.com\/index.cfm?fuseaction=product.display&amp;Product_ID=1099","thumbnail":""},{"text":"Arduino microcontroller","notes":"","url":"http:\/\/www.makershed.com\/ProductDetails.asp?ProductCode=MKSP4","thumbnail":""},{"text":"XBee Shield","notes":"Any other kind of XBee adapter will work. This one sits nicely on top of the Arduino.","url":"http:\/\/www.sparkfun.com\/products\/9976","thumbnail":""},{"text":"Wall-Mount Oval Bulkhead Light","notes":"Any wall-mount light will do. The style of this one goes nicely with this project.","url":"http:\/\/www.homedepot.com\/h_d1\/N-5yc1v\/R-100648880\/h_d2\/ProductDisplay?storeId=10051&amp;keyword=240236&amp;jspStoreDir=hdus&amp;Nu=P_PARENT_ID&amp;navFlow=3&amp;catalogId=10053&amp;langId=-1&amp;ddkey=Search","thumbnail":""},{"text":"Relay Circuit Board","notes":"Make your own or order a premade relay. Used to close the AC circuit using the digital pin of the Arduino.","url":"http:\/\/www.sparkfun.com\/products\/9096","thumbnail":""},{"text":"Cradled Wood Panel","notes":"Available at art supply stores near the canvases","url":"http:\/\/makeprojects.com\/Item\/Cradled_Wood_Panel","thumbnail":""},{"text":"Peel &amp; Stick Vinyl Letters","notes":"Can be found at an office supply or art supply store.","url":"http:\/\/makeprojects.com\/Item\/Peel_Stick_Vinyl_Letters","thumbnail":""},{"text":"Lamp cord","notes":"","url":"http:\/\/makeprojects.com\/Item\/Lamp_cord","thumbnail":""},{"text":"Cube tap extension cord","notes":"","url":"http:\/\/www.homedepot.com\/h_d1\/N-5yc1v\/R-202518712\/h_d2\/ProductDisplay?langId=-1&amp;storeId=10051&amp;catalogId=10053","thumbnail":""},{"text":"Velcro","notes":"Or use another mounting method such as standoffs or mounting tape.","url":"http:\/\/makeprojects.com\/Item\/Velcro","thumbnail":""},{"text":"Lightbulb","notes":"Look for &quot;party&quot; light bulbs","url":"http:\/\/makeprojects.com\/Item\/Lightbulb","thumbnail":""}],"prereqs":[],"steps":[{"title":"Mount the Light Fixture","lines":[{"text":"Using your rotary tool, cut a hole in the cradled panel for the light fixture's wires and pull the wires through to the back.","text_raw":"Using your rotary tool, cut a hole in the cradled panel for the light fixture's wires and pull the wires through to the back.","bullet":"black","level":0}],"object":null,"images":[{"imageid":10536,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/oNTMqglmUAXjCUJs"},{"imageid":10535,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/WKAdjnrZBwjai1PU"}],"number":1},{"title":"Connect the Relay in Line with the Light Fixture","lines":[{"text":"Solder one wire from the light fixture to the relay.","text_raw":"Solder one wire from the light fixture to the relay.","bullet":"black","level":0},{"text":"Cut the lamp cord to about 10 inches from the plug, split and trim the wires.","text_raw":"Cut the lamp cord to about 10 inches from the plug, split and trim the wires.","bullet":"black","level":0},{"text":"Connect one lamp cord wire to the relay and the other to the free lamp wire","text_raw":"Connect one lamp cord wire to the relay and the other to the free lamp wire","bullet":"black","level":0}],"object":null,"images":[{"imageid":10540,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/Snm6LyJa6tCRPJcc"}],"number":2},{"title":"Set Up the XBee Internet Gateway","lines":[{"text":"Download the <a href=\"http:\/\/code.google.com\/p\/xig\/downloads\/list\" rel=\"nofollow\">XBee Internet Gateway software<\/a>.","text_raw":"Download the [http:\/\/code.google.com\/p\/xig\/downloads\/list|XBee Internet Gateway software].","bullet":"black","level":0},{"text":"Use an Ethernet cable to conenct the ConnectPort X2 to your router. Determine its IP address by using the software on the CD included with the ConnectPort or by checking your router's log for the MAC address.","text_raw":"Use an Ethernet cable to conenct the ConnectPort X2 to your router. Determine its IP address by using the software on the CD included with the ConnectPort or by checking your router's log for the MAC address.","bullet":"black","level":0},{"text":"The ConnectPort X2's MAC address is printed on the bottom of the unit.","text_raw":"The ConnectPort X2's MAC address is printed on the bottom of the unit.","bullet":"icon_note","level":0},{"text":"Enter the ConnectPort's IP address into your web browser's location bar.","text_raw":"Enter the ConnectPort's IP address into your web browser's location bar.","bullet":"black","level":0},{"text":"Under the Python menu, upload the two XBee Internet Gateway files: <tt>xig.py<\/tt> and <tt>_xig.zip<\/tt>.","text_raw":"Under the Python menu, upload the two XBee Internet Gateway files: ``xig.py`` and ``_xig.zip``.","bullet":"black","level":0},{"text":"Click &quot;Auto-start settings&quot; and add <tt>xig.py<\/tt> and enable it. Apply those settings.","text_raw":"Click \"Auto-start settings\" and add ``xig.py`` and enable it. Apply those settings.","bullet":"black","level":0},{"text":"Under the Reboot menu, click &quot;Reboot.&quot;","text_raw":"Under the Reboot menu, click \"Reboot.\"","bullet":"black","level":0}],"object":null,"images":[{"imageid":10591,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1XDvgDpHtD4UviKC"},{"imageid":10593,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/s4Jn2tq3YrXpqaFV"}],"number":3},{"title":"Configure the XBee Radio","lines":[{"text":"Attach the XBee to the USB adapter and launch a terminal program such as <a href=\"http:\/\/freeware.the-meiers.org\/\" rel=\"nofollow\">CoolTerm<\/a>.","text_raw":"Attach the XBee to the USB adapter and launch a terminal program such as [http:\/\/freeware.the-meiers.org\/|CoolTerm].","bullet":"black","level":0},{"text":"Select the port that matches your USB adapter and select &quot;Local echo&quot; and click OK and then &quot;Connect.&quot;","text_raw":"Select the port that matches your USB adapter and select \"Local echo\" and click OK and then \"Connect.\"","bullet":"black","level":0},{"text":"In the terminal window, type &quot;+++&quot; to enter command mode. The modem will respond &quot;OK&quot;","text_raw":"In the terminal window, type \"+++\" to enter command mode. The modem will respond \"OK\"","bullet":"black","level":0},{"text":"Command mode is active for 10 seconds after you type &quot;+++&quot; or hit enter after an AT command. If you take too long, type the plus signs again to go back into command mode.","text_raw":"Command mode is active for 10 seconds after you type \"+++\" or hit enter after an AT command. If you take too long, type the plus signs again to go back into command mode.","bullet":"icon_note","level":0},{"text":"Type <tt>ATID AAAA<\/tt> to set the PAN ID to match your gateway. The modem will respond &quot;OK&quot;.","text_raw":"Type ``ATID AAAA`` to set the PAN ID to match your gateway. The modem will respond \"OK\".","bullet":"black","level":0},{"text":"Type <tt>ATDL 0<\/tt> to set the low byte of the  destination address to the ConnectPort X2, which is the coordinator of the network. Zigbee Network Coordinators always have the low address of 0. The modem will respond &quot;OK&quot;.","text_raw":"Type ``ATDL 0`` to set the low byte of the  destination address to the ConnectPort X2, which is the coordinator of the network. Zigbee Network Coordinators always have the low address of 0. The modem will respond \"OK\".","bullet":"black","level":0},{"text":"Type <tt>ATDH 0<\/tt> to set the high byte of the  destination address to the ConnectPort X2, which is the coordinator of the network. Zigbee Network Coordinators always have the high address of 0 The modem will respond &quot;OK&quot;.","text_raw":"Type ``ATDH 0`` to set the high byte of the  destination address to the ConnectPort X2, which is the coordinator of the network. Zigbee Network Coordinators always have the high address of 0 The modem will respond \"OK\".","bullet":"black","level":0}],"object":null,"images":[{"imageid":10543,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/P2qIlKGFRqYLsntn"}],"number":4},{"title":"Configure the XBee Radio, Continued","lines":[{"text":"Type <tt>ATBD 7<\/tt> and hit Enter to set the baud rate to 115200. The modem will respond &quot;OK&quot;.","text_raw":"Type ``ATBD 7`` and hit Enter to set the baud rate to 115200. The modem will respond \"OK\".","bullet":"black","level":0},{"text":"You can check any of the settings by typing the command without the parameter.","text_raw":"You can check any of the settings by typing the command without the parameter.","bullet":"icon_note","level":0},{"text":"When you've confirmed that the settings are correct, type <tt>ATWR<\/tt> to write the settings to the modem's flash memory.","text_raw":"When you've confirmed that the settings are correct, type ``ATWR`` to write the settings to the modem's flash memory.","bullet":"black","level":0},{"text":"Disconnect and reconnect at 115200 baud.","text_raw":"Disconnect and reconnect at 115200 baud.","bullet":"black","level":0},{"text":"Type <tt>help<\/tt>. The response should be information about the XBee Internet Gateway. If not, verify the ConenctPort and XBee settings.","text_raw":"Type ``help``. The response should be information about the XBee Internet Gateway. If not, verify the ConenctPort and XBee settings.","bullet":"black","level":0},{"text":"Type in a web address such as <tt><a href=\"http:\/\/www.google.com\/\" rel=\"nofollow\">http:\/\/www.google.com\/<\/a><\/tt> and hit Enter. If you see HTML, you've configured the XBee Internet Gateway correctly.","text_raw":"Type in a web address such as ``http:\/\/www.google.com\/`` and hit Enter. If you see HTML, you've configured the XBee Internet Gateway correctly.","bullet":"black","level":0}],"object":null,"images":[{"imageid":10542,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/vUq1a1qiUI5lIf4j"}],"number":5},{"title":"Set up the Arduino","lines":[{"text":"Insert the XBee into the XBee shield and put the XBee shield on the Arduino.","text_raw":"Insert the XBee into the XBee shield and put the XBee shield on the Arduino.","bullet":"black","level":0},{"text":"Upload <a href=\"http:\/\/code.google.com\/p\/makezine\/source\/browse\/trunk\/arduino\/on-air-light\/on-air-light.pde\" rel=\"nofollow\">the code<\/a>.","text_raw":"Upload [http:\/\/code.google.com\/p\/makezine\/source\/browse\/trunk\/arduino\/on-air-light\/on-air-light.pde|the code].","bullet":"black","level":0},{"text":"Connect the Arduino to the relay board.","text_raw":"Connect the Arduino to the relay board.","bullet":"black","level":0},{"text":"Using velcro, mount the components inside the panel.","text_raw":"Using velcro, mount the components inside the panel.","bullet":"black","level":0}],"object":null,"images":[{"imageid":10600,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/wRl6WXcleupOyhIJ"},{"imageid":10594,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/MZrLIdKU5PDs2BYh"}],"number":6},{"title":"Connect the power","lines":[{"text":"Connect the lamp cord and your 5V power adapter to the extension cord","text_raw":"Connect the lamp cord and your 5V power adapter to the extension cord","bullet":"black","level":0},{"text":"Connect the power to your Arduino.","text_raw":"Connect the power to your Arduino.","bullet":"black","level":0},{"text":"Create a notch in the bottom of the wood panel for the extension cord so that the panel can sit flush against the wall.","text_raw":"Create a notch in the bottom of the wood panel for the extension cord so that the panel can sit flush against the wall.","bullet":"black","level":0}],"object":null,"images":[{"imageid":10598,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/1y2teKRwrbH66jmb"}],"number":7},{"title":"Finishing Touches","lines":[{"text":"Insert red light bulb, replace glass fixture cover.","text_raw":"Insert red light bulb, replace glass fixture cover.","bullet":"black","level":0},{"text":"Use press-on letters to spell out &quot;On Air&quot; or whatever you want!","text_raw":"Use press-on letters to spell out \"On Air\" or whatever you want!","bullet":"black","level":0},{"text":"Add a hook to the back to mount the light on the wall.","text_raw":"Add a hook to the back to mount the light on the wall.","bullet":"black","level":0}],"object":null,"images":[{"imageid":10596,"orderby":1,"text":"http:\/\/guide-images.makeprojects.org\/igi\/MZhWgScDSvrftOLA"},{"imageid":10595,"orderby":2,"text":"http:\/\/guide-images.makeprojects.org\/igi\/2ZiVSfEvGEgoKCiw"}],"number":8}],"subject":"","summary":"Now that anyone can broadcast video over the Web, it's time to learn how to build your own \"Now Streaming\" light that checks to see if you're streaming!","time_required":"2 to 3 hours","title":"Networked On Air Light","tools":[{"text":"Rotary Tool","notes":"","url":"http:\/\/makeprojects.com\/Item\/Rotary_Tool","thumbnail":""},{"text":"Soldering iron","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3086619","thumbnail":""},{"text":"Wire cutter\/stripper","notes":"","url":"http:\/\/www.radioshack.com\/product\/index.jsp?productId=3932543","thumbnail":""},{"text":"XBee Adapter","notes":"For configuring your XBee radio. Many options available. Also can use your Arduino as a serial pass through.","url":"http:\/\/makeprojects.com\/Item\/XBee_Adapter","thumbnail":""}],"type":"project"},"guideid":"614"}